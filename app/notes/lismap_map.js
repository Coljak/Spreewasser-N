(function () {
  function r(e, n, t) {
    function o(i, f) {
      if (!n[i]) {
        if (!e[i]) {
          var c = "function" == typeof require && require;
          if (!f && c) return c(i, !0);
          if (u) return u(i, !0);
          var a = new Error("Cannot find module '" + i + "'");
          throw ((a.code = "MODULE_NOT_FOUND"), a);
        }
        var p = (n[i] = { exports: {} });
        e[i][0].call(
          p.exports,
          function (r) {
            var n = e[i][1][r];
            return o(n || r);
          },
          p,
          p.exports,
          r,
          e,
          n,
          t
        );
      }
      return n[i].exports;
    }
    for (
      var u = "function" == typeof require && require, i = 0;
      i < t.length;
      i++
    )
      o(t[i]);
    return o;
  }
  return r;
})()(
  {
    1: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.loadAHPData = loadAHPData;
        exports.removeLayerFromMap = removeLayerFromMap;
        var _map2 = require("./map");
        var _features = require("./features");
        var _chart = require("./chart");
        var _utils = require("./utils");
        function _slicedToArray(arr, i) {
          return (
            _arrayWithHoles(arr) ||
            _iterableToArrayLimit(arr, i) ||
            _nonIterableRest()
          );
        }
        function _nonIterableRest() {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance"
          );
        }
        function _iterableToArrayLimit(arr, i) {
          if (
            !(
              Symbol.iterator in Object(arr) ||
              Object.prototype.toString.call(arr) === "[object Arguments]"
            )
          ) {
            return;
          }
          var _arr = [];
          var _n = true;
          var _d = false;
          var _e = undefined;
          try {
            for (
              var _i = arr[Symbol.iterator](), _s;
              !(_n = (_s = _i.next()).done);
              _n = true
            ) {
              _arr.push(_s.value);
              if (i && _arr.length === i) break;
            }
          } catch (err) {
            _d = true;
            _e = err;
          } finally {
            try {
              if (!_n && _i["return"] != null) _i["return"]();
            } finally {
              if (_d) throw _e;
            }
          }
          return _arr;
        }
        function _arrayWithHoles(arr) {
          if (Array.isArray(arr)) return arr;
        }
        /*
Load AHP data from static file. Directory path is generated by Django template in map.html. A file called "files.json" is expected in the same folder where all files to display are listed with their options (for showData).
Build sidebar navigation in Digitalatlas module, containing various accordions.

This function is called once in the beginning from mapMain.
*/ function loadAHPData() {
          // get surrounding UL element to populate
          var accordion = document.getElementById("AHPAccordion");
          if (!_region.projectData || !accordion || _region.filesTask) return; // init accordion
          $("#AHPAccordion").accordion();
          var AHPFileName =
            _AHPFolder + "data/" + _region.projectData + "/files.json"; // fetch and decode file describing other file names
          fetch(AHPFileName, {
            credentials: "same-origin",
            headers: { "Content-Type": "application/json" },
          }).then(function (res) {
            if (!res.ok) return;
            res
              .json()
              .then(function (JSON) {
                // parse successful
                // add stylesheet (for custom markercluster)
                var style_elem = (0, _utils.addElem)(
                  null,
                  null,
                  document.head,
                  "STYLE"
                );
                style_elem.type = "text/css";
                var style = style_elem.sheet; // make year slider usable, add callbacks
                addYearSlider(JSON.years);
                var id_idx = 0; // current id of checkbox
                // accordion pages
                for (var c in JSON.categories) {
                  var category = JSON.categories[c];
                  var content = createAccordionItem(
                    accordion,
                    c,
                    category.options || {}
                  );
                  delete category.options; // populate entries in category
                  for (var e in category) {
                    // item in category
                    var entry = category[e];
                    entry.options = entry.options || {};
                    var griddiv = createEntryDiv(
                      entry,
                      e,
                      false,
                      entry.options
                    );
                    content.appendChild(griddiv);
                    createClusterColor(entry, id_idx, style); // create legend
                    var legend = void 0;
                    if (entry.options.legend) {
                      if (entry.options.legend.classes) {
                        legend = createNominalLegendObject(
                          entry.options.legend.classes
                        );
                      } else if (entry.options.potential) {
                        legend = createLegendObject(
                          chroma.brewer[entry.options.potential],
                          400,
                          40,
                          entry.options.legend.min,
                          entry.options.legend.max
                        );
                      } else {
                        if (_map2.DEBUG)
                          console.log("strange kind of legend...");
                      }
                    } // no subcategory: switch button (fancy checkbox)
                    if (!entry.subcategories) {
                      griddiv.appendChild(createSwitch(entry, id_idx, legend));
                      id_idx++;
                    } // add legend
                    if (legend) {
                      legend.activateFunc(false);
                      griddiv.appendChild(legend.elem);
                    } // subcategories for entry: individual labels+buttons
                    for (var s in entry.subcategories) {
                      var sub = entry.subcategories[s];
                      sub.options = sub.options || {};
                      var _griddiv = createEntryDiv(sub, s, true, sub.options);
                      content.appendChild(_griddiv); // try to create sub_legend before switch: subcategory may not have own legend
                      // append to griddiv AFTER switch
                      var sub_legend = void 0;
                      if (sub.options.legend && sub.options.potential) {
                        sub_legend = createLegendObject(
                          chroma.brewer[sub.options.potential],
                          380,
                          40,
                          sub.options.legend.min,
                          sub.options.legend.max
                        );
                      }
                      if (sub.options.legend) {
                        if (sub.options.legend.classes) {
                          sub_legend = createNominalLegendObject(
                            sub.options.legend.classes
                          );
                        } else if (sub.options.potential) {
                          sub_legend = createLegendObject(
                            chroma.brewer[sub.options.potential],
                            380,
                            40,
                            sub.options.legend.min,
                            sub.options.legend.max
                          );
                        } else {
                          if (_map2.DEBUG)
                            console.log("strange kind of legend...");
                        }
                      }
                      _griddiv.appendChild(
                        createSwitch(sub, id_idx, sub_legend || legend)
                      );
                      createClusterColor(sub, id_idx, style); // add legend
                      if (sub_legend) {
                        sub_legend.activateFunc(false);
                        _griddiv.appendChild(sub_legend.elem);
                      }
                      id_idx++;
                    }
                  }
                } // user-uploaded data
                // show accordion item: all, staff with staff access or staff with content
                var showUserdata =
                  JSON.userdata &&
                  (JSON.userdata == "all" ||
                    (JSON.userdata == "staff" &&
                      (_permissions["ðŸ¥–"] || _region.userFeatures.length > 0))); // show upload button: all, staff with staff access
                var showUserUpload =
                  JSON.userdata &&
                  (JSON.userdata == "all" ||
                    (JSON.userdata == "staff" && _permissions["ðŸ¥–"]));
                if (showUserdata) {
                  var _content = createAccordionItem(
                    accordion,
                    "Benutzerdefinierte Daten"
                  );
                  for (var i = 0; i < _region.userFeatures.length; i++) {
                    var feature = _region.userFeatures[i];
                    var _entry = {
                      GET: "customGeom/?id=" + feature.id,
                      field: "all",
                      options: { color: "#07689F" },
                    };
                    var _griddiv2 = createEntryDiv(
                      _entry,
                      feature.name,
                      false,
                      _entry.options
                    );
                    _content.appendChild(_griddiv2);
                    _griddiv2.appendChild(createSwitch(_entry, id_idx, null));
                    id_idx++;
                  }
                  if (showUserUpload) {
                    // add upload button
                    var uploadDiv = (0, _utils.addElem)(
                      "u-margin--s",
                      null,
                      _content,
                      "DIV"
                    );
                    var userUploadInp =
                      document.getElementById("userUploadInp");
                    var userUploadBtn = (0, _utils.addElem)(
                      "button btn btn--color",
                      "Datei hochladen",
                      uploadDiv,
                      "BUTTON"
                    );
                    userUploadBtn.onclick = function (_) {
                      return userUploadInp.click();
                    };
                    userUploadInp.onchange = function (_) {
                      (0, _utils.fetchPost)("customGeom/", "userUploadForm")
                        .then(function (res) {
                          return res.json();
                        })
                        .then(function (collection) {
                          if (collection.error) alert(collection.error);
                          else {
                            var _entry2 = {
                              GET: "customGeom/?id=" + collection.id,
                              default: true,
                              field: "all",
                              options: { color: "#07689F", fit: true },
                            };
                            var _griddiv3 = createEntryDiv(
                              _entry2,
                              collection.name,
                              false,
                              _entry2.options
                            );
                            _content.insertBefore(_griddiv3, uploadDiv);
                            _griddiv3.appendChild(
                              createSwitch(_entry2, id_idx, null)
                            );
                            id_idx++;
                          }
                        })
                        .catch(function (err) {
                          if (_map2.DEBUG) console.log(err);
                        });
                    };
                  }
                } // activate tab in sidebar
                var layerTab = document.getElementById("tab-layers");
                if (layerTab) {
                  layerTab.classList.remove("disabled-sidebar-tab");
                  var isActive = false;
                  for (
                    var _i = 0;
                    _i < layerTab.parentElement.children.length;
                    _i++
                  ) {
                    var sibling = layerTab.parentElement.children[_i];
                    isActive = isActive || sibling.classList.contains("active");
                  }
                  if (!isActive) {
                    // open sidebar tab if no other tab is open: simulate click on anchor
                    layerTab.firstElementChild.click();
                  }
                } // reset accordion
                var acc = $("#AHPAccordion"); // type: jQuery
                acc.on("accordionbeforeactivate", function (_event, ui) {
                  if (ui.oldHeader[0])
                    ui.oldHeader[0].parentNode.classList.remove("is-active");
                  if (ui.newHeader[0])
                    ui.newHeader[0].parentNode.classList.add("is-active");
                });
                acc.accordion({ heightStyle: "content", collapsible: true });
                acc.accordion("refresh");
                acc.accordion({ active: false });
                var show_switches = document.getElementsByClassName(
                  "switch-default-show"
                );
                for (var _i2 = 0; _i2 < show_switches.length; _i2++) {
                  show_switches[_i2].click();
                }
                var show_items = document.getElementsByClassName(
                  "accordion-item-default-open"
                );
                for (var _i3 = 0; _i3 < show_items.length; _i3++) {
                  show_items[_i3].click();
                }
              })
              .catch(function (e) {
                if (_map2.DEBUG) console.log(e);
              });
          });
          if (_permissions["ðŸ¥–"]) {
            // user has staff permission: fetch and decode general info file
            fetch(
              _AHPFolder + "data/" + _region.projectData + "/general.json",
              {
                credentials: "same-origin",
                headers: { "Content-Type": "application/json" },
              }
            ).then(function (res) {
              if (!res.ok) return;
              res
                .json()
                .then(function (JSON) {
                  // parse successful
                  var accordion = document.getElementById("infoAccordion");
                  $("#infoAccordion").accordion(); // iterate over general data
                  for (var k in JSON) {
                    if (!JSON.hasOwnProperty(k)) continue;
                    var v = JSON[k];
                    var accItem = createAccordionItem(accordion, k); // iterate over entries
                    var _loop = function _loop(i) {
                      var entry = v[i];
                      switch (entry.type) {
                        default:
                        case "text": // plain text: display text with title
                          var title = Object.keys(entry)
                            .filter(function (e) {
                              return e != "type";
                            })
                            .pop();
                          if (!title) break;
                          (0, _utils.addElem)(
                            "grid-x",
                            title + ": " + entry[title],
                            accItem,
                            "DIV"
                          );
                          break;
                        case "pie": // pie chart
                          // title of chart
                          var entryDiv = (0, _utils.addElem)(
                            "u-text--center",
                            entry.title,
                            accItem,
                            "DIV"
                          ); // container for chart
                          var chartDiv = document.createElement("DIV");
                          entryDiv.appendChild(chartDiv); // read data series
                          var series = Object.values(entry.data); // sum of entries
                          var total = series.reduce(function (a, c) {
                            return a + c;
                          }, 0);
                          if (!total) {
                            chartDiv.textContent = "Keine Angabe.";
                            break;
                          } // draw pie chart
                          // set static size of chart container
                          chartDiv.style.width = "250px";
                          chartDiv.style.height = "250px";
                          chartDiv.style.margin = "auto";
                          var chartData = {
                            labels: Object.keys(entry.data),
                            series: Object.entries(entry.data).map(function (
                              e
                            ) {
                              return { meta: e[0] + ":", value: e[1] };
                            }),
                          };
                          var chartOptions = {
                            // no label when slice < 10%
                            labelInterpolationFnc:
                              function labelInterpolationFnc(value) {
                                if (entry.data[value] / total > 0.1)
                                  return value;
                                else return null;
                              },
                            ignoreEmptyValues: true,
                            plugins: [
                              Chartist.plugins.tooltip({
                                anchorToPoint: false,
                                appendToBody: true,
                                class: "ct-tooltip",
                                currency: entry.unit,
                              }),
                            ],
                            width: "250px",
                            height: "250px", // otherwise, Chartist cannot set correct size because of hidden sidebar panel
                            // TODO: redraw chart dynamically on sidebar open (which event?)
                          };
                          new Chartist.Pie(chartDiv, chartData, chartOptions);
                          break;
                      }
                    };
                    for (var i = 0; i < v.length; i++) {
                      _loop(i);
                    }
                  } // show hidden sidebar tab
                  var infoTab = document.getElementById("tab-info");
                  if (infoTab) {
                    infoTab.style.display = "";
                    infoTab.classList.remove("disabled-sidebar-tab");
                  } // reset accordion
                  var acc = $("#infoAccordion");
                  acc.on("accordionbeforeactivate", function (_event, ui) {
                    if (ui.oldHeader[0])
                      ui.oldHeader[0].parentNode.classList.remove("is-active");
                    if (ui.newHeader[0])
                      ui.newHeader[0].parentNode.classList.add("is-active");
                  });
                  acc.accordion({ heightStyle: "content", collapsible: true });
                  acc.accordion("refresh");
                  acc.accordion({ active: false });
                })
                .catch(function (e) {
                  if (_map2.DEBUG) console.log(e);
                });
            });
          }
        } // Generate clickable accordion item with title.
        function createAccordionItem(accordion, name) {
          var options =
            arguments.length > 2 && arguments[2] !== undefined
              ? arguments[2]
              : {};
          var list = (0, _utils.addElem)(
            "accordion-item",
            null,
            accordion,
            "LI"
          );
          list.setAttribute("data-accordion-item", "");
          var a = (0, _utils.addElem)("accordion-title", name, list, "A");
          a.setAttribute("href", "#");
          if (options.openOnStart) {
            a.classList.add("accordion-item-default-open");
          }
          if (options.customClasses) {
            for (var i = 0; i < options.customClasses.length; i++) {
              list.classList.add(options.customClasses[i]);
            }
          }
          var content = (0, _utils.addElem)(
            "accordion-content",
            null,
            list,
            "DIV"
          );
          content.setAttribute("data-tab-content", "");
          return content;
        } // create entry
        // Output: grid DIV for elements
        function createEntryDiv(entry, name, isSub) {
          var options =
            arguments.length > 3 && arguments[3] !== undefined
              ? arguments[3]
              : {};
          var _a;
          var griddiv = (0, _utils.addElem)("grid-x", null, null, "DIV");
          var celldiv = (0, _utils.addElem)(
            "cell small-10 switch__label",
            null,
            griddiv,
            "DIV"
          );
          if (isSub) celldiv.classList.add("switch__label--sub");
          if (entry.options.indented) celldiv.classList.add("indented-entry"); // first item of sub: icon / colored div
          var icon = createIcon(entry);
          if (icon) celldiv.appendChild(icon); // name of entry
          if (
            (_a = options) === null || _a === void 0 ? void 0 : _a.titleIsHtml
          ) {
            var name_span = document.createElement("SPAN");
            name_span.innerHTML = name;
            celldiv.appendChild(document.createTextNode(" "));
            celldiv.appendChild(name_span);
            celldiv.appendChild(document.createTextNode(" "));
          } else {
            celldiv.appendChild(document.createTextNode(" " + name + " "));
          } // info circle
          if (entry.info) {
            var yearslider = document.getElementById("yearslider");
            var infoImg = document.createElement("I");
            infoImg.className = "icon ion-md-information-circle unselectable";
            infoImg.title =
              (yearslider ? entry.info[yearslider.value] : null) || entry.info;
            celldiv.appendChild(infoImg); // title may be year-dependent
            if (yearslider && entry.info instanceof Object) {
              yearslider.addEventListener("input", function (_) {
                // year dependent info. May not be specified for each year!
                infoImg.title =
                  (yearslider ? entry.info[yearslider.value] : null) ||
                  entry.info;
              });
            }
          }
          return griddiv;
        } // create icon for entry, based on entry options
        function createIcon(entry) {
          if (entry.options.icon) {
            var icon = entry.options.icon;
            if (icon.file instanceof Array) icon.file = icon.file[0]; // remove shadow - this removes shadow from map icon as well!
            // set path for images (also for icons on map)
            icon.file = _AHPFolder + "resources/" + icon.file;
            var img = document.createElement("IMG");
            img.src = icon.file;
            img.style.width = (icon.legendWidth || icon.width || 16) + "px";
            img.style.height = (icon.legendHeight || icon.height || 16) + "px";
            img.style.display = "inline-block";
            return img;
          } else if (entry.options.color) {
            var colorDiv = document.createElement("DIV");
            colorDiv.style.display = "inline-block";
            colorDiv.style.width = "1rem";
            colorDiv.style.height = "1rem";
            colorDiv.style.backgroundColor = entry.options.color;
            return colorDiv;
          } else if (entry.options.potential) {
            var gradientDiv = document.createElement("DIV");
            var colorMap = chroma.brewer[entry.options.potential];
            gradientDiv.style.width = "1rem";
            gradientDiv.style.height = "1rem";
            gradientDiv.style.display = "inline-block";
            gradientDiv.style.background = (0, _utils.colormapToCSSGradient)(
              colorMap,
              "to top"
            );
            return gradientDiv;
          } else if (entry.options.heat) {
            var heatDiv = document.createElement("DIV");
            var colormap_select = document.getElementById("colormap-select");
            var _colorMap = chroma.brewer[colormap_select.value];
            heatDiv.style.width = "1rem";
            heatDiv.style.height = "1rem";
            heatDiv.style.display = "inline-block";
            heatDiv.style.background = (0, _utils.colormapToCSSGradient)(
              _colorMap,
              "to top"
            );
            return heatDiv;
          }
          return null;
        } // create fancy switch button (DIV with button and special label)
        function createSwitch(entry, idx, legend) {
          var cell2div = (0, _utils.addElem)(
            "cell small-2 switch__checkbox unselectable",
            null,
            null,
            "DIV"
          );
          var switchdiv = (0, _utils.addElem)(
            "switch tiny unselectable",
            null,
            cell2div,
            "DIV"
          );
          var input = (0, _utils.addElem)(
            "switch-input unselectable",
            null,
            switchdiv,
            "INPUT"
          );
          input.setAttribute("type", "checkbox");
          input.setAttribute("name", "id_" + idx);
          input.setAttribute("id", "id_" + idx); // used to reference associated data
          var label = (0, _utils.addElem)(
            "switch-paddle unselectable",
            null,
            switchdiv,
            "LABEL"
          );
          label.setAttribute("for", "id_" + idx);
          if (entry.file === "none") {
            input.setAttribute("disabled", "");
            label.style.cursor = "not-allowed";
            label.classList.add("switch-paddle-deactivated");
          }
          if (entry.show) {
            input.classList.add("switch-default-show");
          }
          if (legend) _AHPLegends[input.id] = legend;
          if (entry.default) addToMap(entry, input);
          input.onchange = function (_) {
            // toggle display of layer
            if (input.checked) {
              addToMap(entry, input);
            } else {
              removeLayerFromMap(input);
            }
          };
          return cell2div;
        } // add chroma colors to style sheet with custom rule names
        function createClusterColor(entry, idx, style) {
          if (entry.options && entry.options.clusterColor) {
            var bg1 =
              "rgba(" +
              chroma(entry.options.clusterColor["background-color"])
                .alpha(0.5)
                .rgba()
                .toString() +
              ")";
            var bg2 =
              "rgba(" +
              chroma(entry.options.clusterColor["background-color"])
                .alpha(0.85)
                .rgba()
                .toString() +
              ")";
            style.insertRule(
              ".marker-cluster-" +
                idx +
                " {color: " +
                entry.options.clusterColor.color +
                "; background-color: " +
                bg1 +
                ";}"
            );
            style.insertRule(
              ".marker-cluster-" + idx + " div {background-color: " + bg2 + ";}"
            );
            entry.options.clusterClass = "marker-cluster-" + idx;
          }
        }
        /*
Build HTML colormap legend with ticks. This element can be toggled on and off.

Inputs:
    colormapArr: array with HTML colors ("#rrggbb")
    width:  width of legend in pixels
    height: height of legend in pixels
    minVal: minimum legend value
    maxVal: maximum legend value
Outputs:
    activateFunc: function to toggle legend on and off
    elem: generated legend object
*/ function createLegendObject(colormapArr, width, height, minVal, maxVal) {
          var gradientOffset = 10;
          var gradientWidth = width - gradientOffset * 2 - 8;
          var gradientHeight = 14;
          var canv = (0, _utils.addElem)(
            "canvas-colormap-legend",
            null,
            null,
            "CANVAS"
          );
          var ctx = canv.getContext("2d");
          canv.width = width;
          canv.height = height;
          var activate = function activate(active) {
            ctx.clearRect(0, 0, width, height); // draw gradient
            if (active) {
              var gradient = ctx.createLinearGradient(
                gradientOffset,
                0,
                gradientWidth + gradientOffset,
                0
              );
              for (var i = 0; i < colormapArr.length; i++) {
                gradient.addColorStop(
                  i / (colormapArr.length - 1.0),
                  "rgba(" + chroma(colormapArr[i]).rgba().toString() + ")"
                );
              }
              ctx.fillStyle = gradient;
              ctx.fillRect(gradientOffset, 0, gradientWidth, gradientHeight);
            } else {
              ctx.fillStyle = "rgba(0, 0, 0, 0.1)";
              ctx.fillRect(gradientOffset, 0, gradientWidth, gradientHeight);
            } // draw ticks
            {
              var minTickDist = 20;
              var diffVal = maxVal - minVal;
              var valPerPx = diffVal / gradientWidth;
              var log10 = Math.log(minTickDist * valPerPx) / Math.log(10);
              var scale = Math.ceil(log10);
              var step = Math.pow(10.0, scale);
              var smallStep = step * 0.1;
              var numSmallTicks = 10;
              if (smallStep * (1.0 / valPerPx) < 5) {
                smallStep = step * 0.5;
                numSmallTicks = 2;
              }
              if (active) {
                ctx.fillStyle = "#000000";
                ctx.strokeStyle = "#000000";
              } else {
                ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
                ctx.strokeStyle = "rgba(0, 0, 0, 0.5)";
              }
              ctx.textBaseline = "top"; // big ticks
              var bigTstartVal = Math.trunc(minVal / step) * step;
              {
                var x = 0.0;
                var _i4 = 0;
                var last_text_end = -100.0;
                while (x < gradientWidth + gradientOffset && _i4 < 100) {
                  var value = bigTstartVal + step * _i4;
                  x = gradientOffset + (value - minVal) * (1.0 / valPerPx);
                  if (
                    x >= gradientOffset &&
                    x <= gradientOffset + gradientWidth
                  ) {
                    ctx.beginPath();
                    ctx.moveTo(x, 14);
                    ctx.lineTo(x, 24);
                    ctx.stroke();
                    var text =
                      "" +
                      (scale >= 0
                        ? Math.round(value)
                        : (0, _utils.roundToStr)(value, -scale));
                    var textm = ctx.measureText(text);
                    var textx = Math.max(0.0, x - textm.width * 0.5);
                    if (textx >= last_text_end + 4) {
                      ctx.fillText(text, textx, 26);
                      last_text_end = textx + textm.width;
                    }
                  }
                  _i4++;
                }
              } // small ticks
              var smallTstartVal = bigTstartVal - step;
              {
                var _x = 0.0;
                var _i5 = 0;
                while (_x < gradientWidth + gradientOffset && _i5 < 300) {
                  var v = smallTstartVal + smallStep * _i5;
                  _x = gradientOffset + (v - minVal) * (1.0 / valPerPx);
                  if (
                    _i5 % numSmallTicks != 0 &&
                    _x >= gradientOffset &&
                    _x <= gradientOffset + gradientWidth
                  ) {
                    ctx.beginPath();
                    ctx.moveTo(_x, 14);
                    ctx.lineTo(_x, 18);
                    ctx.stroke();
                  }
                  _i5++;
                }
              }
            }
          };
          return { activateFunc: activate, elem: canv };
        }
        /*
Create legend with names instead of numbers.

Input:
    classes: dictionary object with color (HTML) and name keys for each member
Output:
    activateFunc: function to toggle legend on and off
    elem: created legend HTML object
*/ function createNominalLegendObject(classes) {
          var ul = (0, _utils.addElem)("nominal-legend", null, null, "UL");
          ul.style.display = "none";
          for (var i = 0; i < classes.length; i++) {
            var li = (0, _utils.addElem)(null, null, ul, "LI");
            {
              var colorDiv = (0, _utils.addElem)(null, null, li, "DIV");
              colorDiv.style.display = "inline-block";
              colorDiv.style.width = "1rem";
              colorDiv.style.height = "1rem";
              colorDiv.style.backgroundColor = classes[i].color;
            }
            (0, _utils.addElem)(null, classes[i].name, li, "SPAN");
          }
          var activate = function activate(active) {
            ul.style.display = active ? "" : "none";
          };
          return { activateFunc: activate, elem: ul };
        }
        /*
Add layer to map.
First time: build layer. Otherwise, re-add layer to map from _AHPlayers (dict by input id).
Layer may depend on timeslider (color, tooltip)

Inputs:
    entry: object loaded from json file.
    input: toggle switch HTML element
No output.
*/ function addToMap(entry, input) {
          var _a, _b;
          input.disabled = true;
          var checkInput = function checkInput() {
            input.checked = true;
            input.disabled = false;
            if (_AHPLegends[input.id]) {
              _AHPLegends[input.id].activateFunc(true);
            }
          }; // hide previous layer of exclusive group
          var group = entry.exclusiveGroup;
          if (group) {
            if (_AHPExclusiveGroups[group]) {
              // hide old layer
              var old_input = document.getElementById(
                _AHPExclusiveGroups[group]
              );
              removeLayerFromMap(old_input);
            }
            _AHPExclusiveGroups[group] = input.id;
          } // get yearslider, so user inputs can be detected
          var yearslider = document.getElementById("yearslider");
          if (!_AHPLayers[input.id]) {
            // not loaded before: get data
            // If a tile layer is available -> Do not load the geojson file, just add this tile layer.
            if (entry.tileLayer || entry.tileLayerYears) {
              // get absolute path for tile URL
              var abs_tile_url = function abs_tile_url(path) {
                if (path.startsWith("https://") || path.startsWith("http://")) {
                  return path;
                } else {
                  return (
                    _AHPFolder + "data/" + _region.projectData + "/" + path
                  );
                }
              };
              var tileUrl;
              if (
                yearslider &&
                entry.tileLayerYears &&
                entry.tileLayerYears[yearslider.value]
              ) {
                tileUrl = abs_tile_url(entry.tileLayerYears[yearslider.value]);
              } else {
                tileUrl = abs_tile_url(entry.tileLayer);
              }
              var pane_id = "tilepane_" + input.id;
              _map.createPane(pane_id);
              _map.getPane(pane_id).style.zIndex =
                450 +
                (((_a = entry.options) === null || _a === void 0
                  ? void 0
                  : _a.zIndexOffset) || 0);
              _map.getPane(pane_id).style.pointerEvents = "none";
              _map.getPane(pane_id).style["mix-blend-mode"] =
                ((_b = entry.options) === null || _b === void 0
                  ? void 0
                  : _b.mixBlendMode) || "normal";
              var layer = L.tileLayer(tileUrl, {
                attribution: "",
                maxZoom: Math.min(18, _map2.MAX_ZOOM),
                pane: pane_id, //bounds: L.polyline(_region.geom.coordinates).getBounds()
              }).addTo(_map); // save absolute tile URLs for each year in layer object
              if (entry.tileLayerYears) {
                var tile_urls = {};
                for (var key in entry.tileLayerYears) {
                  tile_urls[key] = abs_tile_url(entry.tileLayerYears[key]);
                }
                layer.tileLayerYears = tile_urls;
                layer.isYearLayer = true; // yearslider change: update layer URL if year dependent
                if (yearslider) {
                  yearslider.parentElement.classList.remove("invisible");
                  yearslider.addEventListener("input", function (_) {
                    var year = yearslider.value;
                    if (
                      layer.tileLayerYears[year] &&
                      layer._url !== layer.tileLayerYears[year]
                    ) {
                      layer._url = layer.tileLayerYears[year];
                      layer.redraw();
                    }
                  });
                }
              }
              _AHPLayers[input.id] = layer; // set checkbox
              checkInput();
              return;
            } // flatten structure and append leaves to the given array.
            //
            // flat_extend([], 23) === [23]
            // flat_extend([], [23, 100]) === [23, 100]
            // flat_extend([], [23, {'x': 42, 'y': [17, 2]}]) === [23, 42, 17, 2]
            var flat_extend = function flat_extend(arr, other) {
              if (other instanceof Array) {
                var _iteratorNormalCompletion = true;
                var _didIteratorError = false;
                var _iteratorError = undefined;
                try {
                  for (
                    var _iterator = other[Symbol.iterator](), _step;
                    !(_iteratorNormalCompletion = (_step = _iterator.next())
                      .done);
                    _iteratorNormalCompletion = true
                  ) {
                    var x = _step.value;
                    arr = flat_extend(arr, x);
                  }
                } catch (err) {
                  _didIteratorError = true;
                  _iteratorError = err;
                } finally {
                  try {
                    if (
                      !_iteratorNormalCompletion &&
                      _iterator.return != null
                    ) {
                      _iterator.return();
                    }
                  } finally {
                    if (_didIteratorError) {
                      throw _iteratorError;
                    }
                  }
                }
              } else if (other instanceof Object) {
                for (
                  var _i6 = 0, _Object$values = Object.values(other);
                  _i6 < _Object$values.length;
                  _i6++
                ) {
                  var val = _Object$values[_i6];
                  arr = flat_extend(arr, val);
                }
              } else {
                arr.push(other);
              }
              return arr;
            }; // not shown on map before -> create new layer
            loadAHPEntry(entry)
              .then(function (json) {
                input.disabled = false;
                var data = json.data;
                var options = json.options;
                var field = entry.field || entry.years;
                var find_current_year = function find_current_year() {
                  var year = null;
                  if (yearslider.value in entry.years) {
                    year = yearslider.value;
                  } else {
                    // find last year that is <= slider value
                    for (
                      var _i7 = 0, _Object$keys = Object.keys(entry.years);
                      _i7 < _Object$keys.length;
                      _i7++
                    ) {
                      var y = _Object$keys[_i7];
                      if (parseInt(y) <= parseInt(yearslider.value)) {
                        year = y;
                      }
                    }
                  }
                  return year;
                };
                if (options.potential) {
                  // potential: get relevant field. May be dependent on timeslider
                  try {
                    // Find min and max value of all features and all fields
                    var fields = flat_extend([], field);
                    var min = entry.min || 0;
                    var max = entry.max || 0;
                    var _iteratorNormalCompletion2 = true;
                    var _didIteratorError2 = false;
                    var _iteratorError2 = undefined;
                    try {
                      for (
                        var _iterator2 = data.features[Symbol.iterator](),
                          _step2;
                        !(_iteratorNormalCompletion2 = (_step2 =
                          _iterator2.next()).done);
                        _iteratorNormalCompletion2 = true
                      ) {
                        var _feat4 = _step2.value;
                        var _iteratorNormalCompletion7 = true;
                        var _didIteratorError7 = false;
                        var _iteratorError7 = undefined;
                        try {
                          for (
                            var _iterator7 = fields[Symbol.iterator](), _step7;
                            !(_iteratorNormalCompletion7 = (_step7 =
                              _iterator7.next()).done);
                            _iteratorNormalCompletion7 = true
                          ) {
                            var _f2 = _step7.value;
                            min = (0, _utils.safeMin)(
                              min,
                              _feat4.properties[_f2]
                            );
                            max = (0, _utils.safeMax)(
                              max,
                              _feat4.properties[_f2]
                            );
                          }
                        } catch (err) {
                          _didIteratorError7 = true;
                          _iteratorError7 = err;
                        } finally {
                          try {
                            if (
                              !_iteratorNormalCompletion7 &&
                              _iterator7.return != null
                            ) {
                              _iterator7.return();
                            }
                          } finally {
                            if (_didIteratorError7) {
                              throw _iteratorError7;
                            }
                          }
                        }
                      } // Set potential value for each feature.
                      // Differentiate between combinations of years availabe and potential2d.
                    } catch (err) {
                      _didIteratorError2 = true;
                      _iteratorError2 = err;
                    } finally {
                      try {
                        if (
                          !_iteratorNormalCompletion2 &&
                          _iterator2.return != null
                        ) {
                          _iterator2.return();
                        }
                      } finally {
                        if (_didIteratorError2) {
                          throw _iteratorError2;
                        }
                      }
                    }
                    var scale = 1.0 / (max - min);
                    if (field instanceof Array && options.potential2d) {
                      // field: potential2d
                      var _iteratorNormalCompletion3 = true;
                      var _didIteratorError3 = false;
                      var _iteratorError3 = undefined;
                      try {
                        for (
                          var _iterator3 = data.features[Symbol.iterator](),
                            _step3;
                          !(_iteratorNormalCompletion3 = (_step3 =
                            _iterator3.next()).done);
                          _iteratorNormalCompletion3 = true
                        ) {
                          var feat = _step3.value;
                          feat.properties.potential = {};
                          feat.properties.potential[field[0]] =
                            (feat.properties[field[0]] - min) * scale;
                          feat.properties.potential[field[1]] =
                            (feat.properties[field[1]] - min) * scale;
                        }
                      } catch (err) {
                        _didIteratorError3 = true;
                        _iteratorError3 = err;
                      } finally {
                        try {
                          if (
                            !_iteratorNormalCompletion3 &&
                            _iterator3.return != null
                          ) {
                            _iterator3.return();
                          }
                        } finally {
                          if (_didIteratorError3) {
                            throw _iteratorError3;
                          }
                        }
                      }
                    } else if (typeof field === "string") {
                      // field: simple field
                      var _iteratorNormalCompletion4 = true;
                      var _didIteratorError4 = false;
                      var _iteratorError4 = undefined;
                      try {
                        for (
                          var _iterator4 = data.features[Symbol.iterator](),
                            _step4;
                          !(_iteratorNormalCompletion4 = (_step4 =
                            _iterator4.next()).done);
                          _iteratorNormalCompletion4 = true
                        ) {
                          var _feat = _step4.value;
                          _feat.properties.potential = {};
                          _feat.properties.potential[field] =
                            (_feat.properties[field] - min) * scale;
                        }
                      } catch (err) {
                        _didIteratorError4 = true;
                        _iteratorError4 = err;
                      } finally {
                        try {
                          if (
                            !_iteratorNormalCompletion4 &&
                            _iterator4.return != null
                          ) {
                            _iterator4.return();
                          }
                        } finally {
                          if (_didIteratorError4) {
                            throw _iteratorError4;
                          }
                        }
                      }
                    } else if (field instanceof Object && options.potential2d) {
                      // field: yearslider + potential2d
                      var _iteratorNormalCompletion5 = true;
                      var _didIteratorError5 = false;
                      var _iteratorError5 = undefined;
                      try {
                        for (
                          var _iterator5 = data.features[Symbol.iterator](),
                            _step5;
                          !(_iteratorNormalCompletion5 = (_step5 =
                            _iterator5.next()).done);
                          _iteratorNormalCompletion5 = true
                        ) {
                          var _feat2 = _step5.value;
                          _feat2.properties.potential = {};
                          for (
                            var _i8 = 0,
                              _Object$entries = Object.entries(field);
                            _i8 < _Object$entries.length;
                            _i8++
                          ) {
                            var _Object$entries$_i = _slicedToArray(
                                _Object$entries[_i8],
                                2
                              ),
                              year = _Object$entries$_i[0],
                              f = _Object$entries$_i[1];
                            var a = _feat2.properties[f[0]];
                            var b = _feat2.properties[f[1]];
                            if (a !== null && b != null) {
                              _feat2.properties.potential[year] = [
                                (a - min) * scale,
                                (b - min) * scale,
                              ];
                            } else {
                              _feat2.properties.potential[year] = [
                                a || undefined,
                                b || undefined,
                              ];
                            }
                          }
                        }
                      } catch (err) {
                        _didIteratorError5 = true;
                        _iteratorError5 = err;
                      } finally {
                        try {
                          if (
                            !_iteratorNormalCompletion5 &&
                            _iterator5.return != null
                          ) {
                            _iterator5.return();
                          }
                        } finally {
                          if (_didIteratorError5) {
                            throw _iteratorError5;
                          }
                        }
                      }
                    } else if (field instanceof Object) {
                      // field: yearslider without potential2d
                      var _iteratorNormalCompletion6 = true;
                      var _didIteratorError6 = false;
                      var _iteratorError6 = undefined;
                      try {
                        for (
                          var _iterator6 = data.features[Symbol.iterator](),
                            _step6;
                          !(_iteratorNormalCompletion6 = (_step6 =
                            _iterator6.next()).done);
                          _iteratorNormalCompletion6 = true
                        ) {
                          var _feat3 = _step6.value;
                          _feat3.properties.potential = {};
                          for (
                            var _i9 = 0,
                              _Object$entries2 = Object.entries(field);
                            _i9 < _Object$entries2.length;
                            _i9++
                          ) {
                            var _Object$entries2$_i = _slicedToArray(
                                _Object$entries2[_i9],
                                2
                              ),
                              _year = _Object$entries2$_i[0],
                              _f = _Object$entries2$_i[1];
                            var val = _feat3.properties[_f];
                            if (val !== null) {
                              _feat3.properties.potential[_year] =
                                (val - min) * scale;
                            } else {
                              _feat3.properties.potential[_year] = undefined;
                            }
                          }
                        }
                      } catch (err) {
                        _didIteratorError6 = true;
                        _iteratorError6 = err;
                      } finally {
                        try {
                          if (
                            !_iteratorNormalCompletion6 &&
                            _iterator6.return != null
                          ) {
                            _iterator6.return();
                          }
                        } finally {
                          if (_didIteratorError6) {
                            throw _iteratorError6;
                          }
                        }
                      }
                    }
                    if (yearslider && field instanceof Object) {
                      // get selected year
                      field = find_current_year();
                    }
                  } catch (e) {
                    if (_map2.DEBUG) console.log(e);
                  } // write gradient color to feature, depending on scaled potential
                  var scale2d = chroma
                    .scale(["#4392d3", "#5add46", "#f8c621"])
                    .nodata("rgba(255, 255, 255, 0.0)")
                    .mode("lab");
                  var scale2dcolor = function scale2dcolor(x, y) {
                    // make sure to handle null and undefined correctly
                    var sum = (x || 0) + (y || 0);
                    var t = 0;
                    if (x) {
                      t = x / sum;
                    } else if (y) {
                      t = 1 - y / sum;
                    } else {
                      t = null;
                    }
                    var col = scale2d(t).hex(); // linear scale -> log scale. Seems to work with sum=0
                    var log_sum = Math.min(1 / (1 - Math.log10(sum)), 1);
                    var w = chroma
                      .scale(["rgba(255, 255, 255, 0.0)", col])
                      .mode("lab");
                    return w(log_sum);
                  };
                  var colorScale = chroma.scale(
                    chroma.brewer[options.potential]
                  );
                  data.features.map(function (d) {
                    var t = d.properties.potential[field];
                    if (options.potential2d) {
                      var colorStr =
                        "rgba(" + scale2dcolor(t[0], t[1]).rgba() + ")";
                      d.properties.color = colorStr;
                    } else {
                      // color gradients
                      var _colorStr =
                        "rgba(" + colorScale(t).alpha(0.7).rgba() + ")";
                      d.properties.color = _colorStr;
                    }
                  });
                  if (yearslider) {
                    // yearslider change: update layer color
                    yearslider.addEventListener("input", function (_) {
                      var year = find_current_year(); // at this point, the layer must have been added to map
                      var layer = _AHPLayers[input.id];
                      layer.eachLayer(function (l) {
                        if (
                          l &&
                          l.properties &&
                          l.properties.potential &&
                          colorScale
                        ) {
                          // potential is dependent on year
                          if (!(year in l.properties.potential)) return;
                          var t = l.properties.potential[year];
                          if (options.potential2d) {
                            var colorStr =
                              "rgba(" + scale2dcolor(t[0], t[1]).rgba() + ")";
                            if (l.setStyle) {
                              l.setStyle({
                                color: colorStr,
                                fillColor: colorStr,
                              });
                              l.redraw();
                            } else if (l.getElement && l.getElement()) {
                              l.getElement().firstChild.style.backgroundColor =
                                colorStr;
                            }
                          } else {
                            var _colorStr2 =
                              "rgba(" + colorScale(t).alpha(0.7).rgba() + ")";
                            if (l.setStyle) {
                              l.setStyle({
                                color: _colorStr2,
                                fillColor: _colorStr2,
                              });
                              l.redraw();
                            } else if (l.getElement && l.getElement()) {
                              l.getElement().firstChild.style.backgroundColor =
                                _colorStr2;
                            }
                          }
                        }
                      });
                    });
                  }
                }
                if (options.heat && !options.heatmax) {
                  options.heatmax = data.features.reduce(function (acc, cur) {
                    return Math.max(acc, cur.properties[options.heat]);
                  }, 0.0);
                }
                var layer = (0, _features.showData)(
                  data.features,
                  json.options
                );
                if (
                  yearslider &&
                  entry.years &&
                  entry.years instanceof Object
                ) {
                  layer.isYearLayer = true;
                  yearslider.parentElement.classList.remove("invisible"); // layer tooltips may be dependent on year
                  yearslider.addEventListener("input", function (_) {
                    var year = find_current_year();
                    layer.eachLayer(function (l) {
                      if (
                        l.properties &&
                        l.properties.descByYear &&
                        typeof l.properties.descByYear[year] !== "undefined"
                      ) {
                        // marker= popup, polygons: tooltip
                        l.setTooltipContent(l.properties.descByYear[year]);
                        l.setPopupContent(l.properties.descByYear[year]);
                      }
                    });
                  });
                }
                _AHPLayers[input.id] = layer; //if (options.heat)
                //_heatLayer = _AHPLayers[input.id];
                // set checkbox
                checkInput();
              })
              .catch(function (error) {
                if (_map2.DEBUG) console.log(error);
              });
          } else {
            // layer has been loaded before: re-add to map
            var _layer = _AHPLayers[input.id];
            if (yearslider && _layer.isYearLayer)
              yearslider.parentElement.classList.remove("invisible");
            _map.addLayer(_layer); // set checkbox
            checkInput();
          }
        } // remove layer from map
        // input: toggle switch HTML element with specific ID
        function removeLayerFromMap(input) {
          var layer = _AHPLayers[input.id];
          if (layer) _map.removeLayer(layer); // uncheck checkbox
          input.checked = false; // hide yearslider if no active year layer
          var yearslider = document.getElementById("yearslider");
          if (yearslider) {
            var yearslider_visible = Object.values(_AHPLayers).reduce(function (
              acc,
              l
            ) {
              return acc || (l && l.isYearLayer && _map.hasLayer(l));
            },
            false);
            if (yearslider_visible)
              yearslider.parentElement.classList.remove("invisible");
            else yearslider.parentElement.classList.add("invisible");
          } // disable legend if no other active element depends on it
          if (_AHPLegends[input.id]) {
            var legend = _AHPLegends[input.id].elem;
            var hideLegend = Object.entries(_AHPLegends).reduce(function (
              acc,
              cur
            ) {
              var curLegend = cur[1].elem;
              var item = document.getElementById(cur[0]);
              return acc || (curLegend === legend && item.checked);
            },
            false);
            _AHPLegends[input.id].activateFunc(hideLegend);
          }
        } // add data layer to map
        // called when selecting item from sidebar.
        // may be data from file or from server (fetched with GET request).
        // build description of each item.
        function loadAHPEntry(entry) {
          var p = new Promise(function (resolve, reject) {
            var to_fetch = "";
            if (entry.file)
              to_fetch =
                _AHPFolder +
                "data/" +
                _region.projectData +
                "/data/" +
                entry.file;
            if (entry.GET) {
              to_fetch = entry.GET;
              var spinner = document.getElementById("map-spinner");
              if (spinner) spinner.style.visibility = "visible";
            } //if(to_fetch.length == 0)
            //throw new Error("No source specified");
            // load individual AHP entry from file: read out data
            fetch(to_fetch, {
              credentials: "same-origin",
              headers: { "Content-Type": "application/json" },
            })
              .then(function (res) {
                return res.json();
              }) // parse file
              .then(function (data) {
                // get display options
                var options = entry.options || {}; // fix icon path
                //if(options.icon)
                //options.icon.file = _AHPFolder + 'markers/' + options.icon.file;
                options.name = ""; // don't show in layer selection
                // prepare layers for display on map
                data.features.map(function (d) {
                  //if(DEBUG) console.log(d);
                  // fix feature geom (lnglat->latlng), write info to description
                  (0, _features.reverseCoordinates)(d.geometry); // convert property (any type) to description string with
                  // optional unit
                  var prop_to_str = function prop_to_str(prop) {
                    var unit =
                      arguments.length > 1 && arguments[1] !== undefined
                        ? arguments[1]
                        : null;
                    if (prop === null || typeof prop === "undefined") {
                      return "k.A.";
                    } else if (typeof unit === "string") {
                      return "" + prop + " " + unit;
                    } else {
                      return "" + prop;
                    }
                  }; // field: for mouseover text. may be single field, dictionary or "all"
                  // descFields: Analogous to 'field' but strictly for displaying the description. If it is present it overrides 'field'.
                  // chartFields: Analogous to 'descFields' but only for charts. If present overrides other two.
                  // order of importance
                  var fields =
                    entry.chartFields || entry.descFields || entry.field;
                  if (fields) {
                    // Render a description table row
                    var get_table_row = function get_table_row(key, value) {
                      var unit =
                        entry.units && entry.units[key] ? entry.units[key] : "";
                      return (
                        "<tr><td><b>" +
                        key +
                        '</b></td><td style="word-break: break-word;">' +
                        prop_to_str(value, unit) +
                        "</td></tr>"
                      );
                    };
                    var desc = ""; // special case all: get all property keys
                    if (fields == "all") {
                      for (var _p in d.properties) {
                        desc += get_table_row(_p, d.properties[_p]);
                      }
                    } else if (fields instanceof Array) {
                      for (var i = 0; i < fields.length; i++) {
                        desc += get_table_row(
                          fields[i],
                          d.properties[fields[i]]
                        );
                      }
                    } else if (fields instanceof Object) {
                      // dictionary: build table from field items
                      for (var key in fields) {
                        desc += get_table_row(key, d.properties[fields[key]]);
                      }
                    } else {
                      // single entry
                      desc += get_table_row(fields, d.properties[fields]);
                    }
                    if (desc) {
                      d.properties.desc =
                        '<table style="width:100%;">' + desc + "</table>";
                    } else {
                      d.properties.desc = "";
                    }
                  }
                  if (entry.chart) {
                    // save description (put in div next to chart)
                    if (entry.chartFields)
                      d.properties._chartDesc = d.properties.desc;
                    if (entry.chart.type == "line") {
                      d.properties.desc = (0, _chart.getLineChartDesc)(
                        d.properties,
                        entry.chart
                      );
                    } else if (entry.chart.type == "pie") {
                      d.properties.desc = (0, _chart.getPieChartDesc)(
                        d.properties
                      );
                    } else {
                      console.log(
                        "unsupported chart type: " + entry.chart.type
                      );
                    }
                  }
                  if (entry.years && entry.years instanceof Object) {
                    d.properties.descByYear = {};
                    Object.entries(entry.years).map(function (tuple) {
                      var key = tuple[1];
                      var year = tuple[0]; // Build description HTML
                      var desc = "";
                      if (key instanceof Array) {
                        // potential2d -> there are two keys
                        var unit_a =
                          entry.units && entry.units[key[0]]
                            ? entry.units[key[0]]
                            : "";
                        var unit_b =
                          entry.units && entry.units[key[1]]
                            ? entry.units[key[1]]
                            : "";
                        desc =
                          '<table style="width:100%;"><tr><td></td><td>Prognose</td></tr><tr><td><b>' +
                          entry.options.potential2d.descX +
                          " (" +
                          year +
                          ")" +
                          "</b></td><td>" +
                          prop_to_str(d.properties[key[0]], unit_a) +
                          "</td></tr><tr><td><b>" +
                          entry.options.potential2d.descY +
                          " (" +
                          year +
                          ")" +
                          "</b></td><td>" +
                          prop_to_str(d.properties[key[1]], unit_b) +
                          "</td></tr></table>";
                      } else {
                        // there is just a simple string key
                        var unit =
                          entry.units && entry.units[key]
                            ? entry.units[key]
                            : "";
                        desc =
                          '<table style="width:100%;"><tr><td><b>Jahr</b></td><td>Prognose</td></tr><tr><td><b>' +
                          year +
                          "</b></td><td>" +
                          prop_to_str(d.properties[key], unit) +
                          "</td></tr></table>";
                      } // Add description
                      if (d.properties.desc) {
                        d.properties.descByYear[year] =
                          d.properties.desc + desc;
                      } else {
                        d.properties.descByYear[year] = desc;
                      }
                    }); // set desc for current year
                    var yearslider = document.getElementById("yearslider");
                    if (yearslider) {
                      d.properties.desc =
                        d.properties.descByYear[yearslider.value];
                    } //d.properties.desc = '<b>Jahr ' + _currentYear + '</b>: ' + d.properties[entry.years[_currentYear]];
                    d.properties.years = entry.years;
                  }
                });
                resolve({ data: data, options: options });
              })
              .catch(function (error) {
                // Oops. Somewhere, something broke. Good luck.
                if (_map2.DEBUG) console.log(entry);
                if (_map2.DEBUG) console.log(error);
                reject(error);
              })
              .finally(function () {
                var spinner = document.getElementById("map-spinner");
                if (spinner) spinner.style.visibility = "hidden";
              });
          });
          return p;
        } // Add year slider to map
        function addYearSlider(years) {
          // Move year_div to map controls
          var yeardiv = document.getElementById("yearslider_div");
          var destination = document.querySelector(
            "div.leaflet-bottom.leaflet-left"
          );
          if (yeardiv && destination && years) {
            (function () {
              yeardiv = yeardiv.parentElement.removeChild(yeardiv);
              destination.appendChild(yeardiv); //yeardiv.classList.remove('invisible')
              yeardiv.style.margin = "0 1rem 1rem 480px"; // top - right - bottom - left
              var yearslider = (0, _utils.addElem)(
                "yearslider",
                null,
                yeardiv,
                "INPUT"
              );
              yearslider.id = "yearslider";
              yearslider.type = "range"; // add year slider ticks
              var yearticks = (0, _utils.addElem)(
                "yearsliderticks unselectable",
                null,
                yeardiv,
                "DIV"
              );
              var _loop2 = function _loop2(i) {
                var label = years[i]; // Hide every other tick label to avoid overlap.
                // TODO There is a clever generalization for higher
                // numbers of ticks which involves at least taking the
                // logarithm of the number of ticks to arrive at the
                // nearest number of skips necessary (one of
                // [1,2,5,10,20,50,100,200,...]).
                if (years.length > 11 && i % 2 != 0) {
                  label = "";
                }
                var elem = (0, _utils.addElem)(null, label, yearticks, "P");
                elem.addEventListener("click", function (_) {
                  yearslider.value = years[i];
                });
              };
              for (var i = 0; i < years.length && yearticks != undefined; i++) {
                _loop2(i);
              } // Set year values
              yearslider.min = years[0];
              yearslider.max = years[years.length - 1];
              yearslider.value =
                (window.sessionStorage
                  ? window.sessionStorage.currentYear
                  : undefined) || years[0]; // save selected year for later return
              // input AND change: ["input", "change"].forEach(evt => yearslider.addEventListener(evt, _ => ..., false));
              yearslider.addEventListener("input", function (_) {
                if (window.sessionStorage)
                  window.sessionStorage.currentYear = yearslider.value;
              }); // init time slider
              L.DomEvent.on(sidebar, "opening", function (_) {
                yeardiv.style.margin = "0 1rem 1rem 480px";
              });
              L.DomEvent.on(sidebar, "closing", function (_) {
                yeardiv.style.margin = "0 1rem 1rem 75px";
              });
            })();
          } // Prevent click events propagation to map
          L.DomEvent.disableClickPropagation(yeardiv); // Prevent right click event propagation to map
          L.DomEvent.on(yeardiv, "contextmenu", function (ev) {
            L.DomEvent.stopPropagation(ev);
          }); // Prevent scroll events propagation to map when cursor on the div
          L.DomEvent.disableScrollPropagation(yeardiv);
        }
      },
      { "./chart": 2, "./features": 6, "./map": 9, "./utils": 14 },
    ],
    2: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.getLineChartDesc = getLineChartDesc;
        exports.getPieChartDesc = getPieChartDesc;
        function _toConsumableArray(arr) {
          return (
            _arrayWithoutHoles(arr) ||
            _iterableToArray(arr) ||
            _nonIterableSpread()
          );
        }
        function _nonIterableSpread() {
          throw new TypeError(
            "Invalid attempt to spread non-iterable instance"
          );
        }
        function _iterableToArray(iter) {
          if (
            Symbol.iterator in Object(iter) ||
            Object.prototype.toString.call(iter) === "[object Arguments]"
          )
            return Array.from(iter);
        }
        function _arrayWithoutHoles(arr) {
          if (Array.isArray(arr)) {
            for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {
              arr2[i] = arr[i];
            }
            return arr2;
          }
        }
        function getLineChartDesc(layerProperties, chartEntry) {
          // Read data series
          var series = [];
          if (chartEntry.seriesKey) {
            // copy series
            series = _toConsumableArray(layerProperties[chartEntry.seriesKey]);
          } else {
            // read series, key by key
            for (var i = 0; i < chartEntry.seriesKeys.length; i++) {
              series.push(layerProperties[chartEntry.seriesKeys[i]]);
            }
          }
          var data = { series: [series], labels: chartEntry.labels || [] }; // Apply simple box convolution to smoothen lines and create a separate series
          if (chartEntry.convolution) {
            var _series = data.series[0];
            var kernel = chartEntry.convolution;
            var conv_data = [];
            for (var _i = 0; _i < _series.length; _i++) {
              var sum = 0;
              for (var k = 0; k < kernel; k++) {
                var n = _i + k - Math.floor(kernel / 2); // bounds checking
                n = Math.min(_series.length - 1, Math.max(0, n));
                sum += _series[n];
              }
              conv_data.push(sum / kernel);
            }
            data.series.push(conv_data);
          } // CSS classes for charts
          var classNames = { line: "ct-line-green", area: "ct-area-green" };
          if (chartEntry.convolution) {
            classNames = { line: "ct-line-map", area: "ct-area-green" };
          } // Display only every x label on X axis
          var everyXLabel = chartEntry.everyXLabel || 1; // Create description as a function
          var desc = function desc() {
            var elem = document.createElement("div");
            var chartElem = document.createElement("div");
            chartElem.style.width = "250px";
            chartElem.style.height = "250px"; // display old description in own div
            if (layerProperties._chartDesc) {
              elem.innerHTML = layerProperties._chartDesc;
            } // append chart div (below optional description)
            elem.appendChild(chartElem);
            var options = {
              showPoint: false,
              axisX: {
                showGrid: true,
                labelInterpolationFnc: function labelInterpolationFnc(
                  value,
                  index
                ) {
                  return index % everyXLabel === 0 ? value : null;
                },
                axisTitle: chartEntry.axisXTitle || "",
              },
              axisY: { showGrid: true },
              classNames: classNames,
              plugins: [
                Chartist.plugins.ctAxisTitle({
                  axisX: {
                    axisTitle: chartEntry.axisXTitle || "",
                    offset: { x: 0, y: 30 },
                  },
                  axisY: {
                    axisTitle: chartEntry.axisYTitle || "",
                    offset: { x: 0, y: 10 },
                    flipTitle: true,
                  },
                }),
              ],
            }; // assign options from entry to chartist options
            if (chartEntry.options) {
              options = Object.assign(options, chartEntry.options);
            }
            new Chartist.Line(chartElem, data, options);
            return elem;
          };
          return desc;
        }
        function getPieChartDesc(layerProperties) {
          // Read data series
          var data = { labels: [], series: [] };
          var additional_info = [];
          for (
            var _i2 = 0, _Object$entries = Object.entries(layerProperties);
            _i2 < _Object$entries.length;
            _i2++
          ) {
            var p = _Object$entries[_i2];
            if (isNaN(Number(p[1]))) {
              //additional_info.push(Object.fromEntries([p]));
              var entry = {};
              entry[p[0]] = p[1];
              additional_info.push(entry);
            } else {
              data.labels.push(p[0]);
              data.series.push({ meta: p[0] + ":", value: Number(p[1]) });
            }
          }
          var total = data.series.reduce(function (a, c) {
            return a + c;
          }, 0);
          var desc = function desc() {
            var elem = document.createElement("div");
            elem.style.width = "250px";
            elem.style.height = "250px"; //elem.textContent = additional_info;
            if (!total) return elem;
            new Chartist.Pie(elem, data, {
              // no label when slice < 10%
              //labelInterpolationFnc: function(value) {if ((data[value] / total) > 0.1) return value; else return null;},
              ignoreEmptyValues: true,
              plugins: [
                Chartist.plugins.tooltip({
                  anchorToPoint: false,
                  appendToBody: true,
                  class: "ct-tooltip",
                }),
              ],
              width: "250px",
              height: "250px", // otherwise, Chartist cannot set correct size because of hidden sidebar panel
            });
            return elem;
          };
          return desc;
        }
      },
      {},
    ],
    3: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.renderSidebarChat = renderSidebarChat;
        exports.handleChatRefresh = handleChatRefresh;
        exports.handleChatSubmit = handleChatSubmit;
        exports.renderChat = renderChat;
        var _map = require("./map");
        var _lis_modal = require("./lis_modal");
        var _utils = require("./utils");
        function renderSidebarChat() {
          renderChat(_chat_messages, "chatboxes", function (x) {
            return !x.msgtype.startsWith("Comment");
          });
        }
        function handleChatRefresh() {
          // fetch POST request with empty message to refresh the chat
          var button = document.getElementById("chat_refresh_btn");
          var form = document.getElementById("chatform");
          var form_data = new FormData();
          if (!button || !form) {
            return;
          }
          form_data.append("region", form.chat_region.value);
          form_data.append(
            "csrfmiddlewaretoken",
            form.csrfmiddlewaretoken.value
          );
          form_data.append("message", "");
          button.disabled = true;
          (0, _utils.fetchPost)("chat/", form_data, 30000)
            .then(function (response) {
              return response.json();
            })
            .then(function (msg) {
              _chat_messages = msg;
              renderSidebarChat();
              form.scrollIntoView();
            })
            .catch(function (err) {
              if (_map.DEBUG) console.log(err);
            })
            .finally(function () {
              button.disabled = false;
            });
        }
        function handleChatSubmit() {
          var button = document.getElementById("chat_submit_btn");
          var message_area = document.getElementById("chatarea");
          if (!message_area || !button) {
            return; //oops
          }
          button.disabled = true;
          (0, _utils.fetchPost)("chat/", "chatform", 120000)
            .then(function (response) {
              return response.json();
            })
            .then(function (msg) {
              _chat_messages = msg;
              renderSidebarChat();
              var form = document.getElementById("chatform");
              form.scrollIntoView();
            })
            .catch(function (err) {
              if (_map.DEBUG) console.log(err);
            })
            .finally(function () {
              message_area.value = "";
              button.disabled = false;
            });
        } // Turn a message with an event (= not a simple chat message) to an element
        // and place it inside the given parent element.
        // timeHM should be a string that contains the event time.
        // lisDict should be a dictionary(/object) with LIS-id as keys and LIS-objects as values.
        function addChatEventElement(
          message,
          users,
          parentElem,
          timeHM,
          lisDict
        ) {
          var msgtype = message.msgtype;
          var user = users[message.user];
          var username = user
            ? user.first_name + " " + user.last_name
            : "Eine NutzerIn";
          var region_name = _region.name || false;
          var lis = lisDict[message.LIS];
          var lis_elem;
          if (lis) {
            lis_elem = document.createElement("A");
            lis_elem.textContent = lis.name;
            lis_elem.classList.add("chat-message-link");
            lis_elem.addEventListener("click", function (_) {
              (0, _lis_modal.highlightCCP)(lis.id);
              return false;
            });
          } else {
            lis_elem = document.createElement("SPAN");
            lis_elem.textContent = "einen Ladestandort";
          }
          var addEvent = function addEvent(textA, elem, textB, msgtype) {
            var div = (0, _utils.addElem)("chat-event", "", parentElem, "DIV");
            if (msgtype) {
              div.classList.add("chat-event-" + msgtype);
            }
            (0, _utils.addElem)("chat-user", username, div, "SPAN");
            if (textA) {
              (0, _utils.addElem)("", " " + textA, div, "SPAN");
            }
            if (elem) {
              div.appendChild(elem);
            }
            if (textB) {
              (0, _utils.addElem)("", textB, div, "SPAN");
            }
            (0, _utils.addElem)("chat-time", " - " + timeHM, div, "SPAN");
            return div;
          };
          switch (msgtype) {
            case "Comment_created":
              addEvent("hat einen Kommentar erstellt", null, null, msgtype);
              break;
            case "Comment_removed":
              addEvent("hat einen Kommentar entfernt", null, null, msgtype);
              break;
            case "Project_created":
              if (region_name) {
                addEvent(
                  "hat das Projekt " + region_name + " erstellt",
                  null,
                  null,
                  msgtype
                );
              } else {
                addEvent("hat dieses Projekt erstellt", null, null, msgtype);
              }
              break;
            case "Evaluation_started":
              addEvent("hat eine Bewertung gestartet", null, null, msgtype);
              break;
            case "LIS_created":
              addEvent("hat ", lis_elem, " erstellt", msgtype);
              break;
            case "LIS_checklist":
              addEvent(
                "hat die Checkliste fÃ¼r ",
                lis_elem,
                " verÃ¤ndert",
                msgtype
              );
              break;
            case "LIS_desc": // legacy
              addEvent("hat ", lis_elem, " kommentiert", msgtype);
              break;
            case "LIS_description": // not legacy, kinda new
              addEvent(
                "hat die Beschreibung fÃ¼r ",
                lis_elem,
                " bearbeitet",
                msgtype
              );
              break;
            case "LIS_file_added":
              addEvent(
                "hat eine Datei fÃ¼r ",
                lis_elem,
                " hochgeladen",
                msgtype
              );
              break;
            case "LIS_file_removed":
              addEvent("hat eine Datei von ", lis_elem, " entfernt", msgtype);
              break;
            case "LIS_message_created":
              addEvent(
                "hat eine Nachricht fÃ¼r ",
                lis_elem,
                " erstellt",
                msgtype
              );
              break;
            case "LIS_moved":
              addEvent("hat ", lis_elem, " verschoben", msgtype);
              break;
            case "LIS_power_table":
              addEvent("hat ", lis_elem, " erweitert", msgtype);
              break;
            case "LIS_removed":
              addEvent("hat ", lis_elem, " entfernt", msgtype);
              break;
            case "LIS_renamed":
              addEvent("hat ", lis_elem, " umbenannt", msgtype);
              break;
            case "LIS_search_created":
              addEvent(
                "hat einen Suchraum fÃ¼r ",
                lis_elem,
                " bestimmt",
                msgtype
              );
              break;
            case "LIS_search_removed":
              addEvent(
                "hat einen Suchraum fÃ¼r ",
                lis_elem,
                " entfernt",
                msgtype
              );
              break;
            case "User_invited":
              addEvent("hat einen neuen User eingeladen", null, null, msgtype);
              break;
            case "User_removed":
              addEvent("hat einen User ausgeladen", null, null, msgtype);
              break;
            default:
              console.log("Unexpected message type", msgtype);
          }
        }
        function renderChat(messages_obj) {
          var chatId =
            arguments.length > 1 && arguments[1] !== undefined
              ? arguments[1]
              : "chatboxes";
          var messagesFilter = arguments.length > 2 ? arguments[2] : undefined;
          var context =
            arguments.length > 3 && arguments[3] !== undefined
              ? arguments[3]
              : "region";
          var chatboxes = document.getElementById(chatId);
          if (!chatboxes) return; // remove all chat messages
          chatboxes.innerHTML = "";
          var users = messages_obj["users"];
          var messages = messages_obj["messages"];
          if (messagesFilter) {
            messages = messages.filter(messagesFilter);
          }
          var lisDict = {};
          for (var _i = 0; _i < _markers.length; _i++) {
            lisDict[_markers[_i].properties.id] = _markers[_i].properties;
          }
          var getTimeHM = function getTimeHM(datetime) {
            return (
              datetime.getHours().toString().padStart(2, "0") +
              ":" +
              datetime.getMinutes().toString().padStart(2, "0")
            );
          };
          var day = "";
          var i = 0;
          for (i = 0; i < messages.length; i++) {
            var box = document.createElement("P");
            var datetime = new Date(messages[i].timestamp * 1000); // day
            var cur_day = datetime.toDateString();
            if (cur_day !== day) {
              day = cur_day;
              (0, _utils.addElem)(
                "chat-date",
                datetime.toLocaleDateString(),
                box,
                "DIV"
              );
            } // chat message header
            var chat_header = document.createElement("SPAN");
            {
              chat_header.classList.add("chat-header");
              if (messages[i].user) {
                var user = users[messages[i].user];
                if (user) {
                  var span = (0, _utils.addElem)(
                    "chat-user",
                    user.first_name + " " + user.last_name,
                    chat_header,
                    "SPAN"
                  );
                  if (user.is_self) {
                    span.classList.add("chat-user-is-self");
                  }
                  chat_header.appendChild(document.createTextNode(" ("));
                  (0, _utils.addElem)(
                    "chat-user-company",
                    user.company,
                    chat_header,
                    "SPAN"
                  );
                  chat_header.appendChild(document.createTextNode(") - "));
                }
              }
              (0, _utils.addElem)(
                "chat-time",
                getTimeHM(datetime),
                chat_header,
                "SPAN"
              );
            }
            var user_id = messages[i].user;
            var lis_id = messages[i].LIS;
            var should_display_message = function should_display_message(
              message
            ) {
              return (
                (context === "region" &&
                  message.message &&
                  message.msgtype !== "LIS_message_created") ||
                (context === "lis" && message.message)
              );
            };
            if (should_display_message(messages[i])) {
              box.appendChild(chat_header);
              if (messages[i].LIS) {
                (function () {
                  //TODO this if block can be removed if we don't care anymore
                  // about the correct rendering of old messages.
                  var id = messages[i].LIS; // place link for this LIS
                  var div = (0, _utils.addElem)("chat-message", "", box, "DIV");
                  var ancor = (0, _utils.addElem)(
                    "chat-message-link",
                    messages[i].message,
                    div,
                    "A"
                  );
                  ancor.addEventListener("click", function (_) {
                    (0, _lis_modal.highlightCCP)(id);
                    return false;
                  });
                })();
              } else {
                // chat message itself
                (0, _utils.addElem)(
                  "chat-message",
                  messages[i].message,
                  box,
                  "DIV"
                );
              }
            } else {
              // Peek at next messages.
              // Look for similar LIS messages that can be grouped into a block
              var blockLength = 0;
              for (var k = i; k < messages.length && lis_id; k++) {
                var cur_user_id = messages[k].user;
                var cur_lis_id = messages[k].LIS;
                var msgtype = messages[k].msgtype;
                var k_day = datetime.toDateString();
                if (k_day != cur_day) {
                  // do not create blocks spanning over midnight
                  break;
                } else if (
                  should_display_message(messages[k]) ||
                  msgtype === "LIS_created" ||
                  msgtype === "LIS_removed"
                ) {
                  break;
                } else if (cur_user_id == user_id && cur_lis_id == lis_id) {
                  blockLength++;
                } else {
                  break; // last message with same user and lis
                }
              }
              if (blockLength <= 1) {
                addChatEventElement(
                  messages[i],
                  messages_obj.users,
                  box,
                  getTimeHM(datetime),
                  lisDict
                );
              } else {
                var dt;
                (function () {
                  // create block of events
                  var block = document.createElement("div");
                  {
                    block.classList.add("chat-event-block");
                    block.style.maxHeight = "" + 0;
                    for (var m = i; m < i + blockLength; m++) {
                      dt = new Date(messages[m].timestamp * 1000);
                      addChatEventElement(
                        messages[m],
                        messages_obj.users,
                        block,
                        getTimeHM(dt),
                        lisDict
                      );
                    }
                  } // create block header
                  {
                    var lis = lisDict[lis_id];
                    var lis_elem;
                    if (lis) {
                      lis_elem = document.createElement("A");
                      lis_elem.textContent = lis.name;
                      lis_elem.classList.add("chat-message-link");
                      lis_elem.addEventListener("click", function (_) {
                        (0, _lis_modal.highlightCCP)(lis.id);
                        return false;
                      });
                    } else {
                      lis_elem = document.createElement("SPAN");
                      lis_elem.textContent = "einen Ladestandort";
                    }
                    {
                      var div = (0, _utils.addElem)(
                        "chat-event",
                        "",
                        box,
                        "DIV"
                      );
                      div.classList.add("chat-event-block-header");
                      var _user = users[user_id];
                      if (_user) {
                        var username = _user.first_name + " " + _user.last_name;
                        (0, _utils.addElem)("chat-user", username, div, "SPAN");
                        (0, _utils.addElem)("", " hat ", div, "SPAN");
                      }
                      div.appendChild(lis_elem);
                      (0, _utils.addElem)("", " editiert", div, "SPAN"); // add time span (last timestamp of block)
                      // dt is still set from looping over events
                      (0, _utils.addElem)(
                        "chat-time",
                        " - " + getTimeHM(dt),
                        div,
                        "SPAN"
                      );
                      var toggle = document.createElement("SPAN");
                      toggle.classList.add(
                        "chat-event-block-toggle",
                        "block-hidden"
                      );
                      toggle.appendChild(document.createElement("i"));
                      div.appendChild(toggle);
                      toggle.addEventListener("click", function (_) {
                        if (toggle.classList.contains("block-hidden")) {
                          toggle.classList.remove("block-hidden");
                          block.style.maxHeight = block.scrollHeight + "px";
                        } else {
                          toggle.classList.add("block-hidden");
                          block.style.maxHeight = "" + 0;
                        }
                      });
                    }
                  } // add block after header
                  box.appendChild(block); // skip messages that have been processed
                  if (blockLength > 1) {
                    i += blockLength - 1;
                  }
                })();
              }
            }
            chatboxes.appendChild(box);
          }
        }
      },
      { "./lis_modal": 8, "./map": 9, "./utils": 14 },
    ],
    4: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.createComment = createComment;
        exports.updateComment = updateComment;
        exports.handleCommentRefresh = handleCommentRefresh;
        exports.handleCommentSubmit = handleCommentSubmit;
        exports.deleteComment = deleteComment;
        var _map = require("./map");
        var _features = require("./features");
        var _chat = require("./chat");
        var _utils = require("./utils");
        function createComment(e) {
          // create new comment in backend
          // populate form
          var form = document.getElementById("comment_form");
          form.comment_id.value = "";
          form.comment_msg.value = (0, _utils.geoJSONdumps)(e.latlng);
          (0, _utils.fetchPost)("comment/", "comment_form", 10000)
            .then(function (response) {
              return response.json();
            })
            .then(function (data) {
              if (data.comment) {
                _region.comment = data.comment; // display comments (because of rejectDouble, only last will be added)
                (0, _features.showResult)(data); // get new comment (last comment added)
                var numComments = _commentLayer.getLayers().length;
                var lastComment = _commentLayer.getLayers()[numComments - 1]; // open popup of new comment
                updateComment(lastComment);
              }
              if (data.message) {
                alert(data.message);
              }
            })
            .catch(function (err) {
              if (_map.DEBUG) console.log(err);
            });
        }
        function renderComment(comment_id) {
          (0, _chat.renderChat)(_chat_messages, "comment_chat", function (c) {
            return c.comment == comment_id;
          });
        }
        function updateComment(comment) {
          if (!comment) return;
          var form = document.getElementById("comment_form");
          form.comment_id.value = comment.properties.id;
          form.comment_msg.value = "";
          renderComment(comment.properties.id);
          $("#comment_modal").foundation("open");
          form.comment_msg.focus();
        }
        function handleCommentRefresh() {
          // fetch POST request with empty message to refresh the chat
          var button = document.getElementById("comment_refresh_btn");
          var form = document.getElementById("comment_form");
          if (!button || !form) {
            return;
          }
          var oldMsg = form.comment_msg.value;
          form.comment_msg.value = "";
          button.disabled = true;
          (0, _utils.fetchPost)("comment/", "comment_form", 5000)
            .then(function (response) {
              return response.json();
            })
            .then(function (msg) {
              if (msg.comment) {
                _region.comment = msg.comment;
              }
              if (msg.messages) {
                _chat_messages = msg.messages;
              }
              var cid = document.getElementById("comment_id");
              renderComment(cid.value);
            })
            .catch(function (err) {
              if (_map.DEBUG) console.log(err);
            })
            .finally(function () {
              button.disabled = false;
            });
          form.comment_msg.value = oldMsg;
        }
        function handleCommentSubmit() {
          (0, _utils.fetchPost)("comment/", "comment_form", 5000)
            .then(function (response) {
              return response.json();
            })
            .then(function (msg) {
              if (msg.comment) {
                _region.comment = msg.comment;
              }
              if (msg.messages) {
                _chat_messages = msg.messages;
              }
              var cid = document.getElementById("comment_id");
              renderComment(cid.value);
            })
            .catch(function (err) {
              if (_map.DEBUG) console.log(err);
            })
            .finally(function () {
              document.getElementById("comment_msg").value = "";
            });
        }
        function deleteComment(target) {
          var form = document.getElementById("comment_form");
          form.comment_id.value = -target.properties.id;
          (0, _utils.fetchPost)("comment/", "comment_form", 10000)
            .then(function (_) {
              target.remove();
            })
            .catch(function (err) {
              if (_map.DEBUG) console.log(err);
            });
        }
      },
      { "./chat": 3, "./features": 6, "./map": 9, "./utils": 14 },
    ],
    5: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.renderDebugInfo = renderDebugInfo;
        function renderDebugInfo() {
          var ta = document.getElementById("debug_info_textarea");
          if (ta) {
            ta.value = JSON.stringify(_debug_info, null, 4);
          }
        }
      },
      {},
    ],
    6: [
      function (require, module, exports) {
        "use strict"; //(window as any).$ = $;
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.reverseCoordinates = reverseCoordinates;
        exports.showResult = showResult;
        exports.obj2FeatureArray = obj2FeatureArray;
        exports.showData = showData;
        exports.setHeatColormap = setHeatColormap;
        exports.exportLISasCSV = exportLISasCSV;
        exports.exportLISasJSON = exportLISasJSON;
        exports.exportPotential = exportPotential;
        var _map2 = require("./map");
        var _layer = require("./layer");
        var _lis_modal = require("./lis_modal");
        var _comment_modal = require("./comment_modal");
        var _utils = require("./utils");
        function _slicedToArray(arr, i) {
          return (
            _arrayWithHoles(arr) ||
            _iterableToArrayLimit(arr, i) ||
            _nonIterableRest()
          );
        }
        function _nonIterableRest() {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance"
          );
        }
        function _iterableToArrayLimit(arr, i) {
          if (
            !(
              Symbol.iterator in Object(arr) ||
              Object.prototype.toString.call(arr) === "[object Arguments]"
            )
          ) {
            return;
          }
          var _arr = [];
          var _n = true;
          var _d = false;
          var _e = undefined;
          try {
            for (
              var _i = arr[Symbol.iterator](), _s;
              !(_n = (_s = _i.next()).done);
              _n = true
            ) {
              _arr.push(_s.value);
              if (i && _arr.length === i) break;
            }
          } catch (err) {
            _d = true;
            _e = err;
          } finally {
            try {
              if (!_n && _i["return"] != null) _i["return"]();
            } finally {
              if (_d) throw _e;
            }
          }
          return _arr;
        }
        function _arrayWithHoles(arr) {
          if (Array.isArray(arr)) return arr;
        } // swap items in two-item array
        function swap(tuple) {
          if (tuple.length != 2) return;
          var tmp = tuple[0];
          tuple[0] = tuple[1];
          tuple[1] = tmp;
        } // lnglat <-> latlng
        function reverseCoordinates(geom) {
          if (!geom || !geom.type || !geom.coordinates) return geom; // depends on geometry type
          switch (geom.type) {
            default:
              console.log(
                'Unknown geometry type detected: "' +
                  geom.type +
                  '". Reverting to Point.'
              );
              console.log(geom);
              swap(geom.coordinates);
              break;
            case "Point":
              swap(geom.coordinates);
              break;
            case "LineString":
            case "MultiPoint":
              geom.coordinates.map(function (coords) {
                swap(coords);
              });
              break;
            case "Polygon":
            case "MultiLineString":
              geom.coordinates.map(function (node) {
                node.map(function (coords) {
                  swap(coords);
                });
              });
              break;
            case "MultiPolygon":
              geom.coordinates.map(function (polygon) {
                polygon.map(function (node) {
                  node.map(function (coords) {
                    swap(coords);
                  });
                });
              });
              break;
          }
          return geom;
        }
        /************************ geoJSON ************************/ /* Show data on map.
    data: object with JSON-array entries, usually as computation result
    params: optional form parameter
        - radius: array with radius from form - [area, demand]
        - icon: path to image to display on map/legend. may be array with second element as shadow
*/ function showResult(data) {
          // default values
          var params = data.params || {};
          if (data.potential)
            // update heat layer
            _heatLayer = showData(obj2FeatureArray(data.potential), {
              name: "Potenzial",
              heat: "int",
              radius: params.radius,
            });
          if (data.LIS)
            showData(obj2FeatureArray(data.LIS), {
              name: "Bestands-LIS",
              fit: !data.border && !data.POI_coverage && !data.POI_demand,
              color: _map2.COLORS.LIS,
              clustered: true,
              clusterClass: "marker-cluster-lis",
              clusterPolyColor: _map2.COLORS.LIS, //radius: params.radius,
              rejectDoubles: "id",
              rejectDoubleRadius: "id",
              icon: [_mapIconPaths.ex_LIS, _mapIconPaths.shadow],
            });
          if (data.POI_demand && data.POI_demand.length > 0) {
            //let ordered = data.POI_demand.sort((a,b) => {return a.order > b.order;});
            showData(obj2FeatureArray(data.POI_demand), {
              name: "SuchrÃ¤ume",
              fit: !data.border,
              color: _map2.COLORS.proposed,
              clustered: true,
              clusterClass: "marker-cluster-poi-demand",
              clusterPolyColor: _map2.COLORS.proposed,
              customCP: true,
              radius: -params.radius,
            });
          }
          if (data.recommend && data.recommend.length > 0) {
            showData(obj2FeatureArray(data.recommend), {
              name: "VorschlÃ¤ge",
              fit: false,
              color: _map2.COLORS.proposed,
              clustered: true,
              clusterClass: "marker-cluster-poi-demand",
              clusterPolyColor: _map2.COLORS.proposed,
              customCP: true,
              icon: [_mapIconPaths.normal_proposed, _mapIconPaths.shadow],
            });
          }
          if (data.customLIS) {
            // update marker layer
            _markerLayer = showData(obj2FeatureArray(data.customLIS), {
              name: "Meine Ladestandorte",
              fit: false,
              color: _map2.COLORS.POI_custom,
              clustered: true,
              clusterClass: "marker-cluster-poi-custom",
              clusterPolyColor: _map2.COLORS.POI_custom,
              customCP: true,
              rejectDoubles: "id",
              divIconFunc: "custom_cp",
              markerGroup: _markerLayer,
              icon: [
                _mapIconPaths.CCP,
                _mapIconPaths.CCP_locked,
                _mapIconPaths.shadow,
              ],
            });
          }
          if (data.comment)
            showData(obj2FeatureArray(data.comment), {
              name: "",
              fit: false,
              clustered: false,
              comment: true,
              markerGroup: _commentLayer,
              rejectDoubles: "id",
              icon: { file: _mapIconPaths.dot, height: 20, width: 20 },
            });
          if (
            data.params &&
            data.params.restricted &&
            data.params.restricted.length > 0
          )
            showData(obj2FeatureArray(data.params.restricted), {
              name: "Verbotene Zonen",
              fit: false,
              color: _map2.COLORS.restricted,
              rejectDoubles: "id",
              restricted: true,
            });
          if (data.evaluation)
            showEvaluation(obj2FeatureArray(data.evaluation[0])[0]);
        } // Convert (geo)JSON object to array of features with geometry and properties members
        function obj2FeatureArray(obj) {
          //if(!(obj instanceof Array)){
          if (!(obj.length >= 0)) {
            obj = [obj];
          }
          var features = obj.map(function (o) {
            // build feature
            var feature = { type: "Feature", properties: {} }; //if(o instanceof Object){ // Objects may come from form -> object-like. Hope for the best.
            for (var key in o) {
              if (!o.hasOwnProperty(key)) continue; // skip prototype properties
              if (key === "geom") feature.geometry = o.geom;
              else feature.properties[key] = o[key];
            } //}
            reverseCoordinates(feature.geometry);
            return feature;
          });
          return features;
        } // Create a Custom CP Icon
        // Its different parts (image, shadow, number) can be accessed by classes.
        function createCustomCPIcon(layerOptions, feature) {
          var icon = document.createElement("div");
          var img = document.createElement("img"); //img.src = feature.properties.locked? layerOptions.icon[1] : layerOptions.icon[0];
          img.src = layerOptions.icon[feature.properties.locked + 0];
          img.width = 40;
          img.height = 33;
          var shadow = document.createElement("img");
          shadow.src = _mapIconPaths.shadow; //if (feature.properties.power_table){
          //let num = document.createElement('div');
          //num.textContent = feature.properties.power_table.reduce((a,c) => a+c.count, 0);
          //num.classList.add('custom-cp-icon-number');
          //icon.appendChild(num);
          //}
          icon.appendChild(shadow);
          icon.appendChild(img); // CSS classes
          img.classList.add("custom-cp-icon-img");
          shadow.classList.add("custom-cp-icon-shadow");
          return {
            html: icon,
            className: "custom-cp-icon",
            iconSize: [40, 33],
            iconAnchor: [20, 33],
            popupAnchor: [0, -25],
          }; //return {html: icon, className: "custom-cp-icon"};
        } // Create a Existing LIS Icon
        // Its different parts (image, shadow, number) can be accessed by classes.
        function createExistingLISIcon(_layerOptions, feature) {
          var icon = document.createElement("div");
          var img = document.createElement("img");
          if (feature.properties.power < 22.0) {
            img.src = _AHPFolder + "resources/Icon_existing_low_power.svg";
          } else if (feature.properties.power <= 75.0) {
            img.src = _AHPFolder + "resources/Icon_existing_medium_power.svg";
          } else {
            img.src = _AHPFolder + "resources/Icon_existing_high_power.svg";
          }
          img.width = 37;
          img.height = 45;
          var shadow = document.createElement("img");
          shadow.src = _mapIconPaths.shadow;
          var num = document.createElement("div");
          num.textContent = feature.properties.count || "ðŸ—²";
          icon.appendChild(shadow);
          icon.appendChild(img);
          icon.appendChild(num); // CSS classes
          img.classList.add("existing-lis-icon-img");
          shadow.classList.add("existing-lis-icon-shadow");
          num.classList.add("existing-lis-icon-number");
          return {
            html: icon,
            className: "existing-lis-icon",
            iconSize: [37, 45],
            iconAnchor: [37 * 0.5, 45],
            popupAnchor: [0, -45],
          };
        } // Create an H2 order icon.
        // Its different parts (shadow, base_image, image, ...) can be accessed by classes.
        function createH2OrderIcon(_layerOptions, feature) {
          var icon = document.createElement("div");
          var order = feature.properties;
          var base = document.createElement("img");
          base.src = _AHPFolder + "resources/Icon_h2order.svg";
          base.width = 37;
          base.height = 45;
          var img = document.createElement("img");
          img.src = order.icon.file;
          img.width = order.icon.width;
          img.height = order.icon.height;
          var shadow = document.createElement("img");
          shadow.src = _mapIconPaths.shadow;
          var typ = document.createElement("div");
          if (order.order_type == 1) {
            typ.classList.add("h2order-icon-typ-buy");
          } else if (order.order_type == 2) {
            typ.classList.add("h2order-icon-typ-sell");
          }
          icon.appendChild(shadow);
          icon.appendChild(base);
          icon.appendChild(img);
          icon.appendChild(typ); // CSS classes
          shadow.classList.add("h2order-icon-shadow");
          base.classList.add("h2order-icon-base");
          img.classList.add("h2order-icon-img");
          typ.classList.add("h2order-icon-typ");
          return {
            html: icon,
            className: "h2order-icon",
            iconSize: [37, 45],
            iconAnchor: [37 * 0.5, 45],
            popupAnchor: [0, -45],
          };
        } // Create a funded LIS Icon
        // Its different parts (image, shadow) can be accessed by classes.
        function createFundedLisColorIcon(_layerOptions, feature, color_name) {
          var icon = document.createElement("div");
          var img = document.createElement("img");
          if (feature.properties.lpTyp === "NLP") {
            img.src =
              _AHPFolder + "resources/Icon_funded_" + color_name + "_n.svg";
          } else if (feature.properties.lpTyp === "SLP1") {
            img.src =
              _AHPFolder + "resources/Icon_funded_" + color_name + "_s1.svg";
          } else if (feature.properties.lpTyp === "SLP2") {
            img.src =
              _AHPFolder + "resources/Icon_funded_" + color_name + "_s2.svg";
          } else {
            img.src = _AHPFolder + "resources/Icon_existing_low_power.svg";
          }
          img.width = 37;
          img.height = 45;
          var shadow = document.createElement("img");
          shadow.src = _mapIconPaths.shadow;
          icon.appendChild(shadow);
          icon.appendChild(img); // CSS classes
          img.classList.add("existing-lis-icon-img");
          shadow.classList.add("existing-lis-icon-shadow");
          return {
            html: icon,
            className: "existing-lis-icon",
            iconSize: [37, 45],
            iconAnchor: [37 * 0.5, 45],
            popupAnchor: [0, -45],
          };
        } // Create a funded LIS Icon
        function createFundedLisGreenIcon(_layerOptions, feature) {
          return createFundedLisColorIcon(_layerOptions, feature, "green");
        } // Create a funded LIS Icon
        function createFundedLisRedIcon(_layerOptions, feature) {
          return createFundedLisColorIcon(_layerOptions, feature, "red");
        } // Create a funded LIS Icon
        function createFundedLisBlueIcon(_layerOptions, feature) {
          return createFundedLisColorIcon(_layerOptions, feature, "blue");
        } // Select a suitable function to draw a DIV icon
        function getDivIconFunc(func_id) {
          if (func_id == "existing_lis") {
            return createExistingLISIcon;
          } else if (func_id == "custom_cp") {
            return createCustomCPIcon;
          } else if (func_id == "h2order") {
            return createH2OrderIcon;
          } else if (func_id == "funded_lis_green") {
            return createFundedLisGreenIcon;
          } else if (func_id == "funded_lis_red") {
            return createFundedLisRedIcon;
          } else if (func_id == "funded_lis_blue") {
            return createFundedLisBlueIcon;
          }
          console.log("div icon func not found: " + func_id);
          return null;
        }
        /*  display feature collection on map

    input:
    data: array of features.
    Each feature contains:
        - type: ignored (['Feature'])
        - geometry
            - coordinates (WGS84): lat/lng array
            - type ([Point], LineString, Polygon, MultiPolygon)
        - properties
            - desc (optional): description. May be string or array [opacity, description text] for polyLine features
            - color (optional): individual color for each feature.
            - (Custom keys, like id: OSM id of POI, 0 for virtual POIs)
    options so far:
        clustered - cluster features when they are close to each other. You can specify a clusterRadius in pixels. [false]
        clusterClass - custom class for markerCluster. Possible suffixes for different cluster sizes: "-small", "-medium", "-large" (See app.css, e.g. marker-cluster-poi-small)
        clusterPolyColor - custom color for markerCluster polygon
        color - color of all shapes. Supports HTML colors ("#0000FF", "rgba(0,1,2,0.5)", "Green") [random]
        customCP - point can be permanently added to region, or already is (id is given) [false]
        divIconFunc - ID of function that will be called with current
            options and features object as arguments. The return value
            will be used as the argument for the divIcon constructor.
            This can be used to create "dynamic" markers that change
            appearance based on feature values.
        fit - zoom map to show all features. [false]
        fillOpacity - fillColor of points and polygons
        fillColor - fillColor of polygons, same type as color
        heat - show heatmap of points. Given argument is attribute used for intensity (0.0 - heatmax)
        heatmax - maximum value for heatmap intensity [1.0]
        icon - icon to use. This is set in the layer name as well. []
        lineDarken - darkens stroke color, by using chroma.darken function. value > 1.0 = darker color, value < 1.0 = lighter color
        lineOpacity - stroke opacity from 0.0 to 1.0, for lines and polygons
        lineWidth - stroke weight for lines and polygons in pixels
        name - displayed name of layer. Empty name: layer not listed in control box
        radius - radius around points, shown as semi-transparent circle. Can be negative (draws only circles). Defines dash pattern of lines. []
        rejectDoubles - check first for given key values in the current markerGroup. []
        rejectDoubleRadius - check previous feature for same property value, whether radius is already present []
        restricted - feature collection defines restricted zones. [false]
        markerGroup - use existing markerGroup instead of new one. []
        radiusGroup - use existing radiusGroup instead of new one. []
        smoothFactor - set simplification factor of polygons: 3 = pretty rough, 0.6 = lots details

    output: layers where features were added. May be featureGroup, markerClusterGroup or array
*/ function showData(data, options) {
          var _a, _b;
          if (!data || data.length == 0) return;
          options = options || []; //default (empty) options
          // no name -> no entry in layer control
          if (!options.name) options.name = ""; // search for name in overlays
          options.radiusGroupName = options.name + " Radius"; // icon: add to layer control name (but not to radius name)
          if (options.name && options.icon) {
            if (options.icon instanceof Array)
              options.name =
                " <img src=" +
                options.icon[0] +
                ' style="height: 1.6rem; width: 1.3rem;"> ' +
                options.name;
            else
              options.name =
                " <img src=" + options.icon.file + "> " + options.name;
          }
          options.markerGroup =
            options.markerGroup || (0, _layer.getLayerFromName)(options.name); // show layer on map
          if (options.markerGroup && !_map.hasLayer(options.markerGroup))
            _map.addLayer(options.markerGroup);
          options.radiusGroup =
            options.radiusGroup ||
            (0, _layer.getLayerFromName)(options.radiusGroupName);
          if (options.radiusGroup && !_map.hasLayer(options.radiusGroup))
            _map.addLayer(options.radiusGroup);
          var bbox = null;
          var markerGroup = getOrCreateMarkerGroup(options); // clustered radius: extra radius layer
          if (options.radius > 0 && options.clustered)
            var radiusGroup = getOrCreateRadiusGroup(options);
          var deflateGroup = null;
          if (options.deflate != null) {
            // wrap polys in a deflate feature group so they can be deflated
            if (options.deflate.markerType == "circleMarker") {
              options.deflate.markerType = L.circleMarker;
            }
            var icon =
              (_a = options.deflate.markerOptions) === null || _a === void 0
                ? void 0
                : _a.icon;
            if ((_b = icon) === null || _b === void 0 ? void 0 : _b.iconUrl) {
              icon.iconUrl = _AHPFolder + "resources/" + icon.iconUrl;
              options.deflate.markerOptions.icon = L.icon(icon);
            }
            deflateGroup = L.deflate(options.deflate);
          } // temporarily store created markers/lines in array for fast adding to map
          var markerArray = [];
          var radiusArray = []; // prepare list of features to check for doubles (rejectDoubles option)
          if (options.rejectDoubles) {
            var featureValues = [];
            markerGroup.eachLayer(function (l) {
              if (l.properties && l.properties[options.rejectDoubles])
                featureValues.push(l.properties[options.rejectDoubles]);
            });
          } // store last value set (rejectDoubleRadius option)
          var lastValue = null;
          data.forEach(function (feature) {
            // reject doubles or add new entry to check against
            if (
              options.rejectDoubles &&
              feature.properties[options.rejectDoubles]
            ) {
              if (
                featureValues.includes(
                  feature.properties[options.rejectDoubles]
                )
              )
                return;
              else
                featureValues.push(feature.properties[options.rejectDoubles]);
            } // get color from properties, options or RNG
            var color =
              feature.properties.color ||
              options.color ||
              "#" +
                (
                  "0" + ((Math.random() * 0xffffff) & 0xffffff).toString(16)
                ).slice(-6); // process geometry
            switch (feature.geometry.type) {
              case "Point":
              case "MultiPoint":
              default: // coords in latlng
              // existing custom CP (already has id): extra options
              // comment marker
              // add description to marker
                var lat = 0.0;
                var lng = 0.0;
                if (feature.geometry.type === "Point") {
                  lat = Number(feature.geometry.coordinates[0]);
                  lng = Number(feature.geometry.coordinates[1]);
                } else if (feature.geometry.type === "MultiPoint") {
                  if (feature.geometry.coordinates > 1) {
                    console.log("Only first point of MultiPoint used!");
                    console.log(feature.geojson);
                  }
                  lat = Number(feature.geometry.coordinates[0][0]);
                  lng = Number(feature.geometry.coordinates[0][1]);
                }
                var marker = null;
                if (isNaN(lat) || isNaN(lng)) {
                  // faulty coordinates
                  console.log(feature);
                  return;
                }
                if (options.heat) {
                  // add point to heatmap
                  markerGroup.addLatLng([
                    lat,
                    lng,
                    feature.properties[options.heat],
                  ]);
                  return;
                }
                var leaflet_icon;
                if (options.divIconFunc) {
                  var func = getDivIconFunc(options.divIconFunc);
                  leaflet_icon = L.divIcon(func(options, feature));
                } else if (feature.properties.icon) {
                  leaflet_icon = L.ImageIcon(feature.properties.icon);
                } else if (options.icon) {
                  leaflet_icon = L.ImageIcon(options.icon);
                } else {
                  leaflet_icon = L.colorIcon(color);
                }
                var fillOpacity =
                  options.fillOpacity === undefined ? 0.4 : options.fillOpacity;
                if (options.customCP && feature.properties.id) {
                  // add special CP marker
                  marker = L.marker([lat, lng], {
                    icon: leaflet_icon,
                    interactive: true,
                    draggable:
                      _permissions.lisAccess >= 2 && !feature.properties.locked,
                    riseOnHover: true,
                    zIndexOffset: 100,
                    contextmenu:
                      _permissions.lisAccess >= 2 && !feature.properties.locked,
                    contextmenuInheritItems: false,
                    contextmenuItems: [
                      {
                        // this has to be the first entry!
                        text: feature.properties.search
                          ? "Entferne Suchraum"
                          : "Bestimme Suchraum",
                        iconCls: feature.properties.search
                          ? "ion ion-md-close"
                          : "ion ion-md-create",
                        callback: feature.properties.search
                          ? _lis_modal.removeSearchPoly
                          : _lis_modal.addSearchPoly,
                      },
                      {
                        text: "Entferne Ladestandort",
                        iconCls: "ion ion-md-trash",
                        callback: function callback(e) {
                          (0, _lis_modal.removeCustomCPCallback)(
                            e.relatedTarget
                          );
                        },
                      },
                    ],
                  });
                  if (feature.properties.search && !feature.properties.locked) {
                    marker.searchPoly = L.geoJSON(feature.properties.search, {
                      style: function style(_) {
                        return {
                          stroke: true,
                          color: _map2.COLORS.searchPolygon,
                          opacity: 1,
                          weight: 2,
                          interactive: false,
                          fill: true,
                          fillColor: _map2.COLORS.searchPolygon,
                          fillOpacity: fillOpacity,
                          noClip: true,
                        };
                      },
                    });
                  }
                  markerArray.push(marker); //marker.addTo(markerGroup);
                  // post processing: actually add marker to map
                  (0, _lis_modal.addCustomCPToMap)({
                    marker: marker,
                    properties: feature.properties,
                  });
                  return; // important (no popup)
                }
                if (options.comment) {
                  marker = L.marker([lat, lng], {
                    icon: leaflet_icon,
                    interactive: true,
                    draggable: false,
                    riseOnHover: true,
                    zIndexOffset: 100,
                    contextmenu: true,
                    contextmenuInheritItems: false,
                    contextmenuItems:
                      _permissions.chatAccess < 2
                        ? []
                        : [
                            {
                              text: "Entferne Kommentar",
                              iconCls: "ion ion-md-trash",
                              callback: function callback(e) {
                                (0, _comment_modal.deleteComment)(
                                  e.relatedTarget
                                );
                              },
                            },
                          ],
                  }); //marker.addTo(markerGroup);
                  markerArray.push(marker);
                  marker.properties = feature.properties;
                  if (!marker.properties.images) marker.properties.images = []; // callback for click: open modal window
                  marker.on("click", function (_) {
                    (0, _comment_modal.updateComment)(marker);
                  });
                  return; // important (no popup)
                }
                if (!(options.radius < 0)) {
                  //radius null or not negative: add marker
                  marker = L.marker([lat, lng], {
                    icon: leaflet_icon,
                    interactive: typeof feature.properties !== "undefined",
                  });
                  markerArray.push(marker);
                } else {
                  // radius negative: no marker -> circle only
                  // may be search radius of proposed LIS site
                  marker = L.circle([lat, lng], -options.radius, {
                    stroke: !options.customCP,
                    color: color,
                    fill: true,
                    fillColor: color,
                    fillOpacity: fillOpacity,
                    interactive: typeof feature.properties !== "undefined",
                  });
                  markerArray.push(marker);
                }
                marker.properties = feature.properties;
                if (marker && options.customCP && feature.properties) {
                  var table = ""; //let table = "<tr><td><b>Beschreibung</b></td><td>" + feature.properties.desc + "</td></tr>";
                  if (feature.properties.count)
                    table +=
                      "<tr><td><b>Anzahl</b></td><td>" +
                      feature.properties.count +
                      "</td></tr>";
                  if (feature.properties.order)
                    table +=
                      "<tr><td><b>Platzierung</b></td><td>" +
                      feature.properties.order +
                      "</td></tr>"; // add other feature properties, like nearby POI. Go wild.
                  table = '<table style="width:100%;">' + table + "</table>";
                  if (_map2.HAS_TOUCH) marker.bindPopup(table);
                  else
                    marker.bindTooltip(table, {
                      direction: "top",
                      offset: [-1, 1],
                      sticky: true,
                    });
                } else if (marker && feature.properties.desc) marker.bindPopup(feature.properties.desc);
                if (options.radius > 0) {
                  // radius positive: add semi-transparent circle around marker
                  // check if this feature already has a radius (multiple features with same property)
                  if (options.rejectDoubleRadius) {
                    if (
                      feature.properties[options.rejectDoubleRadius] ===
                      lastValue
                    )
                      return;
                    else
                      lastValue =
                        feature.properties[options.rejectDoubleRadius];
                  }
                  var circle = L.circle([lat, lng], options.radius, {
                    stroke: false,
                    fill: true,
                    fillColor: color,
                    fillOpacity: fillOpacity,
                    interactive: false,
                  });
                  if (options.clustered) {
                    //circle.addTo(radiusGroup);
                    radiusArray.push(circle);
                  } else {
                    //circle.addTo(markerGroup);
                    markerArray.push(circle);
                  }
                }
                if (options.fit) {
                  // update bounding box to fit all features in viewing port
                  if (bbox == null)
                    bbox = [
                      [lat, lng],
                      [lat, lng],
                    ];
                  bbox[0][0] = Math.min(bbox[0][0], lat);
                  bbox[0][1] = Math.min(bbox[0][1], lng);
                  bbox[1][0] = Math.max(bbox[1][0], lat);
                  bbox[1][1] = Math.max(bbox[1][1], lng);
                }
                break;
              case "LineString":
              case "MultiLineString":
              case "Polygon":
              case "MultiPolygon": //lines/polygons: array of latlngs
                // if (DEBUG) console.log(feature)
                var desc = feature.properties.desc;
                var opacity =
                  options.fillOpacity === undefined ? 1.0 : options.fillOpacity; // special description format: opacity and text
                if (desc && desc instanceof Array && desc.length > 1) {
                  opacity = desc[0];
                  desc = desc[1];
                }
                var lineColor =
                  options.lineDarken != null
                    ? chroma(color).darken(options.lineDarken)
                    : color;
                var fillColor = options.fillColor || color;
                var polyOptions = {
                  stroke: true,
                  color: lineColor,
                  opacity:
                    options.lineOpacity != null ? options.lineOpacity : opacity,
                  weight: options.lineWidth != null ? options.lineWidth : 2,
                  dashArray: options.radius,
                  interactive: desc != undefined,
                  fill:
                    feature.geometry.type.includes("Polygon") &&
                    (options.fillColor || desc != undefined)
                      ? true
                      : false,
                  fillColor: fillColor,
                  fillOpacity: opacity,
                  noClip: true,
                  smoothFactor:
                    options.smoothFactor != null ? options.smoothFactor : 1.0,
                };
                var poly = feature.geometry.type.includes("Polygon")
                  ? L.polygon(feature.geometry.coordinates, polyOptions)
                  : L.polyline(feature.geometry.coordinates, polyOptions);
                poly.properties = feature.properties;
                if (desc) {
                  // add tooltip to marker
                  if (_map2.HAS_TOUCH) poly.bindPopup(desc);
                  else
                    poly.bindTooltip(desc, { direction: "top", sticky: true });
                  poly.properties.desc = desc;
                }
                if (options.deflate != null) {
                  poly.addTo(deflateGroup);
                } else {
                  //poly.addTo(markerGroup);
                  markerArray.push(poly);
                } // fit map to show feature collection
                if (options.fit) {
                  if (bbox == null) {
                    bbox = poly.getBounds();
                  } else {
                    // update bounding box to fit all features in viewing port
                    bbox.extend(poly.getBounds());
                  }
                } // feature collection is restricted zone
                if (options.restricted) _restrictPoly.push(poly);
                break;
            }
          });
          if (options.deflate != null) {
            markerArray.push(deflateGroup);
          } //add feature layer to map
          if (markerGroup.addLayers) {
            // chunkedLoading really improves performance with large datasets
            markerGroup.addLayers(markerArray, { chunkedLoading: true });
          } else {
            for (var i = 0; i < markerArray.length; i++) {
              markerGroup.addLayer(markerArray[i]);
            }
          }
          if (radiusGroup) {
            if (radiusGroup.addLayers) radiusGroup.addLayers(radiusArray);
            else
              for (var _i = 0; _i < radiusArray.length; _i++) {
                radiusGroup.addLayer(radiusArray[_i]);
              }
          } // if desired, fit map to features
          if (options.fit && bbox != null) _map.fitBounds(bbox); // return layer group(s)
          if (radiusGroup) {
            return [markerGroup, radiusGroup];
          } else return markerGroup;
        } // Generate DIV icon drawing function for cluster. Depends on options.clusterClass
        function newIconCreateFunction(options) {
          return function (cluster) {
            var childCount = cluster.getChildCount();
            var c = "";
            if (options.clusterClass) {
              c = options.clusterClass + " " + options.clusterClass;
              if (childCount < 10) {
                c += "-small";
              } else if (childCount < 100) {
                c += "-medium";
              } else {
                c += "-large";
              }
            }
            var icon = new L.DivIcon({
              html: "<div><span>" + childCount + "</span></div>",
              className: "marker-cluster " + c,
              iconSize: new L.Point(40, 40),
            });
            return icon;
          };
        } // create radius group from options
        function getOrCreateRadiusGroup(options) {
          // get or create radiusGroup
          if (options.radiusGroup) return options.radiusGroup;
          var clusterRadius = parseFloat(options.clustered) || 80;
          var radiusGroup = L.markerClusterGroup({
            maxClusterRadius: clusterRadius,
            clusterPane: "overlayPane",
            disableClusteringAtZoom: 18,
            polygonOptions: { color: options.clusterPolyColor || "#0080ff" },
            iconCreateFunction: newIconCreateFunction(options),
          });
          if (options.name)
            _ctrlLayer.addOverlay(radiusGroup, options.radiusGroupName);
          _map.addLayer(radiusGroup);
          return radiusGroup;
        } // create markerGroup from options
        function getOrCreateMarkerGroup(options) {
          // get markerGroup from options when existing
          if (options.markerGroup) return options.markerGroup; //create new featureGroup for feature collection
          if (options.heat) {
            // new heatmap
            options.radius = options.radius || 100;
            options.heatmax = options.heatmax || 1.0; // var markerGroup = new HeatmapOverlay({
            // maxOpacity: 0.5,
            // valueField: 'intensity'
            // });
            // maxZoom option is set to map min zoom. Everything below maxZoom changes heatmap presentation at zoom (intesity). MaxZoom is a leaflet layer option, though: it disables layer toggling when zoom is below maxZoom. This is disabled in map.js.
            //_map.createPane('heatPane').style.opacity = 0.5;
            _map.createPane("heatPane").style.zIndex = 300;
            var colormap_select = document.getElementById("colormap-select");
            var markerGroup = L.heatLayer([], {
              pane: "heatPane",
              radius: (0, _utils.metersInPixels)(options.radius),
              blur: (0, _utils.metersInPixels)(options.radius) / 2,
              _maxZoom: _map.getMinZoom(),
              abs_radius: options.radius,
              max: options.heatmax,
              gradient: (0, _utils.colormapToGradient)(colormap_select.value),
              blendMultiply: true,
            }); // make heatmap legend toggle with layer
            var legend = document.getElementById("heat_legend");
            markerGroup.on("add", function (_) {
              if (legend) {
                legend.style.visibility = "visible";
              }
            });
            markerGroup.on("remove", function (_) {
              if (legend) legend.style.visibility = "hidden";
            });
          } else if (options.clustered) {
            // special cluster options
            var clusterRadius = parseFloat(options.clustered) || 80; // default
            var clusterRadiusFct = function clusterRadiusFct(zoom) {
              return zoom >= _map2.MAX_ZOOM ? 25 : clusterRadius;
            }; // max zoom: reduce cluster radius to 25 px / ~10 m
            var markerGroup = L.markerClusterGroup({
              maxClusterRadius: clusterRadiusFct,
              polygonOptions: {
                color: options.clusterPolyColor || _map2.COLORS.defaultCluster,
              },
              iconCreateFunction: newIconCreateFunction(options),
            });
          } else {
            var markerGroup = L.featureGroup(); //var markerGroup = L.markerClusterGroup({
            //disableClusteringAtZoom: 1
            //});
          } // add to map and control
          if (options.name) _ctrlLayer.addOverlay(markerGroup, options.name);
          _map.addLayer(markerGroup);
          return markerGroup;
        } // Update the colormap used on the map.
        function setHeatColormap(colormapName) {
          if (chroma.brewer[colormapName]) {
            var select_elem = document.getElementById("colormap-select");
            if (!select_elem) return;
            if (select_elem.value != colormapName) {
              select_elem.value = colormapName;
            }
            var legend = document.getElementById("heat_legend");
            var legend_2 = document.getElementById("heat_legend_2");
            var bg =
              "linear-gradient(to right, " +
              chroma.brewer[colormapName].join(",") +
              ")";
            legend.style.background = bg;
            legend_2.style.background = bg;
            if (_heatLayer) {
              _heatLayer.setOptions({
                gradient: (0, _utils.colormapToGradient)(colormapName),
              });
            }
          } else {
            console.log("not a colormap:", colormapName);
          }
        } /************************  Evaluation  ************************/ // Callback to show evaluation data on map. User is given option to add spot permanently. Called from form.html.
        // Input: data - standard feature with geometry and properties (including description)
        function showEvaluation(data) {
          // bad feature
          if (!data.geometry || !data.properties) return; //if (DEBUG) console.log(data.properties);
          //generate HTML popup
          var popup = (0, _utils.addElem)(
            "eval_popup",
            null,
            document.body,
            "DIV"
          ); //let popupHeader = addElem("eval_popup_header", "Bewertung", popup, "P");
          var popupContent = (0, _utils.addElem)(null, null, popup, "DIV");
          var table = (0, _utils.addElem)(
            "eval_popup_table",
            null,
            popupContent,
            "TABLE"
          );
          var tableBody = (0, _utils.addElem)("tbody", null, table, "TBODY");
          var tableRow = (0, _utils.addElem)(null, null, tableBody, "TR");
          (0, _utils.addElem)(
            "eval_popup_table_key",
            "Potenzial",
            tableRow,
            "TD"
          );
          (0, _utils.addElem)(
            "eval_popup_table_val",
            data.properties.potential + "%",
            tableRow,
            "TD"
          ); // rows of table with similar structure. key/text dictionary
          var rows = {
            POI: "POI",
            residents: "Einwohner",
            LIS: "Existierende Ladepunkte",
            CLIS: "Eigene Standorte",
          };
          for (var r in rows) {
            var _tableRow = (0, _utils.addElem)(null, null, tableBody, "TR");
            (0, _utils.addElem)(
              "eval_popup_table_key",
              rows[r] + " innerhalb " + data.properties.distance + "m",
              _tableRow,
              "TD"
            );
            (0, _utils.addElem)(
              "eval_popup_table_val",
              data.properties[r],
              _tableRow,
              "TD"
            );
          }
          if (!data.properties.street)
            (0, _utils.addElem)(
              null,
              "MÃ¶glicherweise nicht in der NÃ¤he einer StraÃŸe!",
              popupContent,
              "P"
            ); // evaluation conclusion with smiley. Unicode smileys in too high block (U+1F642 is happy face), so prefix is needed.
          if (data.properties.potential > 66)
            (0, _utils.addElem)(
              "eval_popup_good",
              "Platzierung: " +
                data.properties.place.join(" / ") +
                " \uD83D\uDE42",
              popupContent,
              "P"
            );
          else if (data.properties.potential < 33)
            (0, _utils.addElem)(
              "eval_popup_bad",
              "Platzierung: " +
                data.properties.place.join(" / ") +
                " \uD83D\uDE41",
              popupContent,
              "P"
            );
          else
            (0, _utils.addElem)(
              "eval_popup_ugly",
              "Platzierung: " +
                data.properties.place.join(" / ") +
                " \uD83D\uDE10",
              popupContent,
              "P"
            ); // add buttons with callbacks
          var btnDiv = (0, _utils.addElem)(
            "eval_popup_center_div",
            null,
            popup,
            "DIV"
          );
          btnDiv.style = "text-align:center;";
          if (_permissions.lisAccess >= 2) {
            var addBtn = (0, _utils.addElem)(
              "button btn--cta eval_popup_button",
              null,
              btnDiv,
              "INPUT"
            );
            addBtn.type = "button";
            addBtn.value = "Platziere Ladestandort";
            addBtn.title = "Hier einen Ladestandort setzen";
            L.DomEvent.on(addBtn, "click", function (_) {
              (0,
              _lis_modal.addCustomCPCallback)({ latlng: { lat: data.geometry.coordinates[0], lng: data.geometry.coordinates[1] } });
              _map.closePopup();
            });
          }
          var betterBtn = (0, _utils.addElem)(
            "button btn--cta eval_popup_button",
            null,
            btnDiv,
            "INPUT"
          );
          betterBtn.type = "button";
          betterBtn.value = "Alternative";
          if (data.properties.better) {
            L.DomEvent.on(betterBtn, "click", function (_) {
              _map.closePopup();
              swap(data.properties.better.coordinates);
              _map.openPopup(
                "Besserer Standort",
                data.properties.better.coordinates
              );
            });
            betterBtn.title =
              "Alternativen Standort in der Umgebung vorschlagen";
          } else {
            betterBtn.disabled = true;
            betterBtn.title =
              "Kein besserer Standort in der Umgebung verfÃ¼gbar";
          } // open popup
          _map.openPopup(popup, data.geometry.coordinates, {
            closeOnClick: false,
          });
        } /************************  features ************************/ // let user download a text file
        // build clickable link in background
        // input:
        // 	stringArray - array of strings to export. Each element is a line.
        //	mimetype - MIME type of blob, e.g. 'text/json', 'text/csv', 'text/plain', ...
        //	linebreak - customizable linebreak characters. Appended to each line. Defaults to \r\n
        function exportTextBlob(stringArray) {
          var filename =
            arguments.length > 1 && arguments[1] !== undefined
              ? arguments[1]
              : "data.txt";
          var mimetype =
            arguments.length > 2 && arguments[2] !== undefined
              ? arguments[2]
              : "text/plain";
          var linebreak =
            arguments.length > 3 && arguments[3] !== undefined
              ? arguments[3]
              : "\r\n"; // join stringArray to one long string
          var chars = stringArray.join(linebreak); // build downloadable link
          if (window.navigator.msSaveOrOpenBlob) {
            var blob = new Blob([encodeURIComponent(chars)], {
              type: mimetype,
            });
            window.navigator.msSaveBlob(blob, filename); // IE?
          } else {
            var link = window.document.createElement("a"); // link.href = window.URL.createObjectURL(blob);
            // write text to link
            link.href =
              "data:" +
              mimetype +
              ";charset=utf-8," +
              encodeURIComponent(chars);
            link.target = "_blank";
            link.download = filename; // append and execute
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
          }
        } // callback to all custom placed LIS as CSV
        // only possible for LIS read permission, so power table can be read as well
        function exportLISasCSV() {
          var separator =
            arguments.length > 0 && arguments[0] !== undefined
              ? arguments[0]
              : "\t";
          var locale =
            arguments.length > 1 && arguments[1] !== undefined
              ? arguments[1]
              : "de-DE";
          if (!_markers.length) {
            alert("Keine Ladestandorte vorhanden.");
            return;
          }
          var lines = []; // write header
          {
            var line = [
              "name",
              "latitude",
              "longitude",
              "power",
              "access_rating",
              "area_rating",
              "competition_rating",
            ]; // Add column names for evaluation
            for (
              var _i2 = 0,
                _Object$entries = Object.entries(
                  _markers[0].properties.evaluation
                );
              _i2 < _Object$entries.length;
              _i2++
            ) {
              var _Object$entries$_i = _slicedToArray(_Object$entries[_i2], 2),
                key = _Object$entries$_i[0],
                entry = _Object$entries$_i[1];
              var powers = [];
              var counts = [];
              for (var i = 0; i < entry.length; i++) {
                var d = entry[i];
                powers.push(key + "kW_" + d.year + "_power");
                counts.push(key + "kW_" + d.year + "_count");
              }
              line = line.concat(powers, counts);
            }
            line.push("description");
            lines.push(line.join(separator));
          } // write rows
          // Use localized number format to satisfy Excel
          var localize_num = function localize_num(num) {
            return num.toLocaleString(locale, {
              maximumSignificantDigits: 10,
              useGrouping: false,
            });
          }; // order markers by id asc
          _markers = _markers.sort(function (a, b) {
            return a.properties.id - b.properties.id;
          }); // cycle through custom markers and stringify them
          for (var _i3 = 0; _i3 < _markers.length; _i3++) {
            var m = _markers[_i3];
            var _line = [
              (0, _utils.escapeCsvStringUgly)(m.properties.name),
              localize_num(m.getLatLng().lat),
              localize_num(m.getLatLng().lng),
              (0, _utils.escapeCsvStringUgly)(
                m.properties.power_table
                  .map(function (p) {
                    return (
                      p.count +
                      "x" +
                      localize_num(p.power) +
                      "kW(x" +
                      localize_num(p.demand_factor) +
                      ")"
                    );
                  })
                  .join(" ")
              ),
              localize_num(m.properties.rating.access),
              localize_num(m.properties.rating.area),
              localize_num(m.properties.rating.competition),
            ]; // Add evaluation values
            for (
              var _i4 = 0,
                _Object$values = Object.values(m.properties.evaluation);
              _i4 < _Object$values.length;
              _i4++
            ) {
              var _entry = _Object$values[_i4];
              var _powers = [];
              var _counts = [];
              for (var _i5 = 0; _i5 < _entry.length; _i5++) {
                var _d2 = _entry[_i5];
                _powers.push(localize_num(_d2.power));
                _counts.push(localize_num(_d2.count));
              }
              _line = _line.concat(_powers, _counts);
            } // append description
            _line.push(
              (0, _utils.escapeCsvStringUgly)(m.properties.description)
            );
            lines.push(_line.join(separator));
          } // create a nice file name
          var file_name = "Ladestandorte_Export";
          if (_region && _region.name) {
            file_name += "_" + (0, _utils.stringToFileName)(_region.name);
          }
          file_name += ".csv"; // export
          exportTextBlob(lines, file_name, "text/csv");
        } // callback to all custom placed LIS as JSON
        // only possible for LIS read permission, so power table can be read as well
        function exportLISasJSON() {
          if (!_markers.length) {
            alert("Keine Ladestandorte vorhanden.");
            return;
          }
          var lis_list = []; // order markers by id asc
          _markers = _markers.sort(function (a, b) {
            return a.properties.id - b.properties.id;
          }); // cycle through custom markers and stringify them
          for (var i = 0; i < _markers.length; i++) {
            var m = _markers[i];
            var lis = {
              type: "Feature",
              properties: {
                id: m.properties.id,
                type: m.properties["public_type"],
                name: m.properties.name,
                description: m.properties.description,
                files: m.properties.images.map(function (i) {
                  return new URL(i.url, window.location.href);
                }),
                power_table: m.properties.power_table,
                checklist: m.properties.checklist,
                rating: m.properties.rating,
                search: m.properties.search,
                evaluation: m.properties.evaluation,
              },
              geometry: {
                type: "Point",
                coordinates: [m.getLatLng().lng, m.getLatLng().lat],
              },
            };
            lis_list.push(lis);
          }
          var json = {
            type: "FeatureCollection",
            name: _region.name,
            url: window.location.href,
            timestamp: Date.now(),
            crs: {
              type: "name",
              properties: { name: "urn:ogc:def:crs:OGC:1.3:CRS84" },
            },
            features: lis_list,
          };
          var json_str = JSON.stringify(json, null, 2); // create a nice file name
          var file_name = "Ladestandorte_Export";
          if (_region && _region.name) {
            file_name += "_" + (0, _utils.stringToFileName)(_region.name);
          }
          file_name += ".geojson";
          exportTextBlob([json_str], file_name, "text/json");
        } // Export shown potential to json file
        function exportPotential() {
          if (!_heatLayer || !_heatLayer._latlngs) {
            alert(
              "Kein Potential zum Exportieren vorhanden.\nStarte dafÃ¼r vorher eine Berechnung!"
            );
            return null;
          }
          var points = _heatLayer._latlngs;
          var geojson = { type: "FeatureCollection", features: [] };
          for (var i = 0; i < points.length; i++) {
            var point = {
              type: "Feature",
              geometry: {
                type: "Point",
                coordinates: [points[i][1], points[i][0]],
              },
              properties: { potential: points[i][2] },
            };
            geojson.features.push(point);
          }
          var json_str = JSON.stringify(geojson, null, 2);
          exportTextBlob([json_str], "export_potential.geojson", "text/json");
        }
      },
      {
        "./comment_modal": 4,
        "./layer": 7,
        "./lis_modal": 8,
        "./map": 9,
        "./utils": 14,
      },
    ],
    7: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.removeLayers = removeLayers;
        exports.removeLayer = removeLayer;
        exports.getLayerFromName = getLayerFromName;
        var _AHP = require("./AHP");
        var _map2 = require("./map"); /** Remove layer(s) **/ // callback for context menu entry: remove all overlays from map and layer control
        // CCP: custom charging points. If set, custom charging points layer is preserved
        // This method has to reset global variables as well
        function removeLayers(_event, CCP) {
          // remove all overlays: number of layers changes -> no iteration update of i
          for (var i = 0; i < _ctrlLayer._layers.length; ) {
            var l = _ctrlLayer._layers[i];
            if (!l.overlay) i++; // skip non-overlays
            else if (l.layer === _markerLayer)
              i++; // skip custom CP layer on option
            else {
              if (l.layer.clearLayers) l.layer.clearLayers();
              _ctrlLayer.removeLayer(l.layer);
              _map.removeLayer(l.layer);
            }
          }
          if (_heatLayer) {
            _heatLayer = null;
          }
          if (!CCP) _map.removeLayer(_markerLayer);
          while (_restrictPoly.length) {
            (0, _map2.removeRestrictPoly)(_restrictPoly.pop());
          } // remove AHP data layers
          Object.keys(_AHPLayers).forEach(function (key) {
            var input = document.getElementById(key);
            (0, _AHP.removeLayerFromMap)(input);
          }); // disable computation save
          var saveBtn = document.getElementById("querysave");
          if (saveBtn) {
            saveBtn.style.visibility = "hidden";
            saveBtn.value = "";
          }
        } // remove single layer by layer name or reference
        function removeLayer(layer) {
          if (typeof layer === "string") layer = getLayerFromName(layer);
          if (!layer) return;
          if (layer.clearLayers) layer.clearLayers();
          _ctrlLayer.removeLayer(layer);
          _map.removeLayer(layer); // custom marker layer deleted? Hide CCP from map
          if (layer === _markerLayer) {
            _map.removeLayer(_markerLayer);
          } // heat layer deleted?
          if (_heatLayer && layer._leaflet_id === _heatLayer._leaflet_id) {
            _heatLayer = null;
          }
        } // get layer from layer name in layer control menu
        function getLayerFromName(layerName) {
          for (var i = 0; i < _ctrlLayer._layers.length; i++) {
            var l = _ctrlLayer._layers[i];
            if (l.overlay && l.name === layerName) {
              return l.layer;
            }
          }
          return null;
        }
      },
      { "./AHP": 1, "./map": 9 },
    ],
    8: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.resetLISForm = resetLISForm;
        exports.addCustomCPCallback = addCustomCPCallback;
        exports.updateLisModal = updateLisModal;
        exports.markDirty = markDirty;
        exports.saveLisChanges = saveLisChanges;
        exports.openLisModal = openLisModal;
        exports.addCustomCPToMap = addCustomCPToMap;
        exports.highlightCCP = highlightCCP;
        exports.addSearchPoly = addSearchPoly;
        exports.removeSearchPoly = removeSearchPoly;
        exports.removeCustomCPCallback = removeCustomCPCallback;
        exports.removeCustomCPFromMap = removeCustomCPFromMap;
        exports.handleNewLisDescription = handleNewLisDescription;
        exports.handleNewLisMessage = handleNewLisMessage;
        exports.addNewLisChecklistItem = addNewLisChecklistItem;
        exports.addLisPowerTableRow = addLisPowerTableRow;
        exports.evalLisPowerTable = evalLisPowerTable;
        exports.handleNewLisImg = handleNewLisImg;
        exports.handleDeleteLISFile = handleDeleteLISFile;
        exports.handleLisSurvey = handleLisSurvey;
        var _map2 = require("./map");
        var _features = require("./features");
        var _chat = require("./chat");
        var _table = require("./table");
        var _utils = require("./utils");
        function _slicedToArray(arr, i) {
          return (
            _arrayWithHoles(arr) ||
            _iterableToArrayLimit(arr, i) ||
            _nonIterableRest()
          );
        }
        function _nonIterableRest() {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance"
          );
        }
        function _iterableToArrayLimit(arr, i) {
          if (
            !(
              Symbol.iterator in Object(arr) ||
              Object.prototype.toString.call(arr) === "[object Arguments]"
            )
          ) {
            return;
          }
          var _arr = [];
          var _n = true;
          var _d = false;
          var _e = undefined;
          try {
            for (
              var _i = arr[Symbol.iterator](), _s;
              !(_n = (_s = _i.next()).done);
              _n = true
            ) {
              _arr.push(_s.value);
              if (i && _arr.length === i) break;
            }
          } catch (err) {
            _d = true;
            _e = err;
          } finally {
            try {
              if (!_n && _i["return"] != null) _i["return"]();
            } finally {
              if (_d) throw _e;
            }
          }
          return _arr;
        }
        function _arrayWithHoles(arr) {
          if (Array.isArray(arr)) return arr;
        } // reset hidden LIS form fields. Returns handle to LIS form.
        function resetLISForm() {
          var lisform = document.getElementById("lisform");
          if (lisform && lisform.elements) {
            for (var i = 1; i < lisform.elements.length; i++) {
              // element 0: csrf cookie
              var input = lisform.elements[i];
              if (input.type == "hidden") input.value = "";
            }
          }
          return lisform;
        }
        /*callback for context menu entry: add custom charging point to map and Django DB with given properties
    property options:
        region: id, defaults to currently selected region
        osm_id: string, optional
    callback argument e needs latlng field
*/ function addCustomCPCallback(e) {
          var properties = e.properties || {}; // populate form
          var lisform = resetLISForm();
          if (!lisform) return;
          lisform.geom.value = (0, _utils.geoJSONdumps)(e.latlng);
          lisform.osm_id.value = properties.osm_id || "";
          (0, _utils.fetchPost)("lis/create/", "lisform", 10000)
            .then(function (response) {
              return response.json();
            })
            .then(function (data) {
              var lis = data.customLIS;
              var nearby = data.nearby || [];
              if (lis) {
                (0, _features.showResult)(data);
                _region.customLIS.push(lis); // enable clicking on marker
                var marker = _markers.find(function (m) {
                  return m.properties.id == lis.id;
                });
                if (marker)
                  marker.on("click", function (_) {
                    openLisModal(lis.id);
                  }); // can new lis be placed?
                var customLisDisabled =
                  _region.lisLimit !== null &&
                  _markers.length >= _region.lisLimit; // find context menu entry by string, may disable it
                _map.contextmenu.setDisabled(
                  (0, _utils.getCMItemByLabel)("Platziere Ladestandort"),
                  customLisDisabled
                );
              }
              var _loop = function _loop(i) {
                // reset evaluation of all nearby markers
                var nearbyMarker = _markers.find(function (m) {
                  return m.properties.id == nearby[i];
                });
                if (nearbyMarker) nearbyMarker.properties.evaluation = null;
              };
              for (var i = 0; i < nearby.length; i++) {
                _loop(i);
              }
              if (data.message) {
                alert(data.message);
              }
            })
            .catch(function (err) {
              if (_map2.DEBUG) console.log(err);
            });
        } // Render event log messages in LIS modal
        function renderLisEventLog(lis_id) {
          (0, _chat.renderChat)(
            _chat_messages,
            "lis-event-log-messages",
            function (m) {
              return m.LIS == lis_id;
            },
            "lis"
          );
        } // Fill LIS modal popup with all infos from marker.
        function updateLisModal(marker) {
          // reset lisform
          var lisform = resetLISForm();
          var lis_id = document.getElementById("lis_id");
          if (!(marker && lisform && lis_id)) return;
          lis_id.value = marker.properties.id; // set LIS name
          updateLisName(marker.properties.name, marker.properties.locked); // update (potentially editable) coords input
          updateLisPositionField(marker.getLatLng(), marker.properties.locked); // set LIS type
          var radio = document.getElementById(
            "lis-type-" + marker.properties.public_type
          );
          if (radio) radio.checked = true; // LIS survey
          updateLisSurvey(_region.lis_survey, marker.properties.survey); // set LIS images
          updateLisImages(marker.properties.images); // power_table
          updateLisPowerTable(marker.properties.power_table || []); // checklist
          updateLisChecklist(marker.properties.checklist || []); // event log
          renderLisEventLog(marker.properties.id); // set invite link
          var inviteAnchor = document.getElementById("id_invite");
          if (inviteAnchor) {
            var url = new URL(inviteAnchor.href);
            url.searchParams.set("lis", marker.properties.id);
            url.searchParams.set("next", "map");
            inviteAnchor.href = url.toString();
          } // description
          if (_simplemde) {
            var desc_text = document.getElementById("lis-description-textarea");
            _simplemde.value(marker.properties.description);
            desc_text.value = marker.properties.description;
            _simplemde.codemirror.refresh();
          } // display locked status, allow (un)locking
          updateLisLock(marker);
          updateLisRating(marker.properties.rating); // evaluation results
          updateLisEvaluation(marker.properties); // no changes yet: reset dirty bits
          markClean();
        } // mark property as changed (dirty)
        function markDirty(item) {
          var box = document.getElementById("dirty-" + item);
          if (box) box.checked = true;
        } // mark LIS as unchanged (clean): unselect all checkboxes
        function markClean() {
          var dirty_boxes = document.getElementsByClassName("chk-dirty");
          var _iteratorNormalCompletion = true;
          var _didIteratorError = false;
          var _iteratorError = undefined;
          try {
            for (
              var _iterator = dirty_boxes[Symbol.iterator](), _step;
              !(_iteratorNormalCompletion = (_step = _iterator.next()).done);
              _iteratorNormalCompletion = true
            ) {
              var box = _step.value;
              box.checked = false;
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        } // save changes when closing modal view
        $("#lis-modal").on("closed.zf.reveal", saveLisChanges); // send LIS data to backend when it has changed (check dirty bit)
        function saveLisChanges() {
          //let form: HTMLFormElement = resetLISForm(); // don't reset form: overwrites hidden name field
          var form = document.getElementById("lisform"); // form and id have to be present
          var lis_id = document.getElementById("lis_id");
          if (!(form && lis_id)) return; // find out if changes were made
          var dirty = false;
          var dirty_names = [
            "name",
            "position",
            "type",
            "list",
            "power",
            "rating",
          ]; // loop over dirty bits
          for (var i = 0; i < dirty_names.length; i++) {
            var name = dirty_names[i];
            var box = document.getElementById("dirty-" + name);
            if (box && box.checked) {
              // bit set
              dirty = true;
              switch (name) {
                case "position": // set updated position
                  var latlng = (0, _utils.getLatLngFromString)(
                    form.position.value
                  );
                  form.geom.value = (0, _utils.geoJSONdumps)(latlng);
                  break;
                case "list": // get updated checklist
                  var checklist = getLisChecklist();
                  form.checklist.value = JSON.stringify(checklist);
                  break;
                case "power": // write out updated power table
                  form.power_table.value = JSON.stringify(evalLisPowerTable());
                  break;
                case "rating": // write out ratings
                  var rating_values = {};
                  for (
                    var _i = 0, _arr = ["access", "area", "competition"];
                    _i < _arr.length;
                    _i++
                  ) {
                    var category = _arr[_i];
                    var input = document.getElementById(category + "-rating");
                    if (input) rating_values[category] = input.value;
                  }
                  form.rating.value = JSON.stringify(rating_values);
                  break;
              }
            }
          } // no changes made: no need to save
          if (!dirty) return; // mark as clean again
          markClean(); // send form. Timeout: 30s
          (0, _utils.fetchPost)(
            "lis/" + lis_id.value + "/update/",
            "lisform",
            30000
          )
            .then(function (response) {
              return response.json();
            })
            .then(function (data) {
              var marker = _markers.find(function (m) {
                return m.properties.id == lis_id.value;
              });
              if (marker) {
                (function () {
                  var lis_info = data.customLIS;
                  var nearby = data.nearby || []; // update current LIS with returned info
                  var feature = (0, _features.obj2FeatureArray)(lis_info)[0];
                  marker.setLatLng(feature.geometry.coordinates); // set position on map
                  Object.assign(marker.properties, feature.properties); // copy properties
                  // reset evaluation of all nearby markers
                  var _loop2 = function _loop2(_i2) {
                    var nearbyMarker = _markers.find(function (m) {
                      return m.properties.id == nearby[_i2];
                    });
                    if (nearbyMarker) nearbyMarker.properties.evaluation = null;
                  };
                  for (var _i2 = 0; _i2 < nearby.length; _i2++) {
                    _loop2(_i2);
                  } // update site manager
                  (0, _table.renderSiteManagerTable)();
                })();
              } else {
                console.log("marker not found from response:");
                console.log(data);
              }
            })
            .catch(function (err) {
              if (_map2.DEBUG) console.log(err);
            });
        }
        /* Open the LIS modal with data from LIS with lis_id.
         *
         * open_tab: Open the accordion tab with the given jquery selector.
         */ function openLisModal(lis_id) {
          var open_tab =
            arguments.length > 1 && arguments[1] !== undefined
              ? arguments[1]
              : null;
          var marker = _markers.find(function (m) {
            return m.properties.id == lis_id;
          });
          if (marker) {
            updateLisModal(marker); // open modal window
            $("#lis-modal").foundation("open"); // open accordion tab
            if (typeof open_tab === "string") {
              $("#lis_modal_accordion").foundation("down", $(open_tab));
            }
            if (_simplemde) {
              _simplemde.togglePreview();
              _simplemde.togglePreview();
              _simplemde.codemirror.refresh(); // enter edit mode when description is empty
              if (!marker.properties.description) {
                setTimeout(function (_) {
                  if (_simplemde.isPreviewActive()) {
                    _simplemde.togglePreview();
                    _simplemde.codemirror.refresh();
                  }
                }, 200);
              }
            }
          }
        } // adds custom charging point to mapJSON
        // data: marker and feature properties (at least id from DB query)
        function addCustomCPToMap(data) {
          {
            var marker = data.marker;
            marker.properties = data.properties;
            if (!marker.properties.images) {
              marker.properties.images = [];
            } // add marker to custom marker array
            _markers.push(marker);
          } // mouseover: show search poylgon
          data.marker.on("mouseover", function (_) {
            if (data.marker.searchPoly) _map.addLayer(data.marker.searchPoly);
          });
          data.marker.on("mouseout", function (_) {
            if (data.marker.searchPoly)
              _map.removeLayer(data.marker.searchPoly);
          });
          data.marker.on("movestart", function (_) {
            data.marker._origin = data.marker.getLatLng();
          }); // callback for dragging: update DB geom
          data.marker.on("moveend", function (_) {
            var lisform = resetLISForm();
            if (lisform)
              lisform.geom.value = (0, _utils.geoJSONdumps)(
                data.marker.getLatLng()
              );
            else return;
            (0, _utils.fetchPost)(
              "lis/" + data.properties.id + "/update/",
              "lisform",
              10000
            )
              .then(function (response) {
                return response.json();
              })
              .then(function (result) {
                var nearby = result.nearby || [];
                var _loop3 = function _loop3(i) {
                  // reset evaluation of all nearby markers
                  var nearbyMarker = _markers.find(function (m) {
                    return m.properties.id == nearby[i];
                  });
                  if (nearbyMarker) nearbyMarker.properties.evaluation = null;
                };
                for (var i = 0; i < nearby.length; i++) {
                  _loop3(i);
                }
              })
              .catch(function (err) {
                if (_map2.DEBUG) console.log(err);
                data.marker.setLatLng(data.marker._origin);
              });
          });
        } // go to marker and let it bounce a bit
        function highlightCCP(id) {
          var id_field = document.getElementById("lis_id");
          if (id_field) id = id || id_field.value;
          var marker = _markers.find(function (m) {
            return m.properties.id == id;
          });
          if (!marker) return; // zoom to region? user feedback?
          _map.flyTo(marker.getLatLng(), _map2.MAX_ZOOM); // animate marker
          L.DomUtil.addClass(marker._icon, "bounce");
          setTimeout(function (_) {
            L.DomUtil.removeClass(marker._icon, "bounce");
          }, 3000);
        } // begin draw mode: let user define polygon around LIS
        function addSearchPoly(e) {
          _map.pm.enableDraw("Poly", {
            allowSelfIntersection: false,
            snappable: true,
            snapDistance: 20,
            tooltips: false,
            templineStyle: { color: _map2.COLORS.searchPolygon },
            hintlineStyle: {
              color: _map2.COLORS.searchPolygon,
              dashArray: [5, 5],
            },
            pathOptions: {
              interactive: false,
              color: _map2.COLORS.searchPolygon,
              fillColor: _map2.COLORS.searchPolygon,
              fillOpacity: 0.4,
            },
            cursorMarker: true,
          });
          _drawingMode = { search: e.relatedTarget };
          _map.getContainer().focus(); // focus on map to listen for key events
        } // remove search polygon from LIS. Update in backend as well.
        function removeSearchPoly(e) {
          // send to backend
          var lisform = resetLISForm();
          if (lisform) lisform.search.value = "removed";
          else return;
          (0, _utils.fetchPost)(
            "lis/" + e.relatedTarget.properties.id + "/update/",
            "lisform",
            10000
          )
            .then(function (response) {
              response.json().then(function (_data) {
                // remove on map
                _map.removeLayer(e.relatedTarget.searchPoly); // adjust context menu
                e.relatedTarget.options.contextmenuItems[0] = {
                  text: "Bestimme Suchraum",
                  iconCls: "ion ion-md-create",
                  callback: addSearchPoly,
                }; // unlink polygon layer from marker
                e.relatedTarget.searchPoly = null; // update customLIS container
                //Object.assign(_region.customLIS[_region.customLIS.findIndex(lis => lis.id === _data.id)], _data);
              });
            })
            .catch(function (err) {
              alert("Suchraum konnte nicht gelÃ¶scht werden.");
              if (_map2.DEBUG) console.log(err);
            });
        } // callback for context menu: remove targeted charging point.
        function removeCustomCPCallback(marker) {
          // remove from DB, but ask user first
          var lisform = resetLISForm();
          if (
            lisform &&
            confirm("Sind Sie sicher, dass dieser Punkt gelÃ¶scht werden soll?")
          ) {
            (0, _utils.fetchPost)(
              "lis/" + marker.properties.id + "/delete/",
              "lisform",
              10000
            )
              .then(function (response) {
                response.json().then(function (result) {
                  removeCustomCPFromMap(marker); // user that can delete LIS can also create LIS
                  // check if new LIS can be placed
                  var customLisDisabled =
                    _region.lisLimit !== null &&
                    _markers.length >= _region.lisLimit; // find context menu entry by string, may enable it
                  _map.contextmenu.setDisabled(
                    (0, _utils.getCMItemByLabel)("Platziere Ladestandort"),
                    customLisDisabled
                  );
                  var nearby = result.nearby || [];
                  var _loop4 = function _loop4(i) {
                    // reset evaluation of all nearby markers
                    var nearbyMarker = _markers.find(function (m) {
                      return m.properties.id == nearby[i];
                    });
                    if (nearbyMarker) nearbyMarker.properties.evaluation = null;
                  };
                  for (var i = 0; i < nearby.length; i++) {
                    _loop4(i);
                  }
                });
              })
              .catch(function (err) {
                if (_map2.DEBUG) console.log(err);
              });
          } else return;
        } // remove user-placed LIS from marker layer. Does not remove LIS from DB (use removeCustomCPCallback instead)
        function removeCustomCPFromMap(marker) {
          // remove marker from layer
          if (_markerLayer) _markerLayer.removeLayer(marker); // remove marker from custom marker array
          _markers = _markers.filter(function (m) {
            return m._leaflet_id != marker._leaflet_id;
          });
          marker.remove();
        } // update field at top of LIS modal
        function updateLisName(name, locked) {
          var nameSpan = document.getElementById("id_lisname");
          var nameInput = document.getElementById("id_lisname_input");
          var nameEdit = document.getElementById("id_lisname_edit"); // old (edited) name may still be in background -> revert changes
          if (nameSpan && nameInput && nameInput.type !== "hidden") {
            nameInput.type = "hidden";
            nameSpan.style.display = "";
          } // set marker name as title of window
          if (nameSpan) nameSpan.textContent = name;
          if (nameSpan && nameEdit && nameInput) {
            // can't edit locked LIS
            nameEdit.style.visibility = locked ? "hidden" : "initial"; // click on edit icon
            nameEdit.onclick = function (_) {
              if (nameInput.type === "hidden") {
                // no input: create input and callback
                nameSpan.style.display = "none"; // hide title
                nameInput.type = ""; // show input
                nameInput.focus();
                nameInput.value = name;
                nameInput.onchange = function (_) {
                  // name changed: mark LIS as dirty
                  if (nameInput.value != nameSpan.textContent)
                    markDirty("name"); // display new name
                  nameSpan.textContent = nameInput.value;
                  nameSpan.style.display = ""; // show title
                  nameInput.type = "hidden"; // hide input
                };
              } else {
                // edit button clicked while editing: apply changes
                nameInput.onchange(null);
              }
            };
          }
        } // update position field
        function updateLisPositionField(latlng, locked) {
          // update google maps link
          var gmaps_link = document.getElementById("google_maps_link");
          gmaps_link.href =
            "http://maps.google.com/maps?t=k&q=loc:" +
            latlng.lat.toFixed(6) +
            "+" +
            latlng.lng.toFixed(6);
          var coordSpan = document.getElementById("id_liscoords");
          var coordInput = document.getElementById("id_liscoords_input");
          var coordEdit = document.getElementById("id_liscoords_edit"); // old (edited) position may still be in background -> revert changes
          if (coordSpan && coordInput && coordInput.type !== "hidden") {
            coordInput.type = "hidden";
            coordSpan.style.display = "";
          } // show marker position in human-readable form
          var lat = Math.abs(latlng.lat).toFixed(_map2.PRECISION);
          lat += latlng.lat < 0 ? "Â°S" : "Â°N";
          var lng = Math.abs(latlng.lng).toFixed(_map2.PRECISION);
          lng += latlng.lng < 0 ? "Â°W" : "Â°O";
          coordSpan.textContent = lat + "; " + lng;
          coordSpan.style.color = "unset"; // reset any error coloring
          if (coordSpan && coordEdit && coordInput) {
            // can't edit locked LIS
            coordEdit.style.visibility = locked ? "hidden" : "initial"; // click on edit icon
            coordEdit.onclick = function (_) {
              if (coordInput.type === "hidden") {
                // no input: show input, create callback
                coordSpan.style.display = "none"; // hide span
                coordInput.type = ""; // show input
                coordInput.focus();
                coordInput.value = coordSpan.textContent;
                coordInput.onchange = function (_) {
                  // try to parse entered value
                  try {
                    (0, _utils.getLatLngFromString)(coordInput.value);
                    coordSpan.style.color = "unset"; // reset any error color
                  } catch (e) {
                    // can't parse: reset field, mark as error
                    coordInput.value = coordSpan.textContent;
                    coordSpan.style.color = _map2.COLORS.error;
                  } // coord changed: mark LIS as dirty
                  if (coordInput.value != coordSpan.textContent)
                    markDirty("position");
                  coordSpan.textContent = coordInput.value;
                  coordSpan.style.display = ""; // show title
                  coordInput.type = "hidden"; // hide input
                };
              } else {
                // edit button clicked while editing: apply changes
                coordInput.onchange(null);
              }
            };
          }
        } // display lock status, allow (un)locking
        function updateLisLock(marker) {
          var lockIcon = document.getElementById("lis-lock");
          if (!lockIcon) return;
          var lockIcons = ["ion-md-unlock", "ion-md-lock"];
          lockIcon.className =
            "lis-lock icon " + lockIcons[marker.properties.locked + 0];
          lockIcon.onclick = function (_) {
            // can't unlock while evaluation is in process
            if (marker.properties.locked && _region.lis_evaluation.running)
              return; // POST change: re-use LIS form
            var token =
              document.getElementById("lisform").csrfmiddlewaretoken.value;
            var form_data = new FormData();
            form_data.append("lock", !marker.properties.locked + "");
            form_data.append("csrfmiddlewaretoken", token);
            (0, _utils.fetchPost)(
              "lis/" + marker.properties.id + "/update/",
              form_data
            )
              .then(function (response) {
                return response.json();
              })
              .then(function (result) {
                // Lock status affects map display -> redraw on map.
                // This invalidates marker reference, so close modal view
                var markerdata = result.customLIS;
                $("#lis-modal").foundation("close");
                marker.removeFrom(_map);
                marker.removeFrom(_markerLayer);
                _markers = _markers.filter(function (l) {
                  return l._leaflet_id != marker.leafletID;
                });
                (0, _features.showResult)({ customLIS: markerdata });
                var _iteratorNormalCompletion2 = true;
                var _didIteratorError2 = false;
                var _iteratorError2 = undefined;
                try {
                  var _loop5 = function _loop5() {
                    var m = _step2.value; // set correct ID for opening
                    m.on("click", function (_) {
                      openLisModal(m.properties.id);
                    });
                  };
                  for (
                    var _iterator2 = _markers[Symbol.iterator](), _step2;
                    !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next())
                      .done);
                    _iteratorNormalCompletion2 = true
                  ) {
                    _loop5();
                  }
                } catch (err) {
                  _didIteratorError2 = true;
                  _iteratorError2 = err;
                } finally {
                  try {
                    if (
                      !_iteratorNormalCompletion2 &&
                      _iterator2.return != null
                    ) {
                      _iterator2.return();
                    }
                  } finally {
                    if (_didIteratorError2) {
                      throw _iteratorError2;
                    }
                  }
                }
                _markers = _markerLayer.getLayers();
              })
              .catch(function (e) {
                if (_map2.DEBUG) console.log(e); // fail: notify user
                alert(
                  "Aktion nicht mÃ¶glich. Findet gerade eine Berechnung statt?"
                );
              });
          };
        } // **************** evaluation **************** //
        function showRating(category, value) {
          for (var i = 1; i <= 5; i++) {
            var star = document.getElementById(category + "-rating-" + i);
            if (!star) continue;
            if (i <= value) {
              star.classList.remove("ion-md-star-outline");
              star.classList.add("ion-md-star");
            } else {
              star.classList.remove("ion-md-star");
              star.classList.add("ion-md-star-outline");
            }
          }
        }
        function updateLisRating(ratings) {
          var _loop6 = function _loop6(category) {
            var rating = ratings[category];
            showRating(category, rating); // interactivity
            var input = document.getElementById(category + "-rating");
            var div = document.getElementById(category + "-rating-div");
            if (!input || !div) return "continue";
            input.value = rating;
            var _loop7 = function _loop7(i) {
              var star = document.getElementById(category + "-rating-" + i);
              if (!star) return "continue";
              star.style.cursor = "pointer";
              star.onclick = function (_) {
                if (i != rating) {
                  input.value = i + "";
                  markDirty("rating");
                  showRating(category, i);
                }
              };
              star.onmouseover = function (_) {
                showRating(category, i);
              };
            };
            for (
              var i = 1;
              i <= 5 && _permissions.evaluateCustomLis >= 2;
              i++
            ) {
              var _ret2 = _loop7(i);
              if (_ret2 === "continue") continue;
            }
            div.onmouseleave = function (_) {
              showRating(category, input.value);
            };
          }; // update rating
          for (var category in ratings) {
            var _ret = _loop6(category);
            if (_ret === "continue") continue;
          }
        }
        function updateLisEvaluation(properties) {
          // fill LIS evaluation table
          var eval_div = document.getElementById("lis-eval-wrapper-div");
          if (eval_div) {
            if (!properties.evaluation) {
              // hide evaluation table if no evaluation for this LIS is found
              eval_div.style.display = "none";
              return;
            } else {
              // make sure evaluation table is visible
              eval_div.style.display = "";
            }
          }
          var eval_fields = [
            "year",
            "score_population",
            "score_poi",
            "score_traffic",
            "power",
            "count",
          ];
          var nearby_fields = [
            "pop",
            "income",
            "green",
            "poi",
            "traffic",
            "lis",
          ];
          var highway_fields = ["motorway", "trunk", "primary", "secondary"];
          var dnetz_fields = [
            "search_area_id",
            "los_id",
            "region_name_full",
            "category_full",
          ];
          var _iteratorNormalCompletion3 = true;
          var _didIteratorError3 = false;
          var _iteratorError3 = undefined;
          try {
            for (
              var _iterator3 = (_region.lis_evaluation.types || [])[
                  Symbol.iterator
                ](),
                _step3;
              !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done);
              _iteratorNormalCompletion3 = true
            ) {
              var key = _step3.value; // fill evaluation table
              var table = document.getElementById("lis-eval-table" + key);
              if (!table) continue;
              var evaluation = properties.evaluation[key];
              if (eval_fields.length != table.rows[0].cells.length) {
                console.log(
                  "width mismatch: " +
                    eval_fields.length +
                    " vs " +
                    table.rows[0].cells.length
                );
                continue;
              }
              var body = table.tBodies[0]; // reset table body
              body.innerHTML = "";
              for (var index in evaluation) {
                // index is string: careful with arithmetic
                var row = body.insertRow(-1);
                for (var j = 0; j < eval_fields.length; j++) {
                  var value = (0, _utils.roundToStr)(
                    evaluation[index][eval_fields[j]],
                    0
                  );
                  (0, _utils.addElem)("", value, row, "TD");
                }
              } // update info spans
              var ex_lis_span = document.getElementById(
                "existing_lis_span_" + key
              );
              if (ex_lis_span) {
                if (evaluation.length)
                  ex_lis_span.innerText =
                    (0, _utils.roundToStr)(
                      evaluation[0].score_existing_lis * 100.0,
                      0
                    ) + "%";
                else ex_lis_span.innerText = "-";
              } // update proximity info
              for (var i = 0; i < nearby_fields.length; i++) {
                var field = nearby_fields[i];
                var info = {};
                var radius_span = document.getElementById(
                  "radius_" + field + "_span_" + key
                );
                var value_span = document.getElementById(
                  "value_" + field + "_span_" + key
                );
                try {
                  info = properties.evaluation.info.scenarios[key][field];
                } catch (_) {}
                if (radius_span) radius_span.innerText = info.radius || "-";
                if (value_span) value_span.innerText = info.value || "-";
              } // update nearest highway info
              for (var _i3 = 0; _i3 < highway_fields.length; _i3++) {
                var _field = highway_fields[_i3];
                var _info = {};
                var elem = document.getElementById(
                  "value_nearest_highway_" + _field + "_" + key
                );
                try {
                  _info = properties.evaluation.info.highways[_field];
                } catch (_) {}
                if (elem) {
                  if (_info) {
                    var km = _info.distance / 1000.0;
                    var decimals = Math.min(
                      3,
                      Math.max(0, 5 - Math.log10(_info.distance))
                    );
                    var text = (0, _utils.roundToStr)(km, decimals) + " km";
                    if (_info.name) {
                      text = text + " (" + _info.name + ")";
                    }
                    elem.innerText = text;
                  } else {
                    elem.innerText = "-";
                  }
                }
              } // update dnetz info
              for (var _i4 = 0; _i4 < dnetz_fields.length; _i4++) {
                var _field2 = dnetz_fields[_i4];
                var _info2 = null;
                var _elem = document.getElementById(
                  "evaluation_" + _field2 + "_" + key
                );
                try {
                  _info2 =
                    properties.evaluation.info.dnetz_search_area[_field2];
                } catch (_) {}
                if (_elem) {
                  if (_info2) {
                    _elem.innerText = _info2;
                  } else {
                    _elem.innerText = "-";
                  }
                }
              }
            }
          } catch (err) {
            _didIteratorError3 = true;
            _iteratorError3 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion3 && _iterator3.return != null) {
                _iterator3.return();
              }
            } finally {
              if (_didIteratorError3) {
                throw _iteratorError3;
              }
            }
          }
        } // **************** description and chat **************** //
        // Callback when someone wrote a new LIS description.
        function handleNewLisDescription() {
          var lis_id = document.getElementById("lis_id");
          var button = document.getElementById("lis-description-submit-btn");
          var textarea = document.getElementById("lis-description-textarea");
          if (!lis_id || !textarea || !button) {
            return; //oops
          } // This is needed because value is empty when editing with simplemde...
          textarea.value = _simplemde.value();
          button.disabled = true;
          (0, _utils.fetchPost)(
            "lis/" + lis_id.value + "/update/",
            "lis-description-form",
            30000
          )
            .then(function (response) {
              return response.json();
            })
            .then(function (data) {
              var marker = _markers.find(function (m) {
                return m.properties.id == lis_id.value;
              });
              if (marker) {
                // update current LIS with returned info
                var feature = (0, _features.obj2FeatureArray)(
                  data.customLIS
                )[0];
                Object.assign(marker.properties, feature.properties); // copy properties
                // set preview mode for markdown editor
                if (!_simplemde.isPreviewActive()) {
                  _simplemde.togglePreview();
                }
              }
            })
            .catch(function (err) {
              if (_map2.DEBUG) console.log(err);
            })
            .finally(function () {
              button.disabled = false;
            });
        } // Callback when someone wrote a new message in LIS chat.
        // Send to backend, show in frontend.
        function handleNewLisMessage() {
          var lisform = resetLISForm();
          var lis_id = document.getElementById("lis_id");
          var button = document.getElementById("new-lis-message-submit-btn");
          var message_area = document.getElementById("new-lis-message-text");
          if (!lisform || !lis_id || !message_area || !button) {
            return; //oops
          }
          button.disabled = true;
          (0, _utils.fetchPost)(
            "lis/" + lis_id.value + "/message/new/",
            "new-lis-message-form",
            30000
          )
            .then(function (response) {
              return response.json();
            })
            .then(function (msg) {
              _chat_messages = msg;
              renderLisEventLog(parseInt(lis_id.value, 10));
            })
            .catch(function (err) {
              if (_map2.DEBUG) console.log(err);
            })
            .finally(function () {
              message_area.value = "";
              button.disabled = false;
            });
        } // **************** checklist **************** //
        // create new checklist item with given item dictionary
        // members of item may be label, checked, default, user and modified - none is required (e.g. empty item)
        function createLisChecklistItem(item) {
          // get containing checklist div
          var checklist = document.getElementById("lis-checklist");
          if (!checklist) return null; // create cell
          var cell = (0, _utils.addElem)(
            "cell checklist__item",
            null,
            null,
            "DIV"
          );
          var isDefault = Boolean(item.default);
          if (isDefault) cell.classList.add("checklist__item--default");
          else cell.classList.add("checklist__item--custom"); // create div containing checkbox, label and infobox
          var checkDiv = (0, _utils.addElem)(
            "checklist__checkbox",
            null,
            cell,
            "DIV"
          );
          var checkbox = null; // create checkbox
          checkbox = (0, _utils.addElem)(
            "lis-checkbox",
            null,
            checkDiv,
            "input"
          );
          checkbox.type = "checkbox";
          checkbox.checked = Boolean(item.checked);
          checkbox.id = "checkbox_" + checklist.childElementCount;
          checkbox.disabled = _permissions.checklistAccess < 2;
          checkbox.onclick = function (_) {
            markDirty("list"); // made change -> mark as changed
            updateChecklistProgressBar(); // redraw progress bar
          }; // create label for checkbox
          var label = item.label || "";
          var checklbl = (0, _utils.addElem)(null, label, checkDiv, "label");
          checklbl.htmlFor = checkbox ? checkbox.id : null;
          checklbl.setAttribute("isdefault", isDefault.toString());
          checklbl.title = label; // create info div for checkbox (user, last edit)
          var user = item.user; // user first/last name. May be null/undefined
          var modified = item.modified; // UNIX timestamp. May be null/undefined
          if (user) {
            var infodiv = (0, _utils.addElem)(
              "icon icon--small ion-md-information-circle",
              null,
              checkDiv,
              "i"
            );
            infodiv.title = "Letzte Ã„nderung von " + user;
            if (modified) {
              // have fun with timestamps and different time formats
              // Django TS: unix in full seconds, JS: milliseconds
              var modDate = new Date(modified * 1000); // is modified from today?
              if (new Date().toDateString() === modDate.toDateString()) {
                // modified today: show time
                infodiv.title +=
                  " um " + modDate.toLocaleTimeString("de").substr(0, 5);
              } else {
                // not modified today: show date
                infodiv.title += " am " + modDate.toLocaleDateString("de");
              }
            }
          }
          if (!isDefault && _permissions.checklistAccess >= 2) {
            // non-default: make editable and removable
            // create input box to replace label
            var checkInput = (0, _utils.addElem)("", "", null, "input"); // create edit icon
            var editDiv = (0, _utils.addElem)(
              "icon icon--small ion-md-create",
              null,
              checkDiv,
              "i"
            ); // is this item in editable state?
            var editState = false;
            editDiv.onclick = function (_) {
              if (!editState) {
                // replace label with text input (same content)
                checkDiv.replaceChild(checkInput, checklbl);
                checkInput.value = checklbl.textContent;
                checkInput.focus();
                editState = true;
                checkInput.onchange = function (_) {
                  // finished editing -> replace text input with label
                  if (checklbl.textContent != checkInput.value)
                    markDirty("list"); // made change -> enable saving
                  checklbl.textContent = checkInput.value;
                  checkDiv.replaceChild(checklbl, checkInput);
                  editState = false;
                  checklbl.title = checkInput.value;
                };
              } else {
                // clicked on edit button while editing: finished editing
                checkInput.onchange(null);
              }
            }; // delete button: delete cell
            // create delete icon
            var delDiv = (0, _utils.addElem)(
              "checklist__delete",
              null,
              cell,
              "DIV"
            );
            (0, _utils.addElem)(
              "icon icon--medium ion-md-close",
              null,
              delDiv,
              "i"
            );
            delDiv.onclick = function (_) {
              checklist.removeChild(cell);
              markDirty("list"); // made change -> enable saving
              updateChecklistProgressBar(); // redraw progress bar
            };
          }
          return cell;
        } // redraw modal LIS view checklist
        function updateLisChecklist(checklist) {
          var checkDiv = document.getElementById("lis-checklist");
          if (!checkDiv) return; // empty checklist
          checkDiv.innerHTML = ""; // re-build checklist items
          for (var i = 0; i < checklist.length; i++) {
            var cell = createLisChecklistItem(checklist[i]);
            checkDiv.appendChild(cell);
          } // set progress bar
          updateChecklistProgressBar();
        } // add new empty item to LIS checklist
        function addNewLisChecklistItem() {
          var checklist = document.getElementById("lis-checklist");
          if (!checklist) return;
          var cell = createLisChecklistItem({});
          checklist.appendChild(cell); // open input for cell to edit -> simulate click on edit button
          cell.firstChild.children[2].click(); // made change: redraw progress bar, enable save
          updateChecklistProgressBar();
          markDirty("list");
        } // the current LIS checklist as array of dicts for ease of transportation
        function getLisChecklist() {
          var checklist = [];
          var checkListDiv = document.getElementById("lis-checklist"); // loop over checklist items
          for (
            var i = 0;
            checkListDiv && i < checkListDiv.childElementCount;
            i++
          ) {
            var cell = checkListDiv.children[i];
            var checkDiv = cell.firstChild;
            var checkbox = checkDiv.firstChild;
            var label = checkDiv.children[1];
            if (label.textContent != "") {
              checklist.push({
                label: label.textContent,
                default: label.getAttribute("isdefault") === "true",
                checked: checkbox.checked,
              });
            }
          }
          return checklist;
        } // update width of checklist progress bar
        function updateChecklistProgressBar() {
          var progress = document.getElementById("checklist-progress-bar");
          if (!progress)
            // can't update non-existent progress bar
            return; // get all checkboxes by special class
          var checkboxes = document.getElementsByClassName("lis-checkbox"); // get number of checked boxes
          var percent = 0;
          var _iteratorNormalCompletion4 = true;
          var _didIteratorError4 = false;
          var _iteratorError4 = undefined;
          try {
            for (
              var _iterator4 = checkboxes[Symbol.iterator](), _step4;
              !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done);
              _iteratorNormalCompletion4 = true
            ) {
              var box = _step4.value;
              percent += box.checked ? 1 : 0;
            }
          } catch (err) {
            _didIteratorError4 = true;
            _iteratorError4 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion4 && _iterator4.return != null) {
                _iterator4.return();
              }
            } finally {
              if (_didIteratorError4) {
                throw _iteratorError4;
              }
            }
          }
          if (checkboxes.length == 0) {
            progress.style.display = "none";
            document.getElementsByClassName(
              "lis-checklist-noitems"
            )[0].style.display = "";
          } else {
            progress.style.display = "";
            document.getElementsByClassName(
              "lis-checklist-noitems"
            )[0].style.display = "none";
          } // calculate fraction of checked boxes
          percent = percent ? (percent * 100) / checkboxes.length : 0; // redraw progress bar (width, caption)
          (0, _utils.setProgressbarValue)(progress, Math.round(percent));
        } // **************** power table **************** //
        // remake power table
        function updateLisPowerTable(power_table) {
          // empty power table
          removeLisPowerTableRows();
          for (var i = 0; i < power_table.length; i++) {
            // add a row for each entry
            addLisPowerTableRow(
              power_table[i].id,
              power_table[i].count,
              power_table[i].power,
              power_table[i].demand_factor
            );
          }
        } // remove all rows from power table
        function removeLisPowerTableRows() {
          var table = document.getElementById("lis-power-table");
          if (!table) return;
          var rowcount = table.rows.length; // remove all user-created rows -> header and footer rows are retained
          for (var i = 0; i + 2 < rowcount; i++) {
            table.deleteRow(1); // delete current (second) row
          } // change -> evaluate
          evalLisPowerTable();
        } // add single row in power table. May give defaults for fields.
        // This does not constitute a change and does not enable saving.
        function addLisPowerTableRow(id, count, power, demand_factor) {
          var table = document.getElementById("lis-power-table");
          if (!table) return null; // add new row at bottom
          var row = table.tBodies[0].insertRow(-1); // add table data element for hidden id
          var td0 = (0, _utils.addElem)("", "", row, "TD");
          td0.hidden = true;
          var row_id = (0, _utils.addElem)("", "", td0, "DIV");
          row_id.hidden = true;
          row_id.textContent = String(id); // id may be undefined
          // add table data element for number of CP
          var td1 = (0, _utils.addElem)("", "", row, "TD");
          var number = (0, _utils.addElem)("", "", td1, "INPUT");
          number.type = "number";
          number.min = "1";
          number.max = "999";
          number.value = (count || 1) + "";
          number.size = 4;
          number.disabled = _permissions.lisAccess < 2;
          number.onchange = function (_) {
            number.value =
              Math.min(Math.max(number.value, number.min), number.max) + "";
            evalLisPowerTable();
          }; // add table data element for power (dropdown menu)
          var td2 = (0, _utils.addElem)("", "", row, "TD");
          var select = (0, _utils.addElem)("", "", td2, "SELECT");
          power = power || 11;
          select.name = "power-value"; //select.style.float = "left"; // CSS
          select.style.width = "80%";
          var options = [
            3.7, 11, 22, 43, 50, 60, 150, 200, 250, 300, 320, 350, 450,
          ];
          for (var i = 0; i < options.length; i++) {
            var option = (0, _utils.addElem)(
              "",
              options[i] + "",
              select,
              "OPTION"
            );
            option.value = options[i] + "";
            if (options[i] == power) option.selected = true;
          }
          select.disabled = _permissions.lisAccess < 2;
          select.onchange = function (_) {
            evalLisPowerTable();
          }; // SPAN for "kW"
          var kwSpan = (0, _utils.addElem)("", " kW", td2, "SPAN");
          kwSpan.style.lineHeight = "2.5rem"; // add table element for concurrency factor
          var td3 = (0, _utils.addElem)("", "", row, "TD");
          var factor = (0, _utils.addElem)("", "", td3, "INPUT");
          factor.type = "number";
          factor.min = "0.1";
          factor.max = "1.0";
          factor.step = "0.01";
          factor.size = 4;
          factor.value = (demand_factor || 1.0) + "";
          factor.disabled = _permissions.lisAccess < 2;
          factor.onchange = function (_) {
            factor.value =
              Math.min(Math.max(factor.value, factor.min), factor.max) + "";
            evalLisPowerTable();
          }; // add table element for sum
          (0, _utils.addElem)("", " - ", row, "TD"); // used later to display sum of row
          // add table element for removal button
          var cell = row.insertCell(-1);
          if (_permissions.lisAccess >= 2) {
            // insert delete button
            var del_btn = (0, _utils.addElem)(
              "delete-button",
              "",
              cell,
              "BUTTON"
            );
            del_btn.title = "Zeile entfernen";
            del_btn.onclick = function (_) {
              table.deleteRow(row.rowIndex);
              evalLisPowerTable();
            };
            (0, _utils.addElem)(
              "icon ion-md-remove-circle-outline",
              "",
              del_btn,
              "I"
            );
          } // table finished -> write out summary of table
          evalLisPowerTable();
          return row;
        } // write summary of table
        function evalLisPowerTable() {
          var table = document.getElementById("lis-power-table");
          var power_arr = [];
          if (!table) return power_arr;
          var count_sum = 0;
          var power_sum = 0.0;
          var rowcount = table.rows.length; // skip first and last row (header and footer)
          for (var row = 1; row + 1 < rowcount; row++) {
            var id = Number(table.rows[row].cells[0].children[0].textContent);
            var count = Number(table.rows[row].cells[1].children[0].value);
            var power = Number(table.rows[row].cells[2].children[0].value);
            var demand_factor = Number(
              table.rows[row].cells[3].children[0].value
            );
            if (
              Number.isNaN(count) ||
              Number.isNaN(power) ||
              Number.isNaN(demand_factor)
            ) {
              // invalid entry: ignore row result
              table.rows[row].cells[3].textContent = "-";
            } else {
              // valid entries: add to charging point power
              var rowPower = count * power * demand_factor;
              count_sum += count;
              power_sum += rowPower; // display row result
              table.rows[row].cells[4].textContent =
                (0, _utils.roundToStr)(rowPower, 2) + " kW";
              power_arr.push({
                id: id,
                count: count,
                power: power,
                demand_factor: demand_factor,
              });
            }
          } // display charging point power in footer
          table.rows[rowcount - 1].cells[0].textContent = count_sum + "";
          table.rows[rowcount - 1].cells[2].textContent =
            (0, _utils.roundToStr)(power_sum, 2) + " kW"; // any evaluation comes after change -> enable saving
          // Initial evaluation (when view is opened) is executed before save disable
          markDirty("power"); // don't write back results yet (don't have marker anyway), let user save
          return power_arr;
        } // **************** LIS survey  **************** //
        function updateLisSurvey(lis_survey, lis_survey_data) {
          lis_survey_data = lis_survey_data || {};
          var main_div = document.getElementById("lis-survey-div");
          if (!main_div) {
            return;
          }
          main_div.innerHTML = ""; // build tabs
          var tabs = {};
          {
            var tab_header = (0, _utils.addElem)("tabs", "", main_div, "ul");
            tab_header.dataset.tabs = "";
            tab_header.dataDeepLink = false;
            tab_header.id = "lis-survey-tabs";
            var tab_content = (0, _utils.addElem)(
              "tabs-content",
              "",
              main_div,
              "div"
            );
            tab_content.dataset.tabsContent = "lis-survey-tabs";
            var first = true;
            var _iteratorNormalCompletion5 = true;
            var _didIteratorError5 = false;
            var _iteratorError5 = undefined;
            try {
              for (
                var _iterator5 = (lis_survey.tabs || [])[Symbol.iterator](),
                  _step5;
                !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next())
                  .done);
                _iteratorNormalCompletion5 = true
              ) {
                var tab = _step5.value;
                var title = (0, _utils.addElem)(
                  "tabs-title",
                  "",
                  tab_header,
                  "li"
                );
                var a = (0, _utils.addElem)("", tab.label, title, "a");
                a.href = "#lis-survey-tab-" + tab.key;
                var content = (0, _utils.addElem)(
                  "tabs-panel",
                  "",
                  tab_content,
                  "div"
                );
                content.id = "lis-survey-tab-" + tab.key;
                tabs[tab.key] = content;
                if (first) {
                  title.classList.add("is-active");
                  content.classList.add("is-active");
                  first = false;
                }
              }
            } catch (err) {
              _didIteratorError5 = true;
              _iteratorError5 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion5 && _iterator5.return != null) {
                  _iterator5.return();
                }
              } finally {
                if (_didIteratorError5) {
                  throw _iteratorError5;
                }
              }
            }
            new Foundation.Tabs($("#lis-survey-tabs"));
          }
          var used_keys = {}; // add elements (input fields and others)
          var _iteratorNormalCompletion6 = true;
          var _didIteratorError6 = false;
          var _iteratorError6 = undefined;
          try {
            for (
              var _iterator6 = (lis_survey.elems || [])[Symbol.iterator](),
                _step6;
              !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done);
              _iteratorNormalCompletion6 = true
            ) {
              var elem = _step6.value;
              if (elem.type === "caption") {
                (0, _utils.addElem)(
                  "lis-survey-caption",
                  elem.label,
                  tabs[elem.tab] || main_div,
                  "div"
                );
              } else {
                // type === "input" is implicit
                var field_div = (0, _utils.addElem)(
                  "lis-survey-input-div",
                  "",
                  tabs[elem.tab] || main_div,
                  "div"
                );
                var field_label = (0, _utils.addElem)(
                  "",
                  elem.label,
                  field_div,
                  "label"
                );
                var field_input = (0, _utils.addElem)(
                  "lis-survey-input",
                  "",
                  field_label,
                  elem.type === "textarea" ? "textarea" : "input"
                );
                field_input.dataset.fieldKey = elem.key;
                for (
                  var _i5 = 0, _Object$entries = Object.entries(elem.attr);
                  _i5 < _Object$entries.length;
                  _i5++
                ) {
                  var _Object$entries$_i = _slicedToArray(
                      _Object$entries[_i5],
                      2
                    ),
                    a_key = _Object$entries$_i[0],
                    a_value = _Object$entries$_i[1];
                  field_input[a_key] = a_value;
                }
                if (
                  lis_survey_data.fields &&
                  lis_survey_data.fields[elem.key] !== undefined
                ) {
                  field_input.value = lis_survey_data.fields[elem.key];
                }
                if (!elem.no_line_break) {
                  (0, _utils.addElem)("", "", field_div.parentElement, "br");
                }
                if (used_keys[elem.key] !== undefined) {
                  console.error("lis survey key is not unique: " + elem.key);
                }
                used_keys[elem.key] = true;
              }
            }
          } catch (err) {
            _didIteratorError6 = true;
            _iteratorError6 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion6 && _iterator6.return != null) {
                _iterator6.return();
              }
            } finally {
              if (_didIteratorError6) {
                throw _iteratorError6;
              }
            }
          }
        } // **************** images **************** //
        // add images to LIS
        function updateLisImages(images) {
          var files_div = document.getElementById("lis_files_container");
          if (!images || !files_div) return;
          var img_modal = document.getElementById("lis-img-modal");
          var big_img = document.getElementById("lis-big-img");
          var big_img_link = document.getElementById("lis-big-img-link");
          var big_img_download = document.getElementById("lis-img-download");
          var big_file = document.getElementById("lis-big-file");
          var big_filename = document.getElementById("lis-big-filename");
          var prev = document.getElementById("lis-big-img-prev");
          var next = document.getElementById("lis-big-img-next");
          files_div.innerHTML = "";
          if (images.length == 0)
            (0, _utils.addElem)(
              "",
              "Keine Dateien vorhanden.",
              files_div,
              "SPAN"
            );
          var current_idx; // index of currently open image
          var last_idx = null; // index of last added image
          var _loop8 = function _loop8(i) {
            var url = images[i].url;
            var thumb_small_url = images[i].thumb_small_url;
            var thumb_medium_url = images[i].thumb_medium_url;
            var orig_filename = ""; // original filename without random part
            {
              // regex that matches the file name of a URL
              var filename_rx = new RegExp(/[^\/]+$/);
              orig_filename = url.match(filename_rx)[0] || "";
              if (orig_filename) {
                orig_filename = (0, _utils.filenameWithoutRand)(orig_filename);
                orig_filename = decodeURI(orig_filename);
              }
            }
            if (thumb_small_url) {
              // use is_image instead?
              var id = images[i].id;
              var outer = window.document.createElement("div");
              outer.classList.add("lis-img-thumb");
              var inner = window.document.createElement("div");
              var img = window.document.createElement("img");
              img.src = thumb_small_url;
              img.dataset.imgid = id; // save image metadata
              Object.assign(images[i], {
                name: orig_filename,
                prev: last_idx,
                next: null, // index of next image (set with next image, if any)
              });
              if (last_idx !== null) images[last_idx].next = i;
              last_idx = i;
              outer.addEventListener("click", function () {
                current_idx = i;
                big_img_link.href = url;
                big_img_download.href = url;
                big_img_download.download = orig_filename;
                big_img.src = thumb_medium_url;
                big_img.dataset.imgid = id;
                prev.style.visibility =
                  images[i].prev === null ? "hidden" : "visible";
                next.style.visibility =
                  images[i].next === null ? "hidden" : "visible";
                $(img_modal).foundation("open");
                img_modal.onkeydown = function (e) {
                  if (
                    e.key === "ArrowLeft" &&
                    images[current_idx].prev !== null
                  )
                    prev.click();
                  if (
                    e.key === "ArrowRight" &&
                    images[current_idx].next !== null
                  )
                    next.click();
                  if (e.key === "Escape") $(img_modal).foundation("close");
                };
              });
              inner.appendChild(img);
              outer.appendChild(inner);
              files_div.appendChild(outer);
            } else {
              var _id = images[i].id;
              var _outer = window.document.createElement("div");
              _outer.classList.add("lis-img-thumb");
              var _inner = window.document.createElement("div");
              var it = window.document.createElement("i");
              it.classList.add("icon");
              it.classList.add("ion-md-document");
              var txt = window.document.createElement("span");
              txt.classList.add("text-ellipsis");
              txt.appendChild(document.createTextNode(orig_filename));
              _outer.addEventListener("click", function () {
                big_filename.textContent = orig_filename;
                big_file.href = url;
                big_file.download = orig_filename;
                big_file.dataset.imgid = _id;
                $("#lis-file-modal").foundation("open");
              });
              _outer.appendChild(_inner);
              _inner.appendChild(it);
              _inner.appendChild(txt);
              files_div.appendChild(_outer);
            }
          };
          for (var i = 0; i < images.length; i++) {
            _loop8(i);
          }
          prev.onclick = function (_) {
            // show previous image in same modal
            var prev_idx = images[current_idx].prev;
            var prev_img = images[prev_idx];
            current_idx = prev_idx; // update elements in modal view
            big_img_link.href = prev_img.url;
            big_img_download.href = prev_img.url;
            big_img_download.download = prev_img.name;
            big_img.src = prev_img.thumb_medium_url;
            big_img.dataset.imgid = prev_img.id;
            prev.style.visibility =
              prev_img.prev === null ? "hidden" : "visible";
            next.style.visibility = "visible";
          };
          next.onclick = function (_) {
            // show next image in same modal
            var next_idx = images[current_idx].next;
            var next_img = images[next_idx];
            current_idx = next_idx; // update elements in modal view
            big_img_link.href = next_img.url;
            big_img_download.href = next_img.url;
            big_img_download.download = next_img.name;
            big_img.src = next_img.thumb_medium_url;
            big_img.dataset.imgid = next_img.id;
            prev.style.visibility = "visible";
            next.style.visibility =
              next_img.next === null ? "hidden" : "visible";
          };
        } // User uploaded new image for LIS
        function handleNewLisImg() {
          var img = document.getElementById("lis-img-proxy");
          var button = document.getElementById("lis-add-img-btn");
          var form = document.getElementById("lisform"); // used to get CSRF cookie
          var lis_id = document.getElementById("lis_id");
          if (!(form && lis_id)) return;
          var form_data = new FormData(); // add all files under same name to form data -> make list
          for (var i = 0; i < img.files.length; i++) {
            form_data.append("image[]", img.files[i]);
          }
          form_data.append(
            "csrfmiddlewaretoken",
            form.csrfmiddlewaretoken.value
          );
          button.disabled = true;
          (0, _utils.fetchPost)(
            "lis/" + lis_id.value + "/update/",
            form_data,
            30000
          )
            .then(function (response) {
              return response.json();
            })
            .then(function (data) {
              if (data.customLIS.images) {
                // update images
                var marker = _markers.find(function (m) {
                  return m.properties.id == data.customLIS.id;
                });
                marker.properties.images = data.customLIS.images;
                updateLisModal(marker);
              } else if (data.message) {
                if (_map2.DEBUG) console.log(data.message);
              } else {
                console.log("Failed to update files from response:");
                console.log(data);
              }
            })
            .catch(function (err) {
              if (_map2.DEBUG) console.log(err);
            })
            .finally(function () {
              button.disabled = false;
            });
        } // User deleted image from LIS
        function handleDeleteLISFile(isImage) {
          var form = document.getElementById("lisform"); // used to get CSRF cookie
          var lis_id = document.getElementById("lis_id");
          if (!(form && lis_id)) return; // create new form data
          var form_data = new FormData();
          var type = isImage ? "img" : "file";
          var file_a = document.getElementById("lis-big-" + type);
          var button = document.getElementById("lis-" + type + "-delete-btn");
          var image_id = file_a.dataset.imgid;
          form_data.append(
            "csrfmiddlewaretoken",
            form.csrfmiddlewaretoken.value
          );
          button.disabled = true;
          (0, _utils.fetchPost)(
            "lis/deleteimg/" + image_id + "/",
            form_data,
            30000
          )
            .then(function (response) {
              return response.json();
            })
            .then(function (data) {
              if (data.error) {
                if (_map2.DEBUG) console.log(data.error);
              } else {
                // success
                document
                  .getElementById("lis-" + type + "-close-button")
                  .click();
                if (isImage) file_a.src = "";
                else file_a.href = "";
                var marker = _markers.find(function (m) {
                  return m.properties.id == lis_id.value;
                });
                if (marker.properties.images) {
                  marker.properties.images = marker.properties.images.filter(
                    function (x) {
                      return x.id != image_id;
                    }
                  );
                }
                updateLisModal(marker);
              }
            })
            .catch(function (err) {
              if (_map2.DEBUG) console.log(err);
            })
            .finally(function () {
              button.disabled = false;
            });
        } // LIS survey submitted
        function handleLisSurvey() {
          var survey_form = document.getElementById("lis-survey-form");
          var lis_id = document.getElementById("lis_id");
          var form_data = new FormData(survey_form);
          var fields = document.getElementsByClassName("lis-survey-input");
          var survey_json = { fields: {} };
          var _iteratorNormalCompletion7 = true;
          var _didIteratorError7 = false;
          var _iteratorError7 = undefined;
          try {
            for (
              var _iterator7 = fields[Symbol.iterator](), _step7;
              !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done);
              _iteratorNormalCompletion7 = true
            ) {
              var field = _step7.value;
              var key = field.dataset.fieldKey;
              var value = field.value;
              if (value !== "") {
                if (field.type === "number") {
                  value = parseFloat(value);
                }
                survey_json.fields[key] = value;
              }
            }
          } catch (err) {
            _didIteratorError7 = true;
            _iteratorError7 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion7 && _iterator7.return != null) {
                _iterator7.return();
              }
            } finally {
              if (_didIteratorError7) {
                throw _iteratorError7;
              }
            }
          }
          form_data.append("lis_survey", JSON.stringify(survey_json));
          var button = document.getElementById("lis-survey-submit-button");
          button.disabled = true;
          (0, _utils.fetchPost)(
            "lis/" + lis_id.value + "/update/",
            form_data,
            30000
          )
            .then(function (response) {
              return response.json();
            })
            .then(function (data) {
              if (data.error) {
                if (_map2.DEBUG) console.log(data.error);
              } else {
                // success
                var marker = _markers.find(function (m) {
                  return m.properties.id == lis_id.value;
                });
                marker.properties.survey = data.customLIS.survey;
                updateLisModal(marker);
              }
            })
            .catch(function (err) {
              if (_map2.DEBUG) console.log(err);
            })
            .finally(function () {
              button.disabled = false;
            });
        }
      },
      {
        "./chat": 3,
        "./features": 6,
        "./map": 9,
        "./table": 13,
        "./utils": 14,
      },
    ],
    9: [
      function (require, module, exports) {
        "use strict";
        /**
 @copyright ðŸŒµÂ©âŒ¾Â®â„—
 @author Localiser dev team
**/ Object.defineProperty(exports, "__esModule", { value: true });
        exports.handleFormSubmit = handleFormSubmit;
        exports.handleExportLISExcel = handleExportLISExcel;
        exports.handleQuerySave = handleQuerySave;
        exports.handleQueryFetch = handleQueryFetch;
        exports.removeRestrictPoly = removeRestrictPoly;
        exports.initializeMap = initializeMap;
        exports.updateH2Orders = updateH2Orders;
        exports.handleGetH2Orders = handleGetH2Orders;
        exports.handleH2OrderDelete = handleH2OrderDelete;
        exports.handleEvaluationSubmit = handleEvaluationSubmit;
        exports.handleMultiLisDelete = handleMultiLisDelete;
        exports.toggleElemVisibility = toggleElemVisibility;
        exports.COLORS =
          exports.HAS_TOUCH =
          exports.PRECISION =
          exports.MAX_ZOOM =
          exports.DEBUG =
            void 0;
        var _features = require("./features");
        var _layer = require("./layer");
        var _comment_modal = require("./comment_modal");
        var _lis_modal = require("./lis_modal");
        var _chat = require("./chat");
        var _scenario = require("./scenario");
        var _table = require("./table");
        var _debug_info = require("./debug_info");
        var _AHP = require("./AHP");
        var _utils = require("./utils");
        function _slicedToArray(arr, i) {
          return (
            _arrayWithHoles(arr) ||
            _iterableToArrayLimit(arr, i) ||
            _nonIterableRest()
          );
        }
        function _nonIterableRest() {
          throw new TypeError(
            "Invalid attempt to destructure non-iterable instance"
          );
        }
        function _iterableToArrayLimit(arr, i) {
          if (
            !(
              Symbol.iterator in Object(arr) ||
              Object.prototype.toString.call(arr) === "[object Arguments]"
            )
          ) {
            return;
          }
          var _arr = [];
          var _n = true;
          var _d = false;
          var _e = undefined;
          try {
            for (
              var _i = arr[Symbol.iterator](), _s;
              !(_n = (_s = _i.next()).done);
              _n = true
            ) {
              _arr.push(_s.value);
              if (i && _arr.length === i) break;
            }
          } catch (err) {
            _d = true;
            _e = err;
          } finally {
            try {
              if (!_n && _i["return"] != null) _i["return"]();
            } finally {
              if (_d) throw _e;
            }
          }
          return _arr;
        }
        function _arrayWithHoles(arr) {
          if (Array.isArray(arr)) return arr;
        }
        function _typeof(obj) {
          if (
            typeof Symbol === "function" &&
            typeof Symbol.iterator === "symbol"
          ) {
            _typeof = function _typeof(obj) {
              return typeof obj;
            };
          } else {
            _typeof = function _typeof(obj) {
              return obj &&
                typeof Symbol === "function" &&
                obj.constructor === Symbol &&
                obj !== Symbol.prototype
                ? "symbol"
                : typeof obj;
            };
          }
          return _typeof(obj);
        } /** Basics: Constants, redefinitions and helpers **/ // constants
        var LOCATE_ON_INIT = false; // try to locate user?
        var DEBUG = true; // show debug console output?
        exports.DEBUG = DEBUG;
        var MAX_ZOOM = 18; // maximum map zoom (in)
        exports.MAX_ZOOM = MAX_ZOOM;
        var PRECISION = 5; // maximum number of decimal places shown for lat/lng
        exports.PRECISION = PRECISION;
        var HAS_TOUCH =
          "ontouchstart" in window || !!navigator.msMaxTouchPoints; // German readable colormap names
        exports.HAS_TOUCH = HAS_TOUCH;
        var COLORMAPS_DE = [
          ["Blau", "Blues"],
          ["Rot-Violett", "RdPu"],
          ["Rot", "Reds"],
          ["Violett", "Purples"],
          ["GrÃ¼n-Blau", "GnBu"],
          ["Blau-GrÃ¼n", "BuGn"],
        ];
        var COLORS = {
          // custom colors
          border: "rgb(0, 135, 84)",
          potential: "#ff1a80",
          LIS: "#808080",
          proposed: "#39bfff",
          POI_custom: "skyblue",
          RLI_blue: "MidnightBlue",
          searchPolygon: "#07689F",
          h2Polygon: "#008ede",
          defaultCluster: "#0080ff",
          ruler: "yellow",
          restricted: "#ff4040",
          error: "#FF0000",
          progressBgd: "#104D88",
          progressFgd: "#ffffff",
          progressBgdInverse: "#ccdbdc",
          progressFgdInverse: "#104D88",
        }; // CORRECT WINDOW VIEWPORT UNITS ON MOBILE
        // Fix bug -> map height is bigger than expected on smaller screens due to browser interpretations of the vh unit
        exports.COLORS = COLORS;
        function setCorrectVH() {
          var vh = window.innerHeight * 0.01;
          document
            .getElementById("mapframe")
            .style.setProperty("--vh", "".concat(vh, "px"));
          if (_map) _map.invalidateSize();
        } /************************ requests and forms ************************/ // write hidden values to form: restricted zone, custom LIS, evaluation geometry (called by form.html and is a context menu callback for evaluation)
        function writeHidden(evaluation) {
          var hidden_field = window.document.getElementById("id_hidden");
          if (!hidden_field) {
            //alert("Ups. Wo ist mein Formular? Lade Seite erneut...");
            //location.reload(true);
            return;
          }
          var data = { restrict: undefined, evaluation: undefined };
          if (_restrictPoly.length > 0) {
            // write restricted zone (only user-placed)
            data.restrict = _restrictPoly
              .filter(function (p) {
                return !p.properties || p.properties.desc === "Verbotene Zone";
              })
              .map(function (p) {
                return p.getLatLngs()[0];
              });
          }
          if (evaluation) {
            // write evaluation geometry
            data.evaluation = evaluation.latlng;
          }
          hidden_field.value = JSON.stringify(data);
        } // intercept fast finder form submit for user interface logic
        function handleFormSubmit(event) {
          var button = document.getElementById("compute-button");
          var form = document.getElementById("computation_form");
          var queryform = document.getElementById("queryform");
          var saveBtn = document.getElementById("querysave");
          var message_div = document.getElementById("error-message");
          var spinner = document.getElementById("map-spinner"); // prepare in- and output elements
          button.disabled = true;
          saveBtn.style.visibility = "hidden";
          message_div.textContent = "";
          spinner.style.visibility = ""; // generic loading spinner
          writeHidden(event); // reset error fields
          {
            var x = form.getElementsByClassName("form-error");
            for (var i = 0; i < x.length; i++) {
              x[i].textContent = "";
              x[i].classList.remove("is-visible");
            }
          }
          $("#fastfinder-modal").foundation("close");
          (0, _utils.fetchPost)("computeLIS/", "computation_form", 120000)
            .then(function (response) {
              return response.json();
            })
            .then(function (data) {
              if (data.action && data.action.includes("clear_map")) {
                (0, _layer.removeLayers)(null, true);
              }
              if (data.JSON) {
                // sync computation finished: show result on map
                if (!data.JSON.evaluation) {
                  saveBtn.style.visibility = "visible";
                  queryform.elements["result"].value = JSON.stringify(
                    data.JSON
                  );
                }
                (0, _features.showResult)(data.JSON); // this changes data.JSON
                button.disabled = false; // enable button for new computation
              }
              if (data.task_id) {
                setTimeout(
                  updateProgress,
                  0,
                  data.task_id,
                  "progress-canvas-computelis",
                  2000,
                  function (result) {
                    // success
                    if (!result.evaluation) {
                      var exportBtn = document.getElementById(
                        "potential-export-btn"
                      );
                      saveBtn.style.visibility = "visible";
                      if (exportBtn) exportBtn.style.display = "inline";
                      queryform.elements["result"].value =
                        JSON.stringify(result);
                    }
                    (0, _features.showResult)(result); // this changes result
                    button.disabled = false;
                  },
                  function (message) {
                    // fail
                    //alert("Berechnung fehlgeschlagen");
                    if (DEBUG) console.log(message);
                    button.disabled = false;
                    $("#fastfinder-modal").foundation("open");
                  }
                );
              }
              if (_typeof(data.message) === "object") {
                //TODO improve, translate error messages
                for (var elem_id in data.message) {
                  //if (DEBUG) console.log(elem_id);
                  var input = document.getElementById("id_" + elem_id);
                  input.invalid = true;
                  var elem = document.getElementById(
                    "id_" + elem_id + "_error"
                  );
                  if (elem) {
                    elem.textContent = data.message[elem_id].join(" ");
                    elem.classList.add("is-visible");
                  }
                }
                throw "Das Formular enthÃ¤lt Fehler (siehe oben).";
              } else if (data.message) {
                throw data.message;
              }
            })
            .catch(function (err) {
              //if (DEBUG) console.log(err);
              message_div.textContent = "" + err;
              button.disabled = false; // re-open modal on error
              $("#fastfinder-modal").foundation("open");
            })
            .finally(function () {
              // always hide generic spinner
              spinner.style.visibility = "hidden";
            });
        }
        function handleExportLISExcel(event) {
          var button = document.getElementById("lis-export-excel-button");
          button.disabled = true;
          var form_data = new FormData(); // Add CSRF token
          var token =
            document.getElementById("lisform").csrfmiddlewaretoken.value;
          form_data.append("csrfmiddlewaretoken", token); // for POI in Excel, hold Shift key
          form_data.append("include_poi", event.shiftKey); // Add selected lis from site manager table
          if ($.fn.dataTable.isDataTable("#site-manager-table")) {
            var dt = $("#site-manager-table").DataTable();
            var selected_rows = dt.rows({ selected: true }).data();
            if (selected_rows.length > 0) {
              var lis_ids = [];
              for (var i = 0; i < selected_rows.length; i++) {
                lis_ids.push(selected_rows[i].lis_id);
              }
              form_data.append("selected_lis", JSON.stringify(lis_ids));
            }
          } // fetch!
          (0, _utils.fetchPost)("exportLIS/excel/", form_data, 1200000)
            .then(function (response) {
              if (!response.ok) {
                throw new Error("Network response was not ok");
              }
              return response.blob();
            })
            .then(function (blob) {
              // create a nice file name
              var file_name = "Ladestandorte_Export";
              if (_region && _region.name) {
                file_name += "_" + (0, _utils.stringToFileName)(_region.name);
              }
              file_name += ".xlsx";
              function getDownload(blob) {
                // create temporary link and click it to download blob
                var link = window.document.createElement("a");
                link.href = window.URL.createObjectURL(blob);
                link.target = "_blank";
                link.download = file_name;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
              }
              if (blob.type === "application/json") {
                // async: keep user happy until export finished
                blob.text().then(function (t) {
                  var task_id = JSON.parse(t)["task_id"];
                  setTimeout(
                    updateProgress,
                    0,
                    task_id,
                    "progress-canvas-export",
                    1000,
                    function (info) {
                      // success
                      // decode base64 string
                      var binary = atob(info);
                      var buffer = new Uint8Array(
                        new ArrayBuffer(binary.length)
                      );
                      for (var _i = 0; _i < binary.length; _i++) {
                        buffer[_i] = binary.charCodeAt(_i);
                      }
                      var blob = new Blob([buffer], {
                        type: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
                      });
                      getDownload(blob);
                      button.disabled = false;
                    },
                    function (message) {
                      // fail
                      if (DEBUG) console.log(message);
                      button.disabled = false;
                    },
                    true
                  );
                });
              } else {
                // already Excel file
                getDownload(blob);
                button.disabled = false;
              }
            })
            .catch(function (err) {
              if (DEBUG) console.log(err);
              button.disabled = false;
            });
        } // hook for async task. Function for repeated timeout callback
        // polls server with task id after `timeout` milliseconds.
        function updateProgress(taskID, canvas_id, timeout, success, fail) {
          var inverse_colors =
            arguments.length > 5 && arguments[5] !== undefined
              ? arguments[5]
              : false;
          var canvas = document.getElementById(canvas_id);
          (0, _utils.request)({ path: "progress", query: taskID })
            .then(function (response) {
              if (response.percent < 0) {
                // error
                fail(response.info);
                canvas.parentElement.style.visibility = "hidden";
              } else if (response.percent == 0) {
                canvas.parentElement.style.visibility = "visible"; // pending, not computing yet
                setTimeout(
                  updateProgress,
                  timeout,
                  taskID,
                  canvas_id,
                  timeout,
                  success,
                  fail,
                  inverse_colors
                );
              } else if (response.percent < 100) {
                // started: show circular progress bar
                var context = canvas.getContext("2d"); //context.lineCap = "round";
                var posX = canvas.width / 2;
                var posY = canvas.height / 2;
                var lineWidth = 4;
                var radius = canvas.width * 0.4;
                canvas.parentElement.style.visibility = "visible";
                context.clearRect(0, 0, canvas.width, canvas.height);
                context.beginPath(); // draw full circle
                context.arc(posX, posY, radius - lineWidth / 2, 0, 2 * Math.PI);
                context.strokeStyle = inverse_colors
                  ? COLORS.progressBgdInverse
                  : COLORS.progressBgd;
                context.lineWidth = lineWidth;
                context.stroke(); // draw circular progress bar (start top)
                context.beginPath();
                context.arc(
                  posX,
                  posY,
                  radius - lineWidth / 2,
                  (Math.PI * 270) / 180,
                  (Math.PI * (270 + (response.percent * 360) / 100)) / 180
                );
                context.strokeStyle = inverse_colors
                  ? COLORS.progressFgdInverse
                  : COLORS.progressFgd;
                context.lineWidth = lineWidth;
                context.stroke();
                setTimeout(
                  updateProgress,
                  timeout,
                  taskID,
                  canvas_id,
                  timeout,
                  success,
                  fail,
                  inverse_colors
                );
              } else if (response.percent == 100) {
                // finished: clean up, return result
                canvas.parentElement.style.visibility = "hidden";
                success(response.info);
              }
            })
            .catch(function (error) {
              canvas.parentElement.style.visibility = "hidden";
              fail(error);
            });
        } // Save query by name.
        //
        // Create or update description in backend.
        // Add/Rename option in dropdown menu.
        function handleQuerySave() {
          var desc = prompt("Beschreibung der Berechnung:");
          var form = document.getElementById("queryform");
          if (desc && form) {
            form.elements["desc"].value = desc; // POST to backend
            (0, _utils.fetchPost)("query/", "queryform", 10000)
              .then(function (response) {
                return response.json();
              })
              .then(function (query) {
                // add/replace description
                var list = document.getElementById("query-select");
                if (list) {
                  // get option by class and value
                  var option = document.querySelector(
                    'option[value="' + query.id + '"].query-option'
                  );
                  if (option) option.text = query.desc; // rename option
                  else {
                    // add option
                    var opt = (0, _utils.addElem)(
                      "query-option",
                      query.desc,
                      list,
                      "option"
                    );
                    opt.value = query.id;
                  }
                }
              }); // hide button
            form.elements["query"].style.visibility = "hidden";
            form.elements["query"].value = "";
          } else {
            alert("Speichern abgebrochen.");
          }
        } // Fetch query result by id.
        //
        // e: selection field with id value.
        function handleQueryFetch(e) {
          if (e && e.value != "0") {
            (0, _utils.request)({
              path: "query",
              query: "?id=" + e.value,
              timeout: 5000,
              method: "GET",
            })
              .then(function (data) {
                // request returned
                if (data.action && data.action.includes("clear_map"))
                  (0, _layer.removeLayers)(null, true);
                if (data.JSON) (0, _features.showResult)(data.JSON);
              })
              .catch(function (err) {
                if (DEBUG) console.log(err);
              });
          }
        } // temporary layer to show radii around point clicked by user
        var _radiiLayer = null;
        function getNearbyCallback(e) {
          // start GET request to get population, POI and existing LIS around user clicked location
          var spinner = document.getElementById("map-spinner");
          if (spinner) spinner.style.visibility = "";
          (0, _utils.request)({
            path: "nearby",
            query: "?x=" + e.latlng.lng + "&y=" + e.latlng.lat,
            timeout: 10000,
            method: "GET",
          })
            .then(function (data) {
              // remove old data
              clearRadii(); // transport mode (key in response), color on map (RGBA), table title
              var keycolor = [
                ["car", "#2a80ff80", "Auto"],
                ["bike", "#8080ff80", "Fahrrad"],
                ["foot", "#0000FF80", "FuÃŸweg"],
              ]; // draw radii with information
              for (
                var _i2 = 0, _keycolor = keycolor;
                _i2 < _keycolor.length;
                _i2++
              ) {
                var k = _keycolor[_i2];
                var info = data[k[0]]; // build table
                var table = "";
                table +=
                  "<tr><td>Einwohner</td><td>" + info.population + "</td></tr>";
                var poi_info = info.poi;
                if (info.poi_cat.length) {
                  // mouseover: most common categories with count
                  poi_info =
                    '<span title="HÃ¤ufigste Kategorien:\n' +
                    info.poi_cat
                      .map(function (e) {
                        return e.amenity + ": " + e.count;
                      })
                      .join("\n") +
                    '" style="border-bottom: 1px dotted black; cursor: default">' +
                    poi_info +
                    "</span>";
                }
                table +=
                  "<tr><td>Points of Interest</td><td>" +
                  poi_info +
                  "</td></tr>";
                var lis_info = info.exlis;
                if (info.exlis_pwr.length) {
                  // mouseover: all nearby LIS powers and number of connectors
                  lis_info =
                    '<span title="' +
                    info.exlis_pwr
                      .map(function (e) {
                        return e.power + " kW: " + e.count;
                      })
                      .join("\n") +
                    '" style="border-bottom: 1px dotted black; cursor: default">' +
                    lis_info +
                    "</span>";
                }
                table +=
                  "<tr><td>Bestehende Ladeinfrastruktur</td><td>" +
                  lis_info +
                  "</td></tr>";
                table =
                  '<table style="width:100%;"><caption>' +
                  k[2] +
                  ' <span style="font-weight: normal;">(Radius = ' +
                  info.radius +
                  " m)</span>" +
                  "</caption>" +
                  table +
                  "</table>";
                _radiiLayer = (0, _features.showData)(
                  [
                    {
                      type: "Feature",
                      geometry: {
                        type: "Point",
                        coordinates: [e.latlng.lat, e.latlng.lng],
                      },
                      properties: { desc: table },
                    },
                  ],
                  { name: "Umkreis", color: k[1], radius: -info.radius }
                );
              }
            })
            .catch(function (err) {
              if (DEBUG) console.log(err);
            })
            .finally(function () {
              if (spinner) spinner.style.visibility = "hidden";
            });
        } // remove layers added by getNearbyCallback
        function clearRadii() {
          if (_radiiLayer) {
            _radiiLayer.clearLayers();
          }
        } /** Drawing **/ // callback to init drawing of forbidden zone
        function drawCallback(_) {
          _map.pm.enableDraw("Poly", {
            allowSelfIntersection: false,
            snappable: false,
            tooltips: false,
            templineStyle: { color: COLORS.restricted },
            hintlineStyle: { color: COLORS.restricted, dashArray: [5, 5] },
            pathOptions: {
              color: COLORS.restricted,
              fillColor: COLORS.restricted,
              fillOpacity: 0.4,
            },
            cursorMarker: true,
          });
          _drawingMode = { restricted: true };
          _map.getContainer().focus(); // focus on map to listen for key events
        } // callback for removing polygon from restricted zones
        function removeRestrictPoly(p) {
          _restrictPoly = _restrictPoly.filter(function (m) {
            return m._leaflet_id != p._leaflet_id;
          });
          _map.removeLayer(p);
        }
        function showRegion() {
          var boundaryLayer = L.polygon(_region.geom.coordinates, {
            color: COLORS.border,
            opacity: 0.5,
            interactive: false,
            noClip: true,
          }).addTo(_map);
          setTimeout(function () {
            _map.removeLayer(boundaryLayer);
          }, 3000);
          _map.fitBounds(boundaryLayer.getBounds());
        } /** Geolocation **/ // entry point for geolocation: get current position from browser. May need HTTPS
        function getLocation(_event) {
          if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition, showError);
          } else {
            console.log("Geolocation wird nicht vom Browser unterstÃ¼tzt.");
          }
        } // callback for geolocation success: zoom to position, show marker
        function showPosition(pos) {
          _map.setView([pos.coords.latitude, pos.coords.longitude], 12); // add marker with confidence radius (accuracy)
          var markerLayer = (0, _features.showData)(
            [
              {
                geometry: {
                  coordinates: [pos.coords.latitude, pos.coords.longitude],
                },
                properties: { color: COLORS.RLI_blue },
              },
            ],
            { radius: pos.coords.accuracy }
          ); // remove after 5 seconds
          setTimeout(function () {
            _map.removeLayer(markerLayer);
          }, 20000);
        } // callback for geolocation failure: print error
        function showError(error) {
          switch (error.code) {
            case error.PERMISSION_DENIED:
              alert("Keine Berechtigung fÃ¼r Geolocation.");
              break;
            case error.POSITION_UNAVAILABLE:
              alert("Standortdaten stehen nicht zur VerfÃ¼gung.");
              break;
            case error.TIMEOUT:
              alert("Anfrage dauerte zu lange.");
              break;
            case error.UNKNOWN_ERROR:
              alert("Ups.");
              break;
          }
        } // Context callback: show location URL, copy to clipboard on demand
        function displayLocation(_event) {
          // get current URL without modifiers
          var url = window.location.origin + window.location.pathname;
          if (!url.endsWith("/")) url += "/"; // get coordinates
          var lat = _map.getCenter()["lat"];
          var lng = _map.getCenter()["lng"];
          var x = (0, _utils.roundToStr)(lng, 3);
          var y = (0, _utils.roundToStr)(lat, 3);
          var z = _map.getZoom(); // append coordinates to url as parameters
          url += "?x=" + x + "&y=" + y + "&z=" + z; // show url to user
          if (confirm("Kopiere in Zwischenablage:\n" + url)) {
            // copy to clipboard
            if (document.execCommand) {
              var dummy = (0, _utils.addElem)(
                "",
                url,
                document.body,
                "textarea"
              );
              dummy.select();
              document.execCommand("copy");
              document.body.removeChild(dummy);
            } else alert("Kopieren wird nicht vom Browser unterstÃ¼tzt.");
          }
        }
        /************ TEST **************/ function test(_event) {
          $("#tab-site-manager")[0].firstElementChild.click();
          var canvas = document.getElementById("progress-canvas-export");
          var context = canvas.getContext("2d");
          context.lineCap = "round";
          var posX = canvas.width / 2;
          var posY = canvas.height / 2;
          var lineWidth = 4;
          canvas.parentElement.style.visibility = "visible";
          var time = 3000;
          var _loop = function _loop(progress) {
            setTimeout(function (_) {
              context.clearRect(0, 0, 2 * posX, 2 * posY);
              context.beginPath(); // draw full circle
              context.arc(posX, posY, posX - lineWidth / 2, 0, 2 * Math.PI);
              context.strokeStyle = COLORS.progressFgd;
              context.lineWidth = lineWidth;
              context.stroke(); // draw circular progress bar (start top)
              context.beginPath();
              context.arc(
                posX,
                posY,
                posX - lineWidth / 2,
                (Math.PI * 270) / 180,
                (Math.PI * (270 + (progress * 360) / 100)) / 180
              );
              context.strokeStyle = COLORS.progressBgd;
              context.lineWidth = lineWidth;
              context.stroke();
            }, (time * progress) / 100);
          };
          for (
            var progress = 0;
            progress < 100;
            progress += Math.floor(Math.random() * 10)
          ) {
            _loop(progress);
          }
          setTimeout(function (_) {
            canvas.parentElement.style.visibility = "hidden";
            $("#tab-site-manager")[0].firstElementChild.click();
          }, time);
        }
        /************ EXPORT: init **************/ function initializeMap() {
          if (_region && _region.geom) {
            (0, _features.reverseCoordinates)(_region.geom);
          }
          (function (leaflet) {
            // custom colored map icon
            leaflet.colorIcon = function (color) {
              color = color || "#FFFFFF";
              var div = leaflet.divIcon({
                className: "",
                iconAnchor: [0, 24],
                labelAnchor: [-6, 0],
                popupAnchor: [0, -36],
                html:
                  '<span style="background-color: ' +
                  color +
                  '; width: 2rem; height: 2rem; display: block; left: -1rem; top: -1rem; position: relative; border-radius: 2rem 2rem 0; transform: rotate(45deg); border: 1px solid #000000"/>',
              });
              return div;
            }; // custom image map icon
            leaflet.ImageIcon = function (iconOptions) {
              if (iconOptions instanceof Array)
                // icon + shadow
                var icon = leaflet.icon({
                  className: "",
                  iconUrl: iconOptions[0],
                  iconSize: [40, 33],
                  iconAnchor: [20, 33],
                  labelAnchor: [0, -10],
                  popupAnchor: [0, -25],
                  shadowUrl: iconOptions[1],
                  shadowSize: [41, 41],
                  shadowAnchor: [13, 41],
                });
              else if (iconOptions instanceof Object) {
                // file, height, width as members
                var icon = leaflet.icon({
                  className: "",
                  iconUrl: iconOptions.file,
                  iconSize: [iconOptions.width, iconOptions.height],
                });
              }
              return icon;
            };
          })(L);
          var customLisDisabled =
            _permissions.lisAccess < 2 ||
            (_region.lisLimit !== null &&
              _region.customLIS.length >= _region.lisLimit) ||
            _region.lis_evaluation.running; // set up map
          _map = L.map("mapframe", {
            // contextmenu
            contextmenu: true,
            contextmenuItems: [
              {
                text: "Hier einen Kommentar setzen",
                iconCls: "ion ion-md-chatboxes",
                callback: _comment_modal.createComment,
                disabled: _permissions.chatAccess < 2,
              },
              {
                text: "Wo bin ich?",
                iconCls: "ion ion-md-locate",
                callback: getLocation,
              },
              {
                text: "Generiere Link",
                iconCls: "ion ion-md-copy",
                callback: displayLocation,
              },
              {
                text: "Leere Karte",
                iconCls: "ion ion-md-trash",
                callback: _layer.removeLayers,
                disabled: _permissions.computation == 0,
              },
            ],
            zoomControl: true, // show zoom control
          });
          if (!_h2activated || _permissions.lisAccess > 0) {
            // LIS project
            _map.contextmenu.insertItem(
              {
                text: "Platziere Ladestandort",
                iconCls: "ion ion-md-pin",
                callback: _lis_modal.addCustomCPCallback,
                disabled: customLisDisabled,
              },
              0
            ); //_map.contextmenu.insertItem({
            //text: 'Bewerte Standort',
            //iconCls: "ion ion-md-thumbs-up",
            //callback: handleFormSubmit,
            //disabled: _permissions.computation<2
            //}, 1);
            _map.contextmenu.insertItem(
              {
                text: "Was ist in der NÃ¤he?",
                iconCls: "ion ion-md-search",
                callback: getNearbyCallback,
                disabled: !_permissions.siteManager,
              },
              2
            );
            _map.contextmenu.insertItem(
              {
                text: "Zeichne verbotene Zone",
                iconCls: "ion ion-md-create",
                callback: drawCallback,
                disabled: _permissions.computation < 2,
              },
              3
            ); /*
        _map.contextmenu.insertItem({
            // unsupported option
            text: 'Platziere POI',
            iconCls: "ion ion-md-add-circle-outline",
            callback: addPoiCallback,
            disabled: _region.name !== "test" //!_permissions.dataAccess
        }, 0);
        */
          } // H2 marketplace: add option at top to add orders
          if (_h2activated) {
            _map.contextmenu.insertItem(
              {
                text: "Neuer H2-Auftrag",
                iconCls: "ion ion-md-basket",
                callback: newH2OrderCallback,
              },
              0
            );
          } // region named test: add "test" menu entry
          if (_region && _region.name === "test")
            _map.contextmenu.addItem({
              text: "Test",
              iconCls: "ion ion-md-help",
              callback: test,
            });
          var viewbox = L.polygon(_region.geom.coordinates).getBounds();
          L.Control.geocoder({
            geocoder: L.Control.Geocoder.nominatim({
              geocodingQueryParams: {
                // restrict geocoder results to project region
                viewbox: viewbox.pad(0.1).toBBoxString(),
                bounded: 1,
              },
            }),
            placeholder: "Suche...",
            errorMessage: "Keine Ergebnisse in der Projektregion.",
            showResultIcons: false,
          }).addTo(_map); // set zoom control position in map
          _map.zoomControl.setPosition("topright"); // add map scale
          L.control
            .scale({ imperial: false, position: "bottomright" })
            .addTo(_map); // Populate messages area
          (0, _chat.renderSidebarChat)();
          {
            // various links
            var osmLink =
              '<a href="https://openstreetmap.org">OpenStreetMap</a>';
            var gisLink =
              "Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"; // base layers
            var osm_base_layer = L.tileLayer(
              "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
              {
                attribution: "Tiles &copy; " + osmLink + " Contributors",
                maxZoom: Math.min(19, MAX_ZOOM),
              }
            );
            var gis_base_layer = L.tileLayer(
              "https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
              {
                attribution: "Tiles &copy; " + gisLink,
                maxZoom: Math.min(19, MAX_ZOOM),
              }
            );
            /*
        const Esri_WorldGrayCanvas = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}', {
            attribution: 'Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ',
            maxZoom: Math.min(16, MAX_ZOOM)
        });
         */ var light_layer = L.tileLayer(
              "https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",
              {
                attribution:
                  "Tiles &copy; Carto, under CC BY 3.0. Data by " +
                  osmLink +
                  ", under ODbL.",
                maxZoom: MAX_ZOOM,
              }
            ).addTo(_map);
            var dark_layer = L.tileLayer(
              "https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png",
              {
                attribution:
                  "Tiles &copy; Carto, under CC BY 3.0. Data by " +
                  osmLink +
                  ", under ODbL.",
                maxZoom: MAX_ZOOM,
              }
            );
            var light_nolabels_layer = L.tileLayer(
              "https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png",
              {
                attribution:
                  "Tiles &copy; Carto, under CC BY 3.0. Data by " +
                  osmLink +
                  ", under ODbL.",
                maxZoom: MAX_ZOOM,
              }
            );
            var baseLayers = {
              OpenStreetMap: osm_base_layer,
              "GIS Satellite": gis_base_layer,
              Dark: dark_layer,
              "Light (stumme Karte)": light_nolabels_layer,
              Light: light_layer,
            };
            _ctrlLayer = L.control.layers(baseLayers, null);
            _ctrlLayer.addTo(_map);
          }
          _commentLayer = L.layerGroup().addTo(_map);
          _restrictPoly = [];
          (0, _utils.request)({ path: "lis" })
            .then(function (response) {
              var _loop2 = function _loop2(i) {
                var marker = _markers[i];
                var marker_id = marker.properties.id;
                marker.properties = response.customLIS.find(function (lis) {
                  return lis.id == marker_id;
                });
                marker.on("click", function (_) {
                  (0, _lis_modal.openLisModal)(marker_id);
                });
              }; // update markers
              for (var i = 0; i < _markers.length; i++) {
                _loop2(i);
              } // enable site manager
              var sm_tab = document.getElementById("tab-site-manager");
              if (sm_tab) {
                sm_tab.classList.remove("disabled-sidebar-tab");
              } // render chat again
              (0, _chat.renderSidebarChat)();
            })
            .catch(function (error) {
              if (DEBUG) console.log(error);
              alert(
                "Nachladen der Ladepunkte fehlgeschlagen. Einige Funktionen stehen nicht zur VerfÃ¼gung."
              );
            });
          if (_h2activated) {
            handleGetH2Orders({}).then(function () {
              var url = new URL(window.location + "");
              if (url.searchParams.get("h2order")) {
                var h2order_id = url.searchParams.get("h2order");
                if (_h2orders) {
                  var _iteratorNormalCompletion = true;
                  var _didIteratorError = false;
                  var _iteratorError = undefined;
                  try {
                    for (
                      var _iterator = _h2orders[Symbol.iterator](), _step;
                      !(_iteratorNormalCompletion = (_step = _iterator.next())
                        .done);
                      _iteratorNormalCompletion = true
                    ) {
                      var order = _step.value;
                      if (order.id + "" === h2order_id) {
                        updateH2OrderModal(order);
                        break;
                      }
                    }
                  } catch (err) {
                    _didIteratorError = true;
                    _iteratorError = err;
                  } finally {
                    try {
                      if (
                        !_iteratorNormalCompletion &&
                        _iterator.return != null
                      ) {
                        _iterator.return();
                      }
                    } finally {
                      if (_didIteratorError) {
                        throw _iteratorError;
                      }
                    }
                  }
                }
              }
            });
          } // onload: start where the user is, in selected region or at the RLI in Adlershof. Have to start somewhere...
          window.onload = function (_) {
            setCorrectVH(); // Render debugging information
            (0, _debug_info.renderDebugInfo)(); // set map viewport
            // get URL params (if supported by browser)
            var x, y, z;
            if (URLSearchParams) {
              var params = new URLSearchParams(window.location.search); // location.href.search?
              x = Number(params.get("x"));
              y = Number(params.get("y"));
              z = Number(params.get("z"));
            }
            if (x && y && z) {
              // highest priority: URL params
              _map.setView([y, x], z);
              (0, _features.showResult)(_region);
            } else {
              if (LOCATE_ON_INIT) {
                // second highest priority
                // ask user for location when option is set
                // async call, so next part will be executed as well (show POI etc)
                getLocation(null);
              } // default: zoom to region bounds
              try {
                //_map.fitBounds(L.polyline(_region.geom.coordinates).getBounds());
                showRegion();
                (0, _features.showResult)(_region); // mainly interested in _region.customLIS
              } catch (e) {
                // something really stupid happened
                if (DEBUG) console.log(e);
                _map.setView([52.43, 13.53], 12);
              }
            } // set up colormap
            (0, _features.setHeatColormap)("Blues");
            {
              var cs = window.document.getElementById("colormap-select");
              if (cs) {
                var i;
                for (i in COLORMAPS_DE) {
                  var option = document.createElement("option");
                  option.text = COLORMAPS_DE[i][0];
                  option.value = COLORMAPS_DE[i][1];
                  cs.add(option);
                }
              }
            } // initialize scenario modal (chart and table)
            (0, _scenario.initScenarios)(); // Initialize markdown editor
            {
              var textarea = document.getElementById(
                "lis-description-textarea"
              );
              var form = document.getElementById("lis-description-form");
              if (textarea && form) {
                _simplemde = new SimpleMDE({
                  element: textarea,
                  spellChecker: false,
                  autoDownloadFontAwesome: false,
                });
                {
                  var last_width = null;
                  _simplemde.codemirror.on("refresh", function () {
                    if (
                      form.scrollWidth > 0 &&
                      form.scrollWidth != last_width
                    ) {
                      last_width = form.scrollWidth;
                      _simplemde.codemirror.refresh();
                    }
                  });
                }
                $("#lis_modal_accordion").on("down.zf.accordion", function () {
                  _simplemde.codemirror.refresh();
                });
              }
            }
          }; // On resize
          window.addEventListener("resize", function () {
            setCorrectVH();
          }); // override map's onClick behavior
          // CTRL-key pressed: ruler
          _map.on("click", function onMapClick(e) {
            if (e.originalEvent.ctrlKey) {
              if (!_ruler) {
                // create new ruler
                _ruler = L.polyline([e.latlng, e.latlng], {
                  color: COLORS.ruler,
                }).addTo(_map);
              } else {
                // add section to ruler
                _ruler.addLatLng(e.latlng);
                var latlngs = _ruler.getLatLngs(); // iterate over ruler sections to get total length (m)
                var dist = 0;
                for (var i = 1; i < latlngs.length; i++) {
                  dist += latlngs[i].distanceTo(latlngs[i - 1]);
                }
                dist = Math.floor(dist); // write distance to ruler tooltip
                var tooltip = _ruler.getTooltip();
                if (tooltip)
                  _ruler.setTooltipContent(dist + "m").openTooltip(e.latlng);
                else
                  _ruler
                    .bindTooltip(dist + "m", { permanent: true })
                    .openTooltip(e.latlng);
                _ruler.redraw();
              }
            } else {
              // default
              if (DEBUG) console.log(e.latlng); // clear ruler
              if (_ruler) _ruler.remove();
              _ruler = null;
              clearRadii();
            }
          });
          {
            var _keys; // listen for keypresses on map. Esc cancels polygon drawing.
            document.onkeydown = function (e) {
              if (e.key === "Escape") {
                _map.pm.disableDraw("Poly");
                _drawingMode = null;
                clearRadii();
              }
              _keys =
                e.keyCode == 38 && _keys != 38 ? 38 : _keys * 38 + e.keyCode;
              if (_keys === 6448128025120785) {
                L.TileLayer.Konami = L.TileLayer.extend({
                  getTileUrl: function getTileUrl(_c) {
                    return (
                      "https://placekitten.com/256/256?image=" +
                      (Math.ceil(Math.random() * 16) % 16)
                    );
                  },
                  getAttribution: function getAttribution() {
                    return "<a href='https://placekitten.com/attribution.html'>PlaceKitten</a>";
                  },
                });
                var layer = new L.TileLayer.Konami();
                _ctrlLayer.addBaseLayer(layer, "???");
                layer.addTo(_map);
              }
            };
          } // zoom callback
          // change height level label
          // heatmap: rescale radius (pixel based)
          _map.on("zoomend", function (_) {
            // recompute heat point radius (must be given in pixels -> convert absolute radius in meters to pixels)
            // cutoff at 100 pixels radius, strange artefacts otherwise
            if (
              _heatLayer &&
              _heatLayer._map &&
              (0, _utils.metersInPixels)(_heatLayer.options.abs_radius) < 100
            ) {
              _heatLayer.setOptions({
                radius: (0, _utils.metersInPixels)(
                  _heatLayer.options.abs_radius
                ),
                blur:
                  (0, _utils.metersInPixels)(_heatLayer.options.abs_radius) / 2,
                blendMultiply: true,
              });
            }
          });
          var sidebar = _region
            ? L.control.sidebar("sidebar").addTo(_map)
            : null;
          {
            sidebar.addEventListener("content", function (tab) {
              if (tab.id == "site-manager") {
                // Open sidebar in full width for site manager
                document.getElementById("sidebar").style.width = "100%";
                (0, _table.renderSiteManagerTable)();
              } else if (tab.id == "debug-info") {
                // Open sidebar in full width for debug info
                document.getElementById("sidebar").style.width = "100%";
              } else if (tab.id == "h2market") {
                renderH2FilterState();
              } else {
                // other tabs get normal width
                document.getElementById("sidebar").style.width = "";
              } // Scroll to bottom of chat
              if (tab.id == "chat") {
                var form = document.getElementById("chatform");
                form.scrollIntoView();
              }
            });
            sidebar.addEventListener("closing", function () {
              document.getElementById("sidebar").style.width = "";
            });
          }
          if (_region.lis_evaluation.task) {
            setTimeout(
              updateProgress,
              0,
              _region.lis_evaluation.task,
              "progress-canvas-evaluation",
              3000,
              function () {
                // success
                if (
                  confirm(
                    "Bewertung abgeschlossen. Seite neu laden, um Ergebnisse abzurufen?"
                  )
                )
                  location.reload();
              },
              function (message) {
                // fail
                if (DEBUG) console.log(message);
              }
            );
          }
          if (_region.filesTask) {
            setTimeout(
              updateProgress,
              0,
              _region.filesTask,
              "progress-canvas-files",
              3000,
              function () {
                // success
                _region.filesTask = null;
                (0, _AHP.loadAHPData)();
              },
              function (message) {
                // fail
                if (DEBUG) console.log(message);
              }
            );
          } // listen to when a new layer is created (drawing finished)
          _map.on("pm:create", function (e) {
            // get new layer of drawing
            var l = e.layer;
            if (_drawingMode.restricted) {
              // bind new contextmenu to allow for deleting polygon
              l.bindContextMenu({
                contextmenu: true,
                contextmenuInheritItems: false,
                contextmenuItems: [
                  {
                    text: "Entferne Zone",
                    iconCls: "ion ion-md-close",
                    callback: function callback(_) {
                      removeRestrictPoly(l);
                    },
                  },
                ],
              });
              _drawingMode = null;
              _restrictPoly.push(e.layer);
              return;
            }
            if (_drawingMode.search) {
              // send to backend for checking and saving
              if (!(0, _lis_modal.resetLISForm)()) return;
              var lisform = document.getElementById("lisform");
              lisform.id_search.value = JSON.stringify(
                e.layer.toGeoJSON().geometry
              );
              (0, _utils.fetchPost)(
                "lis/" + _drawingMode.search.properties.id + "/update/",
                "lisform",
                10000
              )
                .then(function (_) {
                  // success: link polygon to marker
                  _drawingMode.search.searchPoly = e.layer; // adjust context menu entry
                  _drawingMode.search.options.contextmenuItems[0] = {
                    text: "Entferne Suchraum",
                    iconCls: "ion ion-md-close",
                    callback: _lis_modal.removeSearchPoly,
                  };
                  _drawingMode = null; // remove polygon fro  map after timeout (still has mouseover callback)
                  setTimeout(function (_) {
                    _map.removeLayer(e.layer);
                  }, 3000);
                  return;
                })
                .catch(function (err) {
                  alert("Suchraum konnte nicht erstellt werden.");
                  _map.removeLayer(e.layer);
                  if (DEBUG) console.log(err);
                });
            }
          });
        }
        var _h2OrderLayer = null;
        function addH2OrdersToMap(orders) {
          // reset order layer
          if (_h2OrderLayer) _h2OrderLayer.clearLayers();
          orders = orders.map(function (o) {
            if (o.geom_point) {
              o.geom = {
                type: "Point",
                coordinates: [o.geom_point.lng, o.geom_point.lat],
              };
              o.icon = {
                file:
                  _h2info.icon_base_path +
                  _h2info.products[o.product_super_type][o.product_type][
                    o.product
                  ].icon_s,
                width: 23,
                height: 23,
              }; // polygon geometry: prepare mouseover
              if (o.geom_poly) {
                o.polygon = L.polygon(o.geom_poly, {
                  stroke: true,
                  color: COLORS.h2Polygon,
                  opacity: 1,
                  weight: 2,
                  interactive: false,
                  fill: true,
                  fillColor: COLORS.h2Polygon,
                  fillOpacity: 0.4,
                  noClip: true,
                });
              }
              return o;
            }
          });
          orders = (0, _features.obj2FeatureArray)(orders);
          _h2OrderLayer = (0, _features.showData)(orders, {
            name: "Hâ‚‚ Angebote/Suchen",
            clustered: true,
            clusterClass: "h2order-markercluster",
            divIconFunc: "h2order",
          });
          if (_h2OrderLayer) {
            _h2OrderLayer.on("click", function (m) {
              // open modal on click
              updateH2OrderModal(m.layer.properties);
            });
            _h2OrderLayer.on("mouseover", function (e) {
              // show polygon on hover
              if (e.sourceTarget.properties.polygon)
                _map.addLayer(e.sourceTarget.properties.polygon);
            });
            _h2OrderLayer.on("mouseout", function (e) {
              // hide polygon when mouse leaves marker
              if (e.sourceTarget.properties.polygon)
                _map.removeLayer(e.sourceTarget.properties.polygon);
            });
          }
        }
        function newH2OrderCallback(e) {
          window.location.href =
            window.location.origin +
            window.location.pathname +
            "h2order/?x=" +
            e.latlng.lng +
            "&y=" +
            e.latlng.lat;
        }
        function updateH2Orders(orders, ordering) {
          _h2orders = orders;
          {
            var _loop3 = function _loop3(field) {
              var direction = ordering[field];
              _h2orders.sort(function (a, b) {
                var va = a[field];
                var vb = b[field]; // a 'set' of fields that should be translated before sorting
                var translate_fields = {
                  order_type: 1,
                  product: 1,
                  product_type: 1,
                  product_super_type: 1,
                };
                if (field in translate_fields) {
                  va = _h2info.trans[field][a[field]];
                  vb = _h2info.trans[field][b[field]];
                }
                if (va < vb) {
                  return -1 * direction;
                } else if (va > vb) {
                  return 1 * direction;
                } else {
                  return 0;
                }
              });
            };
            for (var field in ordering) {
              _loop3(field);
            }
          }
          var orders_tbody = document.getElementById("tbody_h2orders");
          orders_tbody.innerHTML = "";
          var order_types = { 1: "Suche", 2: "Biete" };
          var _loop4 = function _loop4(i) {
            var row = window.document.createElement("tr");
            function addText(text) {
              var td = document.createElement("td");
              td.innerText = text;
              row.appendChild(td);
            }
            function addImage(src, caption) {
              var td = document.createElement("td");
              var i = new Image();
              i.src = _h2info.icon_base_path + src;
              i.width = 32;
              td.appendChild(i);
              var span = document.createElement("span");
              span.className = "h2order_product_name";
              span.innerText = caption;
              td.appendChild(span);
              row.appendChild(td);
            }
            addText(orders[i].index || "-");
            addText(order_types[orders[i].order_type]);
            addText(
              _h2info.trans.product_super_type[orders[i].product_super_type] ||
                "-"
            );
            addText(_h2info.trans.product_type[orders[i].product_type] || "-");
            addImage(
              _h2info.products[orders[i].product_super_type][
                orders[i].product_type
              ].icon_s ||
                _h2info.products[orders[i].product_super_type][
                  orders[i].product_type
                ][orders[i].product].icon_s,
              _h2info.trans.product[orders[i].product] || "-"
            );
            addText(_h2info.trans.status[orders[i].status] || "-");
            addText(_h2info.trans.purity[orders[i].purity] || "-");
            addText(_h2info.trans.pressure[orders[i].pressure] || "-");
            addText(orders[i].max_h2_mass || "-");
            row.onclick = function () {
              updateH2OrderModal(orders[i]);
            };
            orders_tbody.appendChild(row);
          };
          for (var i = 0; i < orders.length; i++) {
            _loop4(i);
          }
          addH2OrdersToMap(orders);
        }
        function updateH2OrderModal(order) {
          var order_types = { 1: "SUCHE", 2: "ANGEBOT" };
          var order_classes = { 1: "h2order-typ-buy", 2: "h2order-typ-sell" };
          {
            var t = document.getElementById("h2order-modal-order-type");
            t.innerText = order_types[order.order_type];
            var c = document.getElementById("h2order-modal-order-circle");
            c.className = order_classes[order.order_type];
          }
          var div = document.getElementById("h2order-modal-desc");
          div.innerText = order.description || "-";
          {
            var img = document.getElementById("h2order-modal-product-img");
            img.src = order.icon.file;
          }
          {
            var prod = document.getElementById("h2order-modal-product");
            prod.innerText = _h2info.trans.product[order.product] || "-";
            var cat = document.getElementById("h2order-modal-category");
            if (order.product != order.product_type) {
              cat.innerText =
                " (" +
                (_h2info.trans.product_type[order.product_type] || "-") +
                ")";
            } else {
              cat.innerText = "";
            }
          }
          {
            var elem = document.getElementById("h2order-modal-coords");
            elem.innerText =
              order.geom_point.lat.toLocaleString() +
              "    " +
              order.geom_point.lng.toLocaleString();
          }
          {
            var _elem = document.getElementById("h2order-modal-location-div");
            _elem.onclick = function (_) {
              // close order modal
              $("#h2order-modal").foundation("close"); // close sidebar
              $(".sidebar-close").click(); // zoom to order location
              var zoom = Math.max(_map.getZoom(), 11);
              _map.flyTo([order.geom_point.lat, order.geom_point.lng], zoom);
            };
          }
          {
            var _elem2 = document.getElementById("h2order-modal-status");
            var status = _h2info.trans.status[order.status] || "-";
            if (order.status_date) status += " bis " + order.status_date;
            _elem2.innerText = status;
          }
          {
            var _elem3 = document.getElementById("h2order-modal-purity");
            _elem3.innerText = _h2info.trans.purity[order.purity] || "-";
          }
          {
            var _elem4 = document.getElementById("h2order-modal-pressure");
            _elem4.innerText = _h2info.trans.pressure[order.pressure] || "-";
          }
          {
            var _elem5 = document.getElementById(
              "h2order-modal-inlet-temperature"
            );
            _elem5.innerText =
              _h2info.trans.inlet_temperature[order.inlet_temperature] || "-";
          }
          {
            var _elem6 = document.getElementById(
              "h2order-modal-outlet-temperature"
            );
            _elem6.innerText =
              _h2info.trans.outlet_temperature[order.outlet_temperature] || "-";
          }
          {
            var _elem7 = document.getElementById("h2order-modal-company");
            _elem7.innerText = order.company.name || "";
            var mail = document.getElementById("h2order-modal-contact_email");
            var val = order.contact_email;
            mail.innerText = val || "-";
            mail.href = val ? "mailto:" + val : "#";
            var tel_elem = document.getElementById(
              "h2order-modal-contact_telephone"
            );
            var tel = order.contact_telephone;
            tel_elem.innerText = tel || "-";
            tel_elem.href = tel ? "tel:" + tel : "#";
            var koop_elem = document.getElementById(
              "h2order-modal-contact_koop_bb_url"
            );
            var koop = order.contact_koop_bb_url;
            var abs_koop_url = ""; // Try to make URL absolute
            if (
              koop.indexOf("https://") === 0 ||
              koop.indexOf("http://") === 0 ||
              koop.indexOf("//") === 0
            ) {
              // URL is absolute
            } else {
              // URL is strange or relative -> Add https protocol to avoid a relative link to localiser
              abs_koop_url = "https://" + koop;
            }
            koop_elem.innerText = koop || "-";
            koop_elem.href = koop ? abs_koop_url : "#";
          }
          {
            var _elem8 = document.getElementById("h2order-modal-share-url");
            _elem8.value =
              window.location.origin +
              "/h2link/" +
              _h2info.h2market.url_name +
              "/" +
              order.id +
              "/";
          }
          {
            var a = document.getElementById("h2order-modal-edit-link");
            if (order.is_own) {
              a.href = "h2order/" + order.id + "/";
              a.style.display = "";
            } else {
              a.href = "#";
              a.style.display = "none";
            }
          }
          {
            var btn = document.getElementById("h2order-delete-button");
            btn.dataset.order_id = order.id;
            if (order.is_own) {
              btn.style.display = "";
            } else {
              btn.style.display = "none";
            }
          } // yearly fields
          {
            var add_yearly_chart = function add_yearly_chart(field, unit_y) {
              var chart_div = document.createElement("div");
              chart_div.className = "h2order-chart";
              var years = Object.keys(order.yearly_fields);
              var series = [];
              var chart_is_relevant = false;
              for (var _i3 = 0, _years = years; _i3 < _years.length; _i3++) {
                var year = _years[_i3];
                var value = order.yearly_fields[year + ""][field];
                series.push({ x: year, y: value });
                if (value) {
                  chart_is_relevant = true;
                }
              }
              var data = { series: [series], labels: [] };
              var options = {
                showPoint: true,
                lineSmooth: Chartist.Interpolation.none(),
                axisX: {
                  showGrid: true,
                  axisTitle: "",
                  type: Chartist.FixedScaleAxis,
                  ticks: years,
                },
                axisY: { showGrid: true, low: 0 }, //classNames: classNames,
                plugins: [
                  Chartist.plugins.ctAxisTitle({
                    axisX: { axisTitle: "", offset: { x: 0, y: 30 } },
                    axisY: {
                      axisTitle: unit_y,
                      offset: { x: 0, y: 10 },
                      flipTitle: true,
                    },
                  }),
                ],
              };
              var chart = new Chartist.Line(chart_div, data, options); // update chart on resize / accordion open
              new ResizeObserver(function (_) {
                chart.update();
              }).observe(chart_div);
              return [chart_div, chart_is_relevant];
            };
            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;
            try {
              for (
                var _iterator2 = _h2info.yearly_fields[Symbol.iterator](),
                  _step2;
                !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next())
                  .done);
                _iteratorNormalCompletion2 = true
              ) {
                var field = _step2.value;
                var _div = document.getElementById(
                  "h2order-modal-chart-" + field
                );
                _div.innerHTML = "";
                var _add_yearly_chart = add_yearly_chart(
                    field,
                    _h2info.yearly_field_units[field]
                  ),
                  _add_yearly_chart2 = _slicedToArray(_add_yearly_chart, 2),
                  chart_elem = _add_yearly_chart2[0],
                  is_relevant = _add_yearly_chart2[1];
                _div.appendChild(chart_elem);
                if (is_relevant) {
                  _div.parentElement.parentElement.style.display = "";
                } else {
                  // hide accordion item if chart is empty
                  _div.parentElement.parentElement.style.display = "none";
                }
              }
            } catch (err) {
              _didIteratorError2 = true;
              _iteratorError2 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion2 && _iterator2.return != null) {
                  _iterator2.return();
                }
              } finally {
                if (_didIteratorError2) {
                  throw _iteratorError2;
                }
              }
            }
          }
          $("#h2order-modal").foundation("open");
        }
        function handleGetH2Orders(filter) {
          var url = new URL(
            window.location.origin + window.location.pathname + "h2orders/"
          );
          if (filter.order_type) {
            url.searchParams.append("order_type", filter.order_type);
          }
          if (filter.product_super_type) {
            url.searchParams.append(
              "product_super_type",
              filter.product_super_type
            );
          }
          if (filter["status"]) {
            url.searchParams.append("status", filter["status"]);
          }
          if (filter.same_project) {
            url.searchParams.append("same_project", "1");
          }
          return fetch(url.href)
            .then(function (resp) {
              return resp.json();
            })
            .then(function (data) {
              var orders = data["orders"];
              updateH2Orders(orders, filter.ordering || {});
            });
        }
        function handleH2OrderDelete(order_id) {
          var form_data = new FormData(); // Add CSRF token
          var token =
            document.getElementById("lisform").csrfmiddlewaretoken.value;
          form_data.append("csrfmiddlewaretoken", token);
          if (!confirm("MÃ¶chten Sie dieses Angebot / diese Suche lÃ¶schen?")) {
            return;
          } // fetch!
          (0, _utils.fetchPost)(
            "h2order/" + order_id + "/delete/",
            form_data,
            30000
          )
            .then(function (response) {
              return response.json();
            })
            .then(function (data) {
              console.log(data);
              if (data.success) {
                $("#h2order-modal").foundation("close");
                handleGetH2Orders(_h2filter);
              }
            });
        }
        function handleEvaluationSubmit() {
          var eval_form = document.getElementById("customlis_evaluation_form");
          var selected_lis_field = eval_form.elements["selected_lis"];
          selected_lis_field.value = "[]"; // Add selected lis from site manager table
          if ($.fn.dataTable.isDataTable("#site-manager-table")) {
            var dt = $("#site-manager-table").DataTable();
            var selected_rows = dt.rows({ selected: true }).data();
            if (selected_rows.length > 0) {
              var lis_ids = [];
              for (var i = 0; i < selected_rows.length; i++) {
                lis_ids.push(selected_rows[i].lis_id);
              }
              selected_lis_field.value = JSON.stringify(lis_ids);
            }
          }
          eval_form.submit();
        }
        function handleMultiLisDelete() {
          var lis_ids = []; // Add selected lis from site manager table
          if ($.fn.dataTable.isDataTable("#site-manager-table")) {
            var dt = $("#site-manager-table").DataTable();
            var selected_rows = dt.rows({ selected: true }).data();
            if (selected_rows.length > 0) {
              for (var i = 0; i < selected_rows.length; i++) {
                lis_ids.push(selected_rows[i].lis_id);
              }
            }
          }
          if (lis_ids.length == 0) {
            alert("Keine Standorte ausgewÃ¤hlt.");
            return;
          } else {
            var msg =
              lis_ids.length === 1
                ? "MÃ¶chten Sie diesen Standort wirklich lÃ¶schen?"
                : "MÃ¶chten Sie diese " +
                  lis_ids.length +
                  " Standorte wirklich lÃ¶schen?";
            var okay = confirm(msg);
            if (!okay) {
              return;
            }
          }
          var form_data = new FormData(); // Add CSRF token
          var token =
            document.getElementById("lisform").csrfmiddlewaretoken.value;
          form_data.append("csrfmiddlewaretoken", token);
          form_data.append("selected_lis", JSON.stringify(lis_ids));
          (0, _utils.fetchPost)("lis/multidelete/", form_data, 30000)
            .then(function (response) {
              return response.json();
            })
            .then(function (data) {
              if (!data.error) {
                var _iteratorNormalCompletion3 = true;
                var _didIteratorError3 = false;
                var _iteratorError3 = undefined;
                try {
                  var _loop5 = function _loop5() {
                    var lis_id = _step3.value;
                    var marker = _markers.find(function (m) {
                      return m.properties.id == lis_id;
                    });
                    (0, _lis_modal.removeCustomCPFromMap)(marker);
                    var customLisDisabled =
                      _region.lisLimit !== null &&
                      _markers.length >= _region.lisLimit; // find context menu entry by string, may enable it
                    _map.contextmenu.setDisabled(
                      (0, _utils.getCMItemByLabel)("Platziere Ladestandort"),
                      customLisDisabled
                    );
                  };
                  for (
                    var _iterator3 = lis_ids[Symbol.iterator](), _step3;
                    !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next())
                      .done);
                    _iteratorNormalCompletion3 = true
                  ) {
                    _loop5();
                  }
                } catch (err) {
                  _didIteratorError3 = true;
                  _iteratorError3 = err;
                } finally {
                  try {
                    if (
                      !_iteratorNormalCompletion3 &&
                      _iterator3.return != null
                    ) {
                      _iterator3.return();
                    }
                  } finally {
                    if (_didIteratorError3) {
                      throw _iteratorError3;
                    }
                  }
                }
                (0, _table.renderSiteManagerTable)();
              }
            });
        }
        function toggleElemVisibility(elem_id) {
          var elem = document.getElementById(elem_id);
          if (elem.style.display === "") {
            elem.style.display = "none";
          } else {
            elem.style.display = "";
          }
        }
      },
      {
        "./AHP": 1,
        "./chat": 3,
        "./comment_modal": 4,
        "./debug_info": 5,
        "./features": 6,
        "./layer": 7,
        "./lis_modal": 8,
        "./scenario": 12,
        "./table": 13,
        "./utils": 14,
      },
    ],
    10: [
      function (require, module, exports) {
        "use strict";
        var _features = require("./features");
        var _map = require("./map");
        var _lis_modal = require("./lis_modal");
        var _poi_modal = require("./poi_modal");
        var _comment_modal = require("./comment_modal");
        var _AHP = require("./AHP");
        var _chat = require("./chat");
        var _scenario = require("./scenario");
        var _utils = require("./utils"); // export functions to the browser's scope
        {
          // Unfortunately, we can't use <function>.name because it doesn't work well
          // with minification.
          var functions = [
            ["addNewLisChecklistItem", _lis_modal.addNewLisChecklistItem],
            ["addLisPowerTableRow", _lis_modal.addLisPowerTableRow],
            ["exportLISasCSV", _features.exportLISasCSV],
            ["exportLISasJSON", _features.exportLISasJSON],
            ["exportPotential", _features.exportPotential],
            ["handleChatRefresh", _chat.handleChatRefresh],
            ["handleChatSubmit", _chat.handleChatSubmit],
            ["handleGetH2Orders", _map.handleGetH2Orders],
            ["updateH2Orders", _map.updateH2Orders],
            ["handleH2OrderDelete", _map.handleH2OrderDelete],
            ["handleNewLisDescription", _lis_modal.handleNewLisDescription],
            ["handleNewLisMessage", _lis_modal.handleNewLisMessage],
            ["handleDeleteLISFile", _lis_modal.handleDeleteLISFile],
            ["handleFormSubmit", _map.handleFormSubmit],
            ["handleNewLisImg", _lis_modal.handleNewLisImg],
            ["handleLisSurvey", _lis_modal.handleLisSurvey],
            ["handleCommentRefresh", _comment_modal.handleCommentRefresh],
            ["handleCommentSubmit", _comment_modal.handleCommentSubmit],
            ["handleQuerySave", _map.handleQuerySave],
            ["handleQueryFetch", _map.handleQueryFetch],
            ["handleExportLISExcel", _map.handleExportLISExcel],
            ["handleEvaluationSubmit", _map.handleEvaluationSubmit],
            ["handleMultiLisDelete", _map.handleMultiLisDelete],
            ["toggleElemVisibility", _map.toggleElemVisibility],
            ["highlightCCP", _lis_modal.highlightCCP],
            ["markDirty", _lis_modal.markDirty],
            ["openLisModal", _lis_modal.openLisModal],
            ["postPOI", _poi_modal.postPOI],
            ["saveLisChanges", _lis_modal.saveLisChanges],
            ["setHeatColormap", _features.setHeatColormap],
            ["sliderChange", _utils.sliderChange],
            ["updateScenarioDropdown", _scenario.updateScenarioDropdown],
          ];
          for (var i = 0; i < functions.length; i++) {
            // Add functions as property of window object to make it global
            window[functions[i][0]] = functions[i][1];
          }
        }
        (0, _map.initializeMap)(); // Initialize foundation
        $(document).foundation();
        (0, _AHP.loadAHPData)();
      },
      {
        "./AHP": 1,
        "./chat": 3,
        "./comment_modal": 4,
        "./features": 6,
        "./lis_modal": 8,
        "./map": 9,
        "./poi_modal": 11,
        "./scenario": 12,
        "./utils": 14,
      },
    ],
    11: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.addPoiCallback = addPoiCallback;
        exports.postPOI = postPOI;
        var _map2 = require("./map");
        var _features = require("./features");
        var _utils = require("./utils"); // Callback that opens window for POI adding/editing
        function addPoiCallback(e) {
          var form = document.getElementById("poiform");
          var button = document.getElementById("post-poi-button");
          if (!(form && button)) {
            if (_map2.DEBUG) console.log("Oops. POI form not found");
            return;
          }
          if (e.relatedTarget) {
            form.elements.id.value = e.relatedTarget.properties.pk;
            form.elements.name.value = e.relatedTarget.properties.Beschreibung;
            form.elements.amenity.value = e.relatedTarget.properties.Typ;
            button.disabled = false;
          } else {
            form.elements.id.value = "";
            form.elements.geom.value = (0, _utils.geoJSONdumps)(e.latlng);
            form.elements.name.value = "";
            form.elements.amenity.value = "";
            button.disabled = true;
          }
          form.elements.name.onchange = function (_) {
            button.disabled = !checkInput();
          };
          form.elements.amenity.onchange = function (_) {
            button.disabled = !checkInput();
          };
          $("#poi-modal").foundation("open");
          form.elements.name.focus();
        }
        function removePOICallback(e) {
          var form = document.getElementById("poiform");
          if (!form) {
            if (_map2.DEBUG) console.log("Oops. POI form not found");
            return;
          }
          form.elements.id.value = "-" + e.relatedTarget.properties.pk;
          (0, _utils.fetchPost)("poi/user/", "poiform");
          e.relatedTarget.removeFrom(_map);
        } // are all necessary fields set in form?
        function checkInput() {
          var form = document.getElementById("poiform");
          return (
            form &&
            form.elements.name.value.length &&
            form.elements.amenity.value.length
          );
        } // post POI data to backend
        // id set: edit/delete POI, otherwise add POI
        // shows all user POI in region on success
        function postPOI() {
          var form = document.getElementById("poiform");
          if (!form) {
            if (_map2.DEBUG) console.log("Oops. POI form not found");
            return;
          }
          if (
            !form.elements.id.value &&
            (!form.elements.geom.value ||
              !form.elements.name.value ||
              !form.elements.amenity.value)
          ) {
            if (_map2.DEBUG) console.log("Insufficient info");
            return;
          }
          (0, _utils.fetchPost)("poi/user/", "poiform")
            .then(function (r) {
              return r.json();
            })
            .then(function (res) {
              if (res && res.features) {
                res.features.map(function (d) {
                  (0, _features.reverseCoordinates)(d.geometry);
                  d.properties.desc =
                    "<table><tr><td>Beschreibung</td><td>" +
                    d.properties.Beschreibung +
                    "</td></tr><tr><td>Typ</td><td>" +
                    d.properties.Typ +
                    "</td></tr></table>";
                });
                var layer = (0, _features.showData)(res.features, {
                  color: _map2.COLORS.POI_custom,
                  rejectDoubles: "pk",
                });
                layer.eachLayer(function (l) {
                  l.bindContextMenu({
                    contextmenu: true,
                    contextmenuInheritItems: false,
                    contextmenuItems: [
                      {
                        text: "Editiere POI",
                        iconCls: "ion ion-md-create",
                        callback: addPoiCallback,
                      },
                      {
                        text: "Entferne POI",
                        iconCls: "ion ion-md-trash",
                        callback: removePOICallback,
                      },
                    ],
                  });
                });
              } else if (_map2.DEBUG) console.log(res);
            })
            .catch(function (error) {
              if (_map2.DEBUG) console.log(error);
            });
          $("#poi-modal").foundation("close");
        }
      },
      { "./features": 6, "./map": 9, "./utils": 14 },
    ],
    12: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.initScenarios = initScenarios;
        exports.updateScenarioDropdown = updateScenarioDropdown;
        var _map = require("./map");
        var _utils = require("./utils");
        function initScenarios() {
          // build scenario table
          var table = document.getElementById("scenarios");
          if (!table) return; // create header (used as labels)
          if (!_region.scenarios) return; // reset table
          table.innerHTML = ""; // create header row
          var row = table.insertRow(-1);
          var th = row.insertCell(0);
          th.textContent = "Scenario"; // header of first column
          for (var i = 0; i < _region.scenarios.years.length; i++) {
            th = row.insertCell(-1);
            th.textContent = _region.scenarios.years[i]; // year headers
          } // create individual scenario rows
          for (var _i = 0; _i < _region.scenarios.names.length; _i++) {
            row = table.insertRow(-1);
            var td = row.insertCell(0); // cell for name input
            var input = (0, _utils.addElem)("", "", td, "INPUT");
            input.type = "text";
            input.placeholder = "Name";
            input.value = _region.scenarios.names[_i];
            input.onchange = function (_) {
              updateScenarioChart(true);
            }; // add input cells for each time column
            for (var j = 1; j < table.rows[0].cells.length; j++) {
              td = row.insertCell(-1);
              input = (0, _utils.addElem)("", "", td, "INPUT");
              input.type = "text";
              input.value = _region.scenarios.data[_i][j - 1];
              input.onchange = function (_) {
                updateScenarioChart(true);
              };
            }
          }
          updateScenarioDropdown();
          updateScenarioChart(false);
        } // repaint chart when opening modal view
        $("#scenario-modal").on("open.zf.reveal", function (_) {
          updateScenarioChart(false);
        }); // save changes when closing modal view
        $("#scenario-modal").on("closed.zf.reveal", saveScenarioChanges);
        function updateScenarioDropdown() {
          // update scenario selection box
          // get choices from _region.scenarios dict
          var choices = document.getElementById("id_scenario");
          if (choices) choices.innerHTML = "";
          for (var i = 0; choices && i < _region.scenarios.names.length; i++) {
            var option = (0, _utils.addElem)(
              null,
              _region.scenarios.names[i],
              choices,
              "OPTION"
            );
            option.value = _region.scenarios.names[i];
          }
        }
        function updateScenarioChart(markDirty) {
          // draw line chart
          // markDirty: set hidden input after change
          var chart = document.getElementById("scenario-chart");
          if (!chart) return;
          var scenarioData = getScenarioDataFromTable();
          var data = {
            legend: scenarioData.names,
            labels: scenarioData.years,
            series: scenarioData.data,
          };
          var max = data.series.reduce(function (a, c) {
            return Math.max(
              a,
              c.reduce(function (a, c) {
                return Math.max(a, c);
              }, 0)
            );
          }, 0);
          var legend = document.getElementById("legend");
          legend.innerHTML = ""; // draw line
          new Chartist.Line(chart, data, {
            chartPadding: { left: 40, right: 40 }, //lineSmooth: Chartist.Interpolation.cardinal({fillHoles: true}), // smoothing?
            low: 0,
            high: max,
            fullWidth: true,
            axisX: { labelOffset: { x: -15, y: 0 } },
            axisY: { labelOffset: { x: 0, y: 5 } },
            plugins: [
              Chartist.plugins.legend({
                legendNames: data.legend,
                position: legend, //"bottom"
              }),
              Chartist.plugins.ctAxisTitle({
                axisY: {
                  axisTitle: "E-Fahrzeuge",
                  axisClass: "ct-axis-title",
                  offset: { x: 0, y: 25 },
                  flipTitle: true,
                },
              }),
            ],
          });
          addEmptyRow();
          var dirtyElem = document.getElementById("scenario-dirty");
          if (dirtyElem) dirtyElem.checked = dirtyElem.checked || markDirty;
        }
        function addEmptyRow() {
          // add empty row to bottom of table if last row is not empty
          var table = document.getElementById("scenarios");
          if (!table) return; // last row empty: abort
          if (!table.rows[table.rows.length - 1].firstChild.firstChild.value)
            return;
          var row = table.tBodies[0].insertRow(-1);
          var td = row.insertCell(0); // cell for name input
          var input = document.createElement("INPUT");
          input.type = "text";
          input.placeholder = "Name";
          input.onchange = function (_) {
            updateScenarioChart(true);
          };
          td.appendChild(input); // add input cells for each time column
          for (var i = 1; i < table.rows[0].cells.length; i++) {
            td = row.insertCell(-1);
            input = document.createElement("INPUT");
            input.type = "text";
            input.onchange = function (_) {
              updateScenarioChart(true);
            };
            td.appendChild(input);
          }
        }
        function getScenarioDataFromTable() {
          var table = document.getElementById("scenarios");
          var data = { years: [], names: [], data: [] };
          if (!table) return data; // get year labels from first table row
          var row = table.rows[0].cells;
          for (var j = 1; j < row.length; j++) {
            data.years.push(row[j].textContent);
          } // read table values row-wise
          for (var i = 1; i < table.rows.length; i++) {
            // current table row
            row = table.rows[i].cells; // no scenario name: ignore
            if (!row[0].firstChild.value) continue; // data row
            // prepare array for row data
            data.data.push([]); // get row name for legend
            data.names.push(row[0].firstChild.value); // get row values
            for (var _j = 1; _j < row.length; _j++) {
              var input = row[_j].firstChild.value; // user-entered string
              input = input.replace(",", "."); // JS needs dots as decimal place
              var value = parseFloat(input); // string -> float
              value = Math.max(value, 0.0); // 0 is lower limit
              data.data[data.data.length - 1].push(value); // add converted value into current array
            }
          }
          return data;
        } // send scenario data to backend when it has changed (check dirty bit)
        function saveScenarioChanges() {
          var form = document.getElementById("scenario-form");
          var table = document.getElementById("scenarios");
          var dirtyElem = document.getElementById("scenario-dirty");
          if (!(form && table && dirtyElem && dirtyElem.checked)) return;
          var scenarios = getScenarioDataFromTable(); // make sure all names within project are unique
          var uniqueNames =
            scenarios.names.length === new Set(scenarios.names).size;
          if (!uniqueNames) {
            alert("Szenarios brauchen einen eindeutigen Namen."); // there is no foundation event that fires BEFORE closing the modal, so it has to be reopened
            // when this function is called by closed.zf.reveal, the modal is still in state "open", so reopening it right away puts it in an invalid state
            setTimeout(function (_) {
              $("#scenario-modal").foundation("open");
            }, 100);
            return;
          } // warn on missing data
          var hasNaN = scenarios.data.reduce(function (a, c) {
            return (
              a ||
              c.reduce(function (a, c) {
                return a || Number.isNaN(c);
              }, false)
            );
          }, false);
          if (
            hasNaN &&
            !confirm(
              "Mindestens ein Szenario enthÃ¤lt lÃ¼ckenhafte Daten. Trotzdem fortfahren?"
            )
          ) {
            setTimeout(function (_) {
              $("#scenario-modal").foundation("open");
            }, 100);
            return;
          } // mark clean
          dirtyElem.checked = false; // build form
          var form_data = new FormData();
          form_data.append("scenarios", JSON.stringify(scenarios));
          form_data.append(
            "csrfmiddlewaretoken",
            form.csrfmiddlewaretoken.value
          ); // send form. Timeout: 30s
          (0, _utils.fetchPost)("scenario/", form_data, 30000)
            .then(function (response) {
              return response.json();
            })
            .then(function (data) {
              console.log(data);
              _region.scenarios = data;
              updateScenarioDropdown();
            })
            .catch(function (err) {
              if (_map.DEBUG) console.log(err);
              alert(
                "Es gab einen Fehler beim Aktualisieren der Szenarien. bitte Ã¼berprÃ¼fen Sie Ihre Eingaben."
              );
              $("#scenario-modal").foundation("open");
            });
        }
      },
      { "./map": 9, "./utils": 14 },
    ],
    13: [
      function (require, module, exports) {
        "use strict";
        Object.defineProperty(exports, "__esModule", { value: true });
        exports.renderSiteManagerTable = renderSiteManagerTable;
        var _utils = require("./utils");
        function lisTypeToString(ltype) {
          switch ("" + ltype) {
            case "1":
              return "privat";
            case "2":
              return "halb Ã¶ffentlich";
            case "3":
              return "Ã¶ffentlich";
            default:
              return "<Unbekannt " + ltype + ">";
          }
        }
        function getTableRows() {
          var evalYearSelect = document.getElementById("evalYear");
          var sorted_markers = _markers.sort(function (a, b) {
            return a.properties.id - b.properties.id;
          });
          var rows = [];
          var year =
            evalYearSelect && evalYearSelect.value ? evalYearSelect.value : 0;
          for (var i = 0; i < sorted_markers.length; i++) {
            var p = sorted_markers[i].properties;
            var power = 0.0;
            var count = 0;
            for (var k = 0; k < p.power_table.length; k++) {
              var t = p.power_table[k];
              power += t.power * t.count * t.demand_factor;
              count += t.count;
            } // build displayed name string
            // base name that opens modal on click
            var name =
              '<a href="#" onclick="openLisModal(' +
              p.id +
              ')">' +
              (0, _utils.escapeHTML)(p.name) +
              "</a>"; // prepend with map icon (jump to marker on map)
            name =
              '<a href="#" onclick=\'$(".sidebar-close").click(); highlightCCP(' +
              p.id +
              ');\'><i class="icon icon--small ion-md-map"></i></a> ' +
              name; // append lock when locked
            if (p.locked)
              name +=
                ' <i class="icon icon--small ion-md-lock" title="Dieser Standort kann nicht mehr verschoben werden."></i>';
            var row = {
              index: i + 1,
              lis_id: p.id,
              name: { display: name, value: p.name },
              public_type: lisTypeToString(p.public_type),
              count_str:
                '<a href="#" onclick="openLisModal(' +
                p.id +
                ", '#acc-item-power')\">" +
                count +
                "</a>",
              count: count,
              power: {
                display:
                  '<a href="#" onclick="openLisModal(' +
                  p.id +
                  ", '#acc-item-power')\">" +
                  (0, _utils.roundToStr)(power, 2) +
                  " kW</a>",
                num: power,
              },
              files_str:
                '<a href="#" onclick="openLisModal(' +
                p.id +
                ", '#acc-item-files')\">" +
                p.images.length +
                "</a>",
              files: p.images.length,
            };
            if (_permissions.evaluateCustomLis > 0) {
              for (var key in p.evaluation) {
                // evaluation may be empty, key may be "info"
                try {
                  var num_val = p.evaluation[key][year].power / 1000.0;
                  var str_val = (0, _utils.roundToStr)(num_val, 1) + " MWh/a";
                  row["eval_" + key] = {
                    display:
                      '<a href="#" onclick="openLisModal(' +
                      p.id +
                      ", '#acc-item-evaluation')\">" +
                      str_val +
                      "</a>",
                    num: num_val,
                  };
                } catch (_a) {}
              }
            }
            rows.push(row);
          }
          return rows;
        }
        function renderSiteManagerTable() {
          if (!$.fn.dataTable.isDataTable("#site-manager-table")) {
            // Add listener: Render table again when year select changes
            {
              var evalYearSelect = document.getElementById("evalYear");
              if (evalYearSelect) {
                evalYearSelect.addEventListener("change", function (_) {
                  if (table) {
                    var page = table.page();
                    renderSiteManagerTable();
                    table.page(page).draw(false);
                  }
                });
              }
            } // columns are dependent on marker data
            var columns = [
              {
                title: " ",
                data: function data(_) {
                  return "";
                },
              },
              {
                data: "index",
                title: "Index",
                render: $.fn.dataTable.render.number(""),
              },
              {
                title: "Name",
                data: {
                  _: "name.display",
                  type: "name.value",
                  sort: "name.value",
                },
              },
              {
                data: "public_type",
                title: "ZugÃ¤nglichkeit",
                render: $.fn.dataTable.render.text(),
              },
              { data: "count_str", title: "Ladepunkte" },
              {
                title: "Leistung",
                data: {
                  _: "power.display",
                  sort: "power.num",
                  type: "power.num",
                },
              },
              { data: "files_str", title: "Dateien", sort: "files" },
            ];
            if (_permissions.evaluateCustomLis > 0 && _markers.length > 0) {
              var evalData = _markers[0].properties.evaluation;
              if (evalData && evalData.info) {
                var key;
                for (key in evalData.info.scenarios) {
                  var title = key + " kW";
                  if (key == "150") {
                    title = ">= " + title;
                  }
                  columns.push({
                    title: title,
                    data: {
                      _: "eval_" + key + ".display",
                      sort: "eval_" + key + ".num",
                      type: "eval_" + key + ".num",
                    },
                    defaultContent: "-",
                  });
                } // populate year dropdown menu
                var _evalYearSelect = document.getElementById("evalYear");
                for (
                  var i = 0;
                  _evalYearSelect && evalData[key] && i < evalData[key].length;
                  i++
                ) {
                  var option = (0, _utils.addElem)(
                    "",
                    evalData[key][i].year,
                    _evalYearSelect,
                    "OPTION"
                  );
                  option.value = i;
                }
              }
            } // Initialise datatable
            var table = $("#site-manager-table").DataTable({
              data: getTableRows(),
              paginate: true,
              columnDefs: [
                { orderable: false, className: "select-checkbox", targets: 0 },
                { targets: 1, width: "5%" },
                { targets: 2, width: "30%", type: "natural" },
                { targets: [4, 5, 6], width: "10%" },
              ],
              order: [[1, "asc"]],
              columns: columns,
              select: {
                style: "multi+shift",
                selector: "td:first-child",
                className: "custom-selected",
                language: {},
              },
              language: {
                search: "Suche:",
                zeroRecords: "Keine passenden Suchergebnisse gefunden",
                emptyTable:
                  '<b>Keine Ladestandorte vorhanden.</b><br><br>Erstellen Sie einen Ladestandort mit einem Rechtsklick auf der <a href="#" onclick="document.querySelector(\'#site-manager .sidebar-close\').click()">Karte</a> und wÃ¤hlen Sie im MenÃ¼ <b>"Platziere Ladestandort"</b>:<br><br><img src="/static/LISMap/img/screenshot_create_lis.png">',
                info: "Zeilen _START_ - _END_ von _TOTAL_",
                infoEmpty: "",
                infoFiltered: "(aus _MAX_ Zeilen insgesamt)",
                lengthMenu: "Zeige _MENU_ Zeilen",
                select: {
                  cells: { _: "", 0: "", 1: "" },
                  rows: {
                    _: "%d Zeilen ausgewÃ¤hlt",
                    0: "",
                    1: "1 Zeile ausgewÃ¤hlt",
                  },
                },
                paginate: {
                  first: "Erste",
                  last: "Letzte",
                  next: "Vor",
                  previous: "ZurÃ¼ck",
                },
              },
            });
            table.on("select", update_delete_btn);
            table.on("deselect", update_delete_btn);
            document.getElementById("site-manager-table").style.width = "";
          } else {
            // Already initialised -> Update rows
            var dt = $("#site-manager-table").DataTable();
            dt.clear();
            dt.rows.add(getTableRows());
            dt.draw();
          } // update evaluation button visibility
          var eval_buttons = document.getElementById("eval-buttons-div");
          if (eval_buttons)
            eval_buttons.style.visibility = _markers.length
              ? "visible"
              : "hidden"; // update delete button visibility
          update_delete_btn();
        }
        function update_delete_btn() {
          var dt = $("#site-manager-table").DataTable();
          var btn = document.getElementById("lis-multi-delete-button");
          var selection_len = dt.rows({ selected: true }).data().length;
          if (btn) btn.style.visibility = selection_len ? "visible" : "hidden";
        }
      },
      { "./utils": 14 },
    ],
    14: [
      function (require, module, exports) {
        "use strict";
        /* utility functions */ Object.defineProperty(exports, "__esModule", {
          value: true,
        });
        exports.request = request;
        exports.fetchPost = fetchPost;
        exports.addElem = addElem;
        exports.escapeCsvString = escapeCsvString;
        exports.escapeCsvStringUgly = escapeCsvStringUgly;
        exports.escapeHTML = escapeHTML;
        exports.stringToFileName = stringToFileName;
        exports.sliderChange = sliderChange;
        exports.setProgressbarValue = setProgressbarValue;
        exports.togglePWVisibility = togglePWVisibility;
        exports.metersInPixels = metersInPixels;
        exports.geoJSONdumps = geoJSONdumps;
        exports.getLatLngFromString = getLatLngFromString;
        exports.roundToStr = roundToStr;
        exports.filenameWithoutRand = filenameWithoutRand;
        exports.safeMin = safeMin;
        exports.safeMax = safeMax;
        exports.colormapToGradient = colormapToGradient;
        exports.colormapToCSSGradient = colormapToCSSGradient;
        exports.getCMItemByLabel = getCMItemByLabel;
        var _map2 = require("./map"); // Start server request (GET). No return value. Use .then(function(result){} ... (promises) instead
        // options: path, query, timeout (ms) [none], method ([GET] or POST)
        function request(options) {
          var _this = this; // get own URL, append query. window.location.href gives full URL, with every character (like trailing hashes -> not good for appending)
          options = options || [];
          if (!options.path) throw "Request path required.";
          options.query = options.query || "";
          options.method = options.method || "GET";
          var pathname = window.location.origin + window.location.pathname;
          if (pathname[pathname.length - 1] != "/") {
            pathname += "/";
          } //append trailing slash
          var request = pathname + options.path + "/" + options.query;
          if (request[request.length - 1] != "/") {
            request += "/";
          } //append trailing slash
          // create promise
          var p = new Promise(function (resolve, reject) {
            if (self.fetch) {
              // fetch API supported
              if (_map2.DEBUG) console.log("fetching " + request + "...");
              fetch(request, {
                method: options.method,
                mode: "cors",
                headers: {
                  Accept: "application/json",
                  "Content-Type": "text/plain", //"X-CSRFToken": getCookie("csrftoken")
                },
                credentials: "same-origin",
              })
                .then(function (response) {
                  if (response.ok) {
                    response.json().then(function (response) {
                      //if (DEBUG) console.log(response);
                      resolve(response);
                    });
                  } else {
                    if (_map2.DEBUG) console.log(response);
                    reject(response.statusText);
                  }
                })
                .catch(function (error) {
                  if (_map2.DEBUG) console.log("Request failed", error);
                  reject(error);
                });
            } else {
              if (_map2.DEBUG) console.log("No fetch support"); // XMLHttpRequest
              var xhr = new XMLHttpRequest();
              xhr.open(options.method, request, true);
              xhr.setRequestHeader("Content-Type", "text/plain"); //xhr.setRequestHeader("X-CSRFToken", getCookie("csrftoken"));
              xhr.onreadystatechange = function (_) {
                if (_this.readyState === 4 && _this.status === 200) {
                  if (_map2.DEBUG) console.log("Done"); // if(DEBUG) console.log(JSON.parse(this.responseText));
                  resolve(JSON.parse(_this.responseText));
                } else {
                  if (_map2.DEBUG) console.log("Request failed");
                  if (_map2.DEBUG) console.log(_this);
                  reject(_this);
                }
              };
              xhr.send();
              if (_map2.DEBUG) console.log(xhr);
            }
          }); //wait for result (timeout optional)
          if (options.timeout) {
            return Promise.race([
              p,
              new Promise(function (_, reject) {
                return setTimeout(function () {
                  return reject(new Error("timeout"));
                }, options.timeout);
              }),
            ]);
          } else return p;
        }
        /*
    POST form data and return server result as Promise.
    Inputs:
        path: relative path to send data to. May need closing slash.
        id_or_formdata: already FormData object or form id
        timeout: timeout of POST request
    Output: Promise
*/ function fetchPost(path, id_or_formdata) {
          var timeout =
            arguments.length > 2 && arguments[2] !== undefined
              ? arguments[2]
              : 0;
          var post_data;
          if (typeof id_or_formdata === "string") {
            // collect form data, CSRF token
            post_data = new FormData(
              window.document.getElementById(id_or_formdata)
            );
          } else {
            post_data = id_or_formdata;
          } // request URL
          var url = window.location.origin + window.location.pathname + path;
          if (_map2.DEBUG) console.log(url); // fetch POST request
          var p = new Promise(function (resolve, reject) {
            fetch(url, {
              method: "post",
              body: post_data,
              credentials: "include",
            })
              .then(function (response) {
                if (response.ok) {
                  resolve(response);
                } else {
                  if (_map2.DEBUG) console.log(response);
                  reject(response.statusText);
                }
              })
              .catch(function (error) {
                if (_map2.DEBUG) console.log("Request failed", error);
                reject(error);
              });
          }); // Add timeout
          if (timeout) {
            return Promise.race([
              p,
              new Promise(function (_, reject) {
                return setTimeout(function () {
                  return reject(new Error("timeout " + timeout + " ms"));
                }, timeout);
              }),
            ]);
          }
          return p;
        }
        /* helper function for fast element adding
   inputs:
    classes: string of class names or null
    content: text content of element or null
    parent_elem: parent of element to create or null
    elem: HTML element name (e.g. "DIV"), required
   output: element
*/ function addElem(classes, content, parent_elem, elem) {
          var e = document.createElement(elem);
          if (classes != null) e.className = classes;
          if (content != null) e.innerText = content;
          if (parent_elem != null) parent_elem.appendChild(e);
          return e;
        } // Escapes a string to be used as a value in a CSV row
        //
        // Quotes (") will be replaced by two quotes.
        // Line breaks and commas don't have to be escaped if the string is surrounded by quotes.
        function escapeCsvString(input) {
          // Replace quotes by two quotes
          var escaped = input.replace(/"/g, '""');
          return '"' + escaped + '"';
        } // Escapes a string so Excel can cope with it...
        //
        // Line endings will be replaced. Excel can export fields with line breaks but can't import them m(
        function escapeCsvStringUgly(input) {
          var ugly = input.replace(/\r\n|\n\r|\n/gm, "<br>");
          return escapeCsvString(ugly);
        } // replace HTML symbols with JS safe ones for display in HTML
        function escapeHTML(input) {
          return input
            .replace(/&/g, "&amp;")
            .replace(/</g, "&lt;")
            .replace(/>/g, "&gt;")
            .replace(/"/g, "&quot;")
            .replace(/'/g, "&#39;");
        } // Takes an input string and converts it to a String that is save to use as a file name.
        function stringToFileName(input) {
          return input // replace special characters with _
            .replace(
              /[^a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF_-]/g,
              "_"
            ) // collapse multiple _ into one _
            .replace(/[_]+/g, "_") // remove leading and trailing _
            .replace(/_$|^_/g, "");
        } // slider callback: set label/value on slider change
        function sliderChange(e, a) {
          var slider = e.target; // DIV container
          var values = JSON.parse(slider.getAttribute("_values")); // custom attribute
          var value = a.attr("aria-valuenow"); // get selected value
          $('label[for="' + slider.id + '"]')[0].textContent = values[value][1]; // set label
          slider.lastElementChild.value = values[value][0]; // set hidden input value
        } // generic function to display progress with any progress bar
        function setProgressbarValue(progressElement, percent) {
          progressElement.firstElementChild.style.width = percent + "%"; // meter
          progressElement.lastElementChild.textContent = percent
            ? percent + "%"
            : ""; // text
        } // displays/hides password in form
        // input: id of input field to toggle and icon element that has been pressed
        function togglePWVisibility(pw_id, icon) {
          var pwField = document.getElementById(pw_id);
          if (!(pwField && icon)) return;
          if (pwField.type == "password") {
            pwField.type = "text";
            icon.classList.remove("ion-md-eye-off");
            icon.classList.add("ion-md-eye");
          } else {
            pwField.type = "password";
            icon.classList.remove("ion-md-eye");
            icon.classList.add("ion-md-eye-off");
          }
        } // meters to pixels, based on zoom level
        function metersInPixels(meters) {
          var EARTH_DIAMETER = 40075016.686; // Magic. Don't touch it.
          //Source: https://wiki.openstreetmap.org/wiki/Zoom_levels
          var metersPerPixel =
            (EARTH_DIAMETER *
              Math.abs(Math.cos((_map.getCenter().lat * Math.PI) / 180))) /
            Math.pow(2, _map.getZoom() + 8);
          return meters / metersPerPixel;
        } // latlng to string
        function geoJSONdumps(latlng) {
          return JSON.stringify({
            type: "Point",
            coordinates: [latlng.lng, latlng.lat],
          });
        }
        function getLatLngFromString(s) {
          var coordRegex =
            /^(\d{1,2}[.,]\d+)Â°([NS]); (\d{1,3}[,.]\d+)Â°([EOW])$/;
          var matches = s.match(coordRegex);
          if (!matches) throw "invalid coordinates";
          var lat = Number.parseFloat(matches[1].replace(",", "."));
          lat = matches[2] == "S" ? -lat : lat;
          var lng = Number.parseFloat(matches[3].replace(",", "."));
          lng = matches[4] == "W" ? -lng : lng;
          return { lat: lat, lng: lng };
        } // round number to given decimal places and return as str
        function roundToStr(num, decimals) {
          return num.toFixed(decimals).replace(/[,.]0+$/, "");
        } // like Python's os.path.splitext
        function splitExt(path) {
          var parts = path.split(".");
          if (parts.length == 1) {
            return [path, ""];
          } else if (parts.length == 2 && parts[0].length == 0) {
            return [path, ""];
          } else {
            var root = parts.slice(0, -1).join(".");
            var ext = "." + parts[parts.length - 1];
            return [root, ext];
          }
        } // Return the given filename without the random substring from Django
        function filenameWithoutRand(filename) {
          var parts = splitExt(filename);
          var rx = new RegExp(/_[^_]+$/);
          return parts[0].split(rx)[0] + parts[1];
        } // Returns minimum of the two arguments but ignores null, undefined, Nan values.
        // Returns null if there is no valid number
        function safeMin(a, b) {
          // handle undefined and Nan
          if (typeof a === "undefined" || isNaN(a)) {
            a = null;
          }
          if (typeof b === "undefined" || isNaN(b)) {
            b = null;
          }
          if (a === null) {
            return b;
          } else if (b === null) {
            return a;
          } else {
            return Math.min(a, b);
          }
        }
        function safeMax(a, b) {
          // handle undefined and Nan
          if (typeof a === "undefined" || isNaN(a)) {
            a = null;
          }
          if (typeof b === "undefined" || isNaN(b)) {
            b = null;
          }
          if (a === null) {
            return b;
          } else if (b === null) {
            return a;
          } else {
            return Math.max(a, b);
          }
        } // create color gradient depending on colormap name in chroma.brewer
        function colormapToGradient(name) {
          var grad = {};
          var colormap = chroma.brewer[name] || [];
          for (var i = 0; i < colormap.length; i++) {
            grad[i / (colormap.length - 1.0)] = colormap[i];
          }
          return grad;
        } // build CSS gradient string from colormap array. Adjustable direction.
        function colormapToCSSGradient(colormapArr) {
          var direction =
            arguments.length > 1 && arguments[1] !== undefined
              ? arguments[1]
              : "to top";
          var cols = [];
          for (var i = 0; i < colormapArr.length; i++) {
            var t = (100.0 * i) / (colormapArr.length - 1);
            cols.push(
              "rgba(" +
                chroma(colormapArr[i]).rgba().toString() +
                ") " +
                t +
                "%"
            );
          }
          return "linear-gradient(" + direction + "," + cols.join(",") + ")";
        } // get context menu HTML item by shown label
        function getCMItemByLabel(label) {
          var _iteratorNormalCompletion = true;
          var _didIteratorError = false;
          var _iteratorError = undefined;
          try {
            for (
              var _iterator = _map.contextmenu._items[Symbol.iterator](), _step;
              !(_iteratorNormalCompletion = (_step = _iterator.next()).done);
              _iteratorNormalCompletion = true
            ) {
              var item = _step.value;
              if (item.el.innerText === label) {
                return item.el;
              }
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return != null) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          return null;
        }
      },
      { "./map": 9 },
    ],
  },
  {},
  [10]
);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJMSVNNYXAvc3RhdGljL0xJU01hcC9qcy9tb2R1bGVzL0FIUC5qcyIsIkxJU01hcC9zdGF0aWMvTElTTWFwL2pzL21vZHVsZXMvY2hhcnQuanMiLCJMSVNNYXAvc3RhdGljL0xJU01hcC9qcy9tb2R1bGVzL2NoYXQuanMiLCJMSVNNYXAvc3RhdGljL0xJU01hcC9qcy9tb2R1bGVzL2NvbW1lbnRfbW9kYWwuanMiLCJMSVNNYXAvc3RhdGljL0xJU01hcC9qcy9tb2R1bGVzL2RlYnVnX2luZm8uanMiLCJMSVNNYXAvc3RhdGljL0xJU01hcC9qcy9tb2R1bGVzL2ZlYXR1cmVzLmpzIiwiTElTTWFwL3N0YXRpYy9MSVNNYXAvanMvbW9kdWxlcy9sYXllci5qcyIsIkxJU01hcC9zdGF0aWMvTElTTWFwL2pzL21vZHVsZXMvbGlzX21vZGFsLmpzIiwiTElTTWFwL3N0YXRpYy9MSVNNYXAvanMvbW9kdWxlcy9tYXAuanMiLCJMSVNNYXAvc3RhdGljL0xJU01hcC9qcy9tb2R1bGVzL21hcE1haW4uanMiLCJMSVNNYXAvc3RhdGljL0xJU01hcC9qcy9tb2R1bGVzL3BvaV9tb2RhbC5qcyIsIkxJU01hcC9zdGF0aWMvTElTTWFwL2pzL21vZHVsZXMvc2NlbmFyaW8uanMiLCJMSVNNYXAvc3RhdGljL0xJU01hcC9qcy9tb2R1bGVzL3RhYmxlLmpzIiwiTElTTWFwL3N0YXRpYy9MSVNNYXAvanMvbW9kdWxlcy91dGlscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBLGEsdUlBQ0EsMkJBQ0Esb0NBQ0EsOEJBQ0EsOEIsbXRCQUNBOzs7OztFQU1PLFFBQVMsQ0FBQSxXQUFULEVBQXVCLENBQzFCO0FBQ0EsR0FBTSxDQUFBLFNBQVMsQ0FBRyxRQUFRLENBQUMsY0FBVCxDQUF3QixjQUF4QixDQUFsQixDQUNBLEdBQUssQ0FBQyxPQUFPLENBQUMsV0FBVixFQUEyQixDQUFDLFNBQTVC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RCxDQUE1QyxDQUNILENBQ0QsTUFBTyxDQUFBLElBQVAsQ0FDSCxDQUNEO0FBQ08sUUFBUyxDQUFBLHFCQUFULENBQStCLFdBQS9CLENBQWtFLElBQXRCLENBQUEsU0FBc0IsMkRBQVYsUUFBVSxDQUNyRSxHQUFJLENBQUEsSUFBSSxDQUFHLEVBQVgsQ0FDQSxJQUFLLEdBQUksQ0FBQSxDQUFDLENBQUcsQ0FBYixDQUFnQixDQUFDLENBQUcsV0FBVyxDQUFDLE1BQWhDLENBQXdDLENBQUMsRUFBekMsQ0FBNkMsQ0FDekMsR0FBSSxDQUFBLENBQUMsQ0FBRyxNQUFRLENBQVIsRUFBYSxXQUFXLENBQUMsTUFBWixDQUFxQixDQUFsQyxDQUFSLENBQ0EsSUFBSSxDQUFDLElBQUwsQ0FBVSxRQUFVLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBRCxDQUFaLENBQU4sQ0FBdUIsSUFBdkIsR0FBOEIsUUFBOUIsRUFBVixDQUFxRCxJQUFyRCxDQUE0RCxDQUE1RCxDQUFnRSxHQUExRSxFQUNILENBQ0QsTUFBTyxtQkFBcUIsU0FBckIsQ0FBaUMsR0FBakMsQ0FBdUMsSUFBSSxDQUFDLElBQUwsQ0FBVSxHQUFWLENBQXZDLENBQXdELEdBQS9ELENBQ0gsQ0FDRDtBQUNPLFFBQVMsQ0FBQSxnQkFBVCxDQUEwQixLQUExQixDQUFpQyxpR0FDcEMsa0JBQWlCLElBQUksQ0FBQyxXQUFMLENBQWlCLE1BQWxDLG9IQUEwQyxJQUFqQyxDQUFBLElBQWlDLGFBQ3RDLEdBQUksSUFBSSxDQUFDLEVBQUwsQ0FBUSxTQUFSLEdBQXNCLEtBQTFCLENBQWlDLENBQzdCLE1BQU8sQ0FBQSxJQUFJLENBQUMsRUFBWixDQUNILENBQ0osQ0FMbUMscU1BTXBDLENBQ0EsTUFBTyxLQUFQLENBQ0giLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBERUJVRywgTUFYX1pPT00sIH0gZnJvbSBcIi4vbWFwXCI7XG5pbXBvcnQgeyByZXZlcnNlQ29vcmRpbmF0ZXMsIHNob3dEYXRhLCB9IGZyb20gXCIuL2ZlYXR1cmVzXCI7XG5pbXBvcnQgeyBnZXRMaW5lQ2hhcnREZXNjLCBnZXRQaWVDaGFydERlc2MsIH0gZnJvbSBcIi4vY2hhcnRcIjtcbmltcG9ydCB7IGFkZEVsZW0sIGNvbG9ybWFwVG9DU1NHcmFkaWVudCwgZmV0Y2hQb3N0LCByb3VuZFRvU3RyLCBzYWZlTWluLCBzYWZlTWF4LCB9IGZyb20gXCIuL3V0aWxzXCI7XG4vKlxuTG9hZCBBSFAgZGF0YSBmcm9tIHN0YXRpYyBmaWxlLiBEaXJlY3RvcnkgcGF0aCBpcyBnZW5lcmF0ZWQgYnkgRGphbmdvIHRlbXBsYXRlIGluIG1hcC5odG1sLiBBIGZpbGUgY2FsbGVkIFwiZmlsZXMuanNvblwiIGlzIGV4cGVjdGVkIGluIHRoZSBzYW1lIGZvbGRlciB3aGVyZSBhbGwgZmlsZXMgdG8gZGlzcGxheSBhcmUgbGlzdGVkIHdpdGggdGhlaXIgb3B0aW9ucyAoZm9yIHNob3dEYXRhKS5cbkJ1aWxkIHNpZGViYXIgbmF2aWdhdGlvbiBpbiBEaWdpdGFsYXRsYXMgbW9kdWxlLCBjb250YWluaW5nIHZhcmlvdXMgYWNjb3JkaW9ucy5cblxuVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgb25jZSBpbiB0aGUgYmVnaW5uaW5nIGZyb20gbWFwTWFpbi5cbiovXG5leHBvcnQgZnVuY3Rpb24gbG9hZEFIUERhdGEoKSB7XG4gICAgLy8gZ2V0IHN1cnJvdW5kaW5nIFVMIGVsZW1lbnQgdG8gcG9wdWxhdGVcbiAgICBjb25zdCBhY2NvcmRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkFIUEFjY29yZGlvblwiKTtcbiAgICBpZiAoKCFfcmVnaW9uLnByb2plY3REYXRhKSB8fCAoIWFjY29yZGlvbikgfHwgKF9yZWdpb24uZmlsZXNUYXNrKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIC8vIGluaXQgYWNjb3JkaW9uXG4gICAgJChcIiNBSFBBY2NvcmRpb25cIikuYWNjb3JkaW9uKCk7XG4gICAgY29uc3QgQUhQRmlsZU5hbWUgPSBfQUhQRm9sZGVyICsgXCJkYXRhL1wiICsgX3JlZ2lvbi5wcm9qZWN0RGF0YSArIFwiL2ZpbGVzLmpzb25cIjtcbiAgICAvLyBmZXRjaCBhbmQgZGVjb2RlIGZpbGUgZGVzY3JpYmluZyBvdGhlciBmaWxlIG5hbWVzXG4gICAgZmV0Y2goQUhQRmlsZU5hbWUsIHtcbiAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4gICAgfSkudGhlbihyZXMgPT4ge1xuICAgICAgICBpZiAoIXJlcy5vaylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmVzLmpzb24oKS50aGVuKEpTT04gPT4ge1xuICAgICAgICAgICAgLy8gcGFyc2Ugc3VjY2Vzc2Z1bFxuICAgICAgICAgICAgLy8gYWRkIHN0eWxlc2hlZXQgKGZvciBjdXN0b20gbWFya2VyY2x1c3RlcilcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlX2VsZW0gPSBhZGRFbGVtKG51bGwsIG51bGwsIGRvY3VtZW50LmhlYWQsICdTVFlMRScpO1xuICAgICAgICAgICAgc3R5bGVfZWxlbS50eXBlID0gJ3RleHQvY3NzJztcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gc3R5bGVfZWxlbS5zaGVldDtcbiAgICAgICAgICAgIC8vIG1ha2UgeWVhciBzbGlkZXIgdXNhYmxlLCBhZGQgY2FsbGJhY2tzXG4gICAgICAgICAgICBhZGRZZWFyU2xpZGVyKEpTT04ueWVhcnMpO1xuICAgICAgICAgICAgbGV0IGlkX2lkeCA9IDA7IC8vIGN1cnJlbnQgaWQgb2YgY2hlY2tib3hcbiAgICAgICAgICAgIC8vIGFjY29yZGlvbiBwYWdlc1xuICAgICAgICAgICAgZm9yIChsZXQgYyBpbiBKU09OLmNhdGVnb3JpZXMpIHtcbiAgICAgICAgICAgICAgICBsZXQgY2F0ZWdvcnkgPSBKU09OLmNhdGVnb3JpZXNbY107XG4gICAgICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBjcmVhdGVBY2NvcmRpb25JdGVtKGFjY29yZGlvbiwgYywgY2F0ZWdvcnkub3B0aW9ucyB8fCB7fSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGNhdGVnb3J5Lm9wdGlvbnM7XG4gICAgICAgICAgICAgICAgLy8gcG9wdWxhdGUgZW50cmllcyBpbiBjYXRlZ29yeVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGUgaW4gY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXRlbSBpbiBjYXRlZ29yeVxuICAgICAgICAgICAgICAgICAgICBsZXQgZW50cnkgPSBjYXRlZ29yeVtlXTtcbiAgICAgICAgICAgICAgICAgICAgZW50cnkub3B0aW9ucyA9IGVudHJ5Lm9wdGlvbnMgfHwge307XG4gICAgICAgICAgICAgICAgICAgIGxldCBncmlkZGl2ID0gY3JlYXRlRW50cnlEaXYoZW50cnksIGUsIGZhbHNlLCBlbnRyeS5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChncmlkZGl2KTtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlQ2x1c3RlckNvbG9yKGVudHJ5LCBpZF9pZHgsIHN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIGxlZ2VuZFxuICAgICAgICAgICAgICAgICAgICBsZXQgbGVnZW5kO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkub3B0aW9ucy5sZWdlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5vcHRpb25zLmxlZ2VuZC5jbGFzc2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVnZW5kID0gY3JlYXRlTm9taW5hbExlZ2VuZE9iamVjdChlbnRyeS5vcHRpb25zLmxlZ2VuZC5jbGFzc2VzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVudHJ5Lm9wdGlvbnMucG90ZW50aWFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVnZW5kID0gY3JlYXRlTGVnZW5kT2JqZWN0KGNocm9tYS5icmV3ZXJbZW50cnkub3B0aW9ucy5wb3RlbnRpYWxdLCA0MDAsIDQwLCBlbnRyeS5vcHRpb25zLmxlZ2VuZC5taW4sIGVudHJ5Lm9wdGlvbnMubGVnZW5kLm1heCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoREVCVUcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzdHJhbmdlIGtpbmQgb2YgbGVnZW5kLi4uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gbm8gc3ViY2F0ZWdvcnk6IHN3aXRjaCBidXR0b24gKGZhbmN5IGNoZWNrYm94KVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWVudHJ5LnN1YmNhdGVnb3JpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRkaXYuYXBwZW5kQ2hpbGQoY3JlYXRlU3dpdGNoKGVudHJ5LCBpZF9pZHgsIGxlZ2VuZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRfaWR4Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGxlZ2VuZFxuICAgICAgICAgICAgICAgICAgICBpZiAobGVnZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWdlbmQuYWN0aXZhdGVGdW5jKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRkaXYuYXBwZW5kQ2hpbGQobGVnZW5kLmVsZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIHN1YmNhdGVnb3JpZXMgZm9yIGVudHJ5OiBpbmRpdmlkdWFsIGxhYmVscytidXR0b25zXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHMgaW4gZW50cnkuc3ViY2F0ZWdvcmllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN1YiA9IGVudHJ5LnN1YmNhdGVnb3JpZXNbc107XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWIub3B0aW9ucyA9IHN1Yi5vcHRpb25zIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdyaWRkaXYgPSBjcmVhdGVFbnRyeURpdihzdWIsIHMsIHRydWUsIHN1Yi5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoZ3JpZGRpdik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnkgdG8gY3JlYXRlIHN1Yl9sZWdlbmQgYmVmb3JlIHN3aXRjaDogc3ViY2F0ZWdvcnkgbWF5IG5vdCBoYXZlIG93biBsZWdlbmRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFwcGVuZCB0byBncmlkZGl2IEFGVEVSIHN3aXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN1Yl9sZWdlbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3ViLm9wdGlvbnMubGVnZW5kICYmIHN1Yi5vcHRpb25zLnBvdGVudGlhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yl9sZWdlbmQgPSBjcmVhdGVMZWdlbmRPYmplY3QoY2hyb21hLmJyZXdlcltzdWIub3B0aW9ucy5wb3RlbnRpYWxdLCAzODAsIDQwLCBzdWIub3B0aW9ucy5sZWdlbmQubWluLCBzdWIub3B0aW9ucy5sZWdlbmQubWF4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWIub3B0aW9ucy5sZWdlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3ViLm9wdGlvbnMubGVnZW5kLmNsYXNzZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViX2xlZ2VuZCA9IGNyZWF0ZU5vbWluYWxMZWdlbmRPYmplY3Qoc3ViLm9wdGlvbnMubGVnZW5kLmNsYXNzZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdWIub3B0aW9ucy5wb3RlbnRpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViX2xlZ2VuZCA9IGNyZWF0ZUxlZ2VuZE9iamVjdChjaHJvbWEuYnJld2VyW3N1Yi5vcHRpb25zLnBvdGVudGlhbF0sIDM4MCwgNDAsIHN1Yi5vcHRpb25zLmxlZ2VuZC5taW4sIHN1Yi5vcHRpb25zLmxlZ2VuZC5tYXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3N0cmFuZ2Uga2luZCBvZiBsZWdlbmQuLi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkZGl2LmFwcGVuZENoaWxkKGNyZWF0ZVN3aXRjaChzdWIsIGlkX2lkeCwgc3ViX2xlZ2VuZCB8fCBsZWdlbmQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUNsdXN0ZXJDb2xvcihzdWIsIGlkX2lkeCwgc3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGxlZ2VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1Yl9sZWdlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJfbGVnZW5kLmFjdGl2YXRlRnVuYyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZGRpdi5hcHBlbmRDaGlsZChzdWJfbGVnZW5kLmVsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWRfaWR4Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB1c2VyLXVwbG9hZGVkIGRhdGFcbiAgICAgICAgICAgIC8vIHNob3cgYWNjb3JkaW9uIGl0ZW06IGFsbCwgc3RhZmYgd2l0aCBzdGFmZiBhY2Nlc3Mgb3Igc3RhZmYgd2l0aCBjb250ZW50XG4gICAgICAgICAgICBjb25zdCBzaG93VXNlcmRhdGEgPSBKU09OLnVzZXJkYXRhICYmIChKU09OLnVzZXJkYXRhID09IFwiYWxsXCIgfHwgKEpTT04udXNlcmRhdGEgPT0gXCJzdGFmZlwiICYmIChfcGVybWlzc2lvbnNbXCLwn6WWXCJdIHx8IF9yZWdpb24udXNlckZlYXR1cmVzLmxlbmd0aCA+IDApKSk7XG4gICAgICAgICAgICAvLyBzaG93IHVwbG9hZCBidXR0b246IGFsbCwgc3RhZmYgd2l0aCBzdGFmZiBhY2Nlc3NcbiAgICAgICAgICAgIGNvbnN0IHNob3dVc2VyVXBsb2FkID0gSlNPTi51c2VyZGF0YSAmJiAoSlNPTi51c2VyZGF0YSA9PSBcImFsbFwiIHx8IChKU09OLnVzZXJkYXRhID09IFwic3RhZmZcIiAmJiBfcGVybWlzc2lvbnNbXCLwn6WWXCJdKSk7XG4gICAgICAgICAgICBpZiAoc2hvd1VzZXJkYXRhKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGNyZWF0ZUFjY29yZGlvbkl0ZW0oYWNjb3JkaW9uLCBcIkJlbnV0emVyZGVmaW5pZXJ0ZSBEYXRlblwiKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IF9yZWdpb24udXNlckZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmZWF0dXJlID0gX3JlZ2lvbi51c2VyRmVhdHVyZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgR0VUOiAnY3VzdG9tR2VvbS8/aWQ9JyArIGZlYXR1cmUuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZDogXCJhbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsgY29sb3I6IFwiIzA3Njg5RlwiIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3JpZGRpdiA9IGNyZWF0ZUVudHJ5RGl2KGVudHJ5LCBmZWF0dXJlLm5hbWUsIGZhbHNlLCBlbnRyeS5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChncmlkZGl2KTtcbiAgICAgICAgICAgICAgICAgICAgZ3JpZGRpdi5hcHBlbmRDaGlsZChjcmVhdGVTd2l0Y2goZW50cnksIGlkX2lkeCwgbnVsbCkpO1xuICAgICAgICAgICAgICAgICAgICBpZF9pZHgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNob3dVc2VyVXBsb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCB1cGxvYWQgYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwbG9hZERpdiA9IGFkZEVsZW0oXCJ1LW1hcmdpbi0tc1wiLCBudWxsLCBjb250ZW50LCBcIkRJVlwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlclVwbG9hZElucCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlclVwbG9hZElucFwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlclVwbG9hZEJ0biA9IGFkZEVsZW0oXCJidXR0b24gYnRuIGJ0bi0tY29sb3JcIiwgXCJEYXRlaSBob2NobGFkZW5cIiwgdXBsb2FkRGl2LCBcIkJVVFRPTlwiKTtcbiAgICAgICAgICAgICAgICAgICAgdXNlclVwbG9hZEJ0bi5vbmNsaWNrID0gXyA9PiB1c2VyVXBsb2FkSW5wLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJVcGxvYWRJbnAub25jaGFuZ2UgPSBfID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoUG9zdChcImN1c3RvbUdlb20vXCIsIFwidXNlclVwbG9hZEZvcm1cIikudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihjb2xsZWN0aW9uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGVjdGlvbi5lcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoY29sbGVjdGlvbi5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR0VUOiAnY3VzdG9tR2VvbS8/aWQ9JyArIGNvbGxlY3Rpb24uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQ6IFwiYWxsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7IGNvbG9yOiBcIiMwNzY4OUZcIiwgZml0OiB0cnVlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3JpZGRpdiA9IGNyZWF0ZUVudHJ5RGl2KGVudHJ5LCBjb2xsZWN0aW9uLm5hbWUsIGZhbHNlLCBlbnRyeS5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudC5pbnNlcnRCZWZvcmUoZ3JpZGRpdiwgdXBsb2FkRGl2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZGRpdi5hcHBlbmRDaGlsZChjcmVhdGVTd2l0Y2goZW50cnksIGlkX2lkeCwgbnVsbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZF9pZHgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFjdGl2YXRlIHRhYiBpbiBzaWRlYmFyXG4gICAgICAgICAgICBjb25zdCBsYXllclRhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFiLWxheWVyc1wiKTtcbiAgICAgICAgICAgIGlmIChsYXllclRhYikge1xuICAgICAgICAgICAgICAgIGxheWVyVGFiLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlZC1zaWRlYmFyLXRhYlwiKTtcbiAgICAgICAgICAgICAgICBsZXQgaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxheWVyVGFiLnBhcmVudEVsZW1lbnQuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNpYmxpbmcgPSBsYXllclRhYi5wYXJlbnRFbGVtZW50LmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZSA9IGlzQWN0aXZlIHx8IHNpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG9wZW4gc2lkZWJhciB0YWIgaWYgbm8gb3RoZXIgdGFiIGlzIG9wZW46IHNpbXVsYXRlIGNsaWNrIG9uIGFuY2hvclxuICAgICAgICAgICAgICAgICAgICBsYXllclRhYi5maXJzdEVsZW1lbnRDaGlsZC5jbGljaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJlc2V0IGFjY29yZGlvblxuICAgICAgICAgICAgY29uc3QgYWNjID0gJChcIiNBSFBBY2NvcmRpb25cIik7IC8vIHR5cGU6IGpRdWVyeVxuICAgICAgICAgICAgYWNjLm9uKFwiYWNjb3JkaW9uYmVmb3JlYWN0aXZhdGVcIiwgZnVuY3Rpb24gKF9ldmVudCwgdWkpIHtcbiAgICAgICAgICAgICAgICBpZiAodWkub2xkSGVhZGVyWzBdKVxuICAgICAgICAgICAgICAgICAgICB1aS5vbGRIZWFkZXJbMF0ucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgIGlmICh1aS5uZXdIZWFkZXJbMF0pXG4gICAgICAgICAgICAgICAgICAgIHVpLm5ld0hlYWRlclswXS5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoXCJpcy1hY3RpdmVcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFjYy5hY2NvcmRpb24oe1xuICAgICAgICAgICAgICAgIGhlaWdodFN0eWxlOiBcImNvbnRlbnRcIixcbiAgICAgICAgICAgICAgICBjb2xsYXBzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYWNjLmFjY29yZGlvbihcInJlZnJlc2hcIik7XG4gICAgICAgICAgICBhY2MuYWNjb3JkaW9uKHsgXCJhY3RpdmVcIjogZmFsc2UgfSk7XG4gICAgICAgICAgICB2YXIgc2hvd19zd2l0Y2hlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzd2l0Y2gtZGVmYXVsdC1zaG93XCIpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaG93X3N3aXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc2hvd19zd2l0Y2hlc1tpXS5jbGljaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNob3dfaXRlbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYWNjb3JkaW9uLWl0ZW0tZGVmYXVsdC1vcGVuXCIpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaG93X2l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc2hvd19pdGVtc1tpXS5jbGljaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaChlID0+IHsgaWYgKERFQlVHKVxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7IH0pO1xuICAgIH0pO1xuICAgIGlmIChfcGVybWlzc2lvbnNbXCLwn6WWXCJdKSB7XG4gICAgICAgIC8vIHVzZXIgaGFzIHN0YWZmIHBlcm1pc3Npb246IGZldGNoIGFuZCBkZWNvZGUgZ2VuZXJhbCBpbmZvIGZpbGVcbiAgICAgICAgZmV0Y2goX0FIUEZvbGRlciArIFwiZGF0YS9cIiArIF9yZWdpb24ucHJvamVjdERhdGEgKyBcIi9nZW5lcmFsLmpzb25cIiwge1xuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuICAgICAgICB9KS50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICBpZiAoIXJlcy5vaylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICByZXMuanNvbigpLnRoZW4oSlNPTiA9PiB7XG4gICAgICAgICAgICAgICAgLy8gcGFyc2Ugc3VjY2Vzc2Z1bFxuICAgICAgICAgICAgICAgIGNvbnN0IGFjY29yZGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5mb0FjY29yZGlvblwiKTtcbiAgICAgICAgICAgICAgICAkKFwiI2luZm9BY2NvcmRpb25cIikuYWNjb3JkaW9uKCk7XG4gICAgICAgICAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIGdlbmVyYWwgZGF0YVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgaW4gSlNPTikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShKU09OLmhhc093blByb3BlcnR5KGspKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdiA9IEpTT05ba107XG4gICAgICAgICAgICAgICAgICAgIGxldCBhY2NJdGVtID0gY3JlYXRlQWNjb3JkaW9uSXRlbShhY2NvcmRpb24sIGspO1xuICAgICAgICAgICAgICAgICAgICAvLyBpdGVyYXRlIG92ZXIgZW50cmllc1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHYubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbnRyeSA9IHZbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGVudHJ5LnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBsYWluIHRleHQ6IGRpc3BsYXkgdGV4dCB3aXRoIHRpdGxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aXRsZSA9IE9iamVjdC5rZXlzKGVudHJ5KS5maWx0ZXIoZSA9PiBlICE9IFwidHlwZVwiKS5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aXRsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRFbGVtKFwiZ3JpZC14XCIsIHRpdGxlICsgXCI6IFwiICsgZW50cnlbdGl0bGVdLCBhY2NJdGVtLCBcIkRJVlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInBpZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwaWUgY2hhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGl0bGUgb2YgY2hhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVudHJ5RGl2ID0gYWRkRWxlbShcInUtdGV4dC0tY2VudGVyXCIsIGVudHJ5LnRpdGxlLCBhY2NJdGVtLCBcIkRJVlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29udGFpbmVyIGZvciBjaGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hhcnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnlEaXYuYXBwZW5kQ2hpbGQoY2hhcnREaXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZWFkIGRhdGEgc2VyaWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZXJpZXMgPSBPYmplY3QudmFsdWVzKGVudHJ5LmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdW0gb2YgZW50cmllc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWwgPSBzZXJpZXMucmVkdWNlKChhLCBjKSA9PiB7IHJldHVybiBhICsgYzsgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdG90YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0RGl2LnRleHRDb250ZW50ID0gXCJLZWluZSBBbmdhYmUuXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkcmF3IHBpZSBjaGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgc3RhdGljIHNpemUgb2YgY2hhcnQgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0RGl2LnN0eWxlLndpZHRoID0gJzI1MHB4JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnREaXYuc3R5bGUuaGVpZ2h0ID0gJzI1MHB4JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnREaXYuc3R5bGUubWFyZ2luID0gJ2F1dG8nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hhcnREYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxzOiBPYmplY3Qua2V5cyhlbnRyeS5kYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcmllczogT2JqZWN0LmVudHJpZXMoZW50cnkuZGF0YSkubWFwKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGE6IGVbMF0gKyBcIjpcIiwgdmFsdWU6IGVbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoYXJ0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vIGxhYmVsIHdoZW4gc2xpY2UgPCAxMCVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsSW50ZXJwb2xhdGlvbkZuYzogZnVuY3Rpb24gKHZhbHVlKSB7IGlmICgoZW50cnkuZGF0YVt2YWx1ZV0gLyB0b3RhbCkgPiAwLjEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWdub3JlRW1wdHlWYWx1ZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW5zOiBbQ2hhcnRpc3QucGx1Z2lucy50b29sdGlwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yVG9Qb2ludDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvQm9keTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFwiY3QtdG9vbHRpcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogZW50cnkudW5pdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIyNTBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjI1MHB4XCIgLy8gb3RoZXJ3aXNlLCBDaGFydGlzdCBjYW5ub3Qgc2V0IGNvcnJlY3Qgc2l6ZSBiZWNhdXNlIG9mIGhpZGRlbiBzaWRlYmFyIHBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiByZWRyYXcgY2hhcnQgZHluYW1pY2FsbHkgb24gc2lkZWJhciBvcGVuICh3aGljaCBldmVudD8pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDaGFydGlzdC5QaWUoY2hhcnREaXYsIGNoYXJ0RGF0YSwgY2hhcnRPcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc2hvdyBoaWRkZW4gc2lkZWJhciB0YWJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmZvVGFiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YWItaW5mb1wiKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5mb1RhYikge1xuICAgICAgICAgICAgICAgICAgICBpbmZvVGFiLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBpbmZvVGFiLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlZC1zaWRlYmFyLXRhYlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgYWNjb3JkaW9uXG4gICAgICAgICAgICAgICAgY29uc3QgYWNjID0gJChcIiNpbmZvQWNjb3JkaW9uXCIpO1xuICAgICAgICAgICAgICAgIGFjYy5vbihcImFjY29yZGlvbmJlZm9yZWFjdGl2YXRlXCIsIGZ1bmN0aW9uIChfZXZlbnQsIHVpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1aS5vbGRIZWFkZXJbMF0pXG4gICAgICAgICAgICAgICAgICAgICAgICB1aS5vbGRIZWFkZXJbMF0ucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodWkubmV3SGVhZGVyWzBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgdWkubmV3SGVhZGVyWzBdLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZChcImlzLWFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhY2MuYWNjb3JkaW9uKHtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0U3R5bGU6IFwiY29udGVudFwiLFxuICAgICAgICAgICAgICAgICAgICBjb2xsYXBzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhY2MuYWNjb3JkaW9uKFwicmVmcmVzaFwiKTtcbiAgICAgICAgICAgICAgICBhY2MuYWNjb3JkaW9uKHsgXCJhY3RpdmVcIjogZmFsc2UgfSk7XG4gICAgICAgICAgICB9KS5jYXRjaChlID0+IHsgaWYgKERFQlVHKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8gR2VuZXJhdGUgY2xpY2thYmxlIGFjY29yZGlvbiBpdGVtIHdpdGggdGl0bGUuXG5mdW5jdGlvbiBjcmVhdGVBY2NvcmRpb25JdGVtKGFjY29yZGlvbiwgbmFtZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgbGlzdCA9IGFkZEVsZW0oXCJhY2NvcmRpb24taXRlbVwiLCBudWxsLCBhY2NvcmRpb24sIFwiTElcIik7XG4gICAgbGlzdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWFjY29yZGlvbi1pdGVtXCIsIFwiXCIpO1xuICAgIGNvbnN0IGEgPSBhZGRFbGVtKFwiYWNjb3JkaW9uLXRpdGxlXCIsIG5hbWUsIGxpc3QsIFwiQVwiKTtcbiAgICBhLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgXCIjXCIpO1xuICAgIGlmIChvcHRpb25zLm9wZW5PblN0YXJ0KSB7XG4gICAgICAgIGEuY2xhc3NMaXN0LmFkZChcImFjY29yZGlvbi1pdGVtLWRlZmF1bHQtb3BlblwiKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuY3VzdG9tQ2xhc3Nlcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9wdGlvbnMuY3VzdG9tQ2xhc3Nlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGlzdC5jbGFzc0xpc3QuYWRkKG9wdGlvbnMuY3VzdG9tQ2xhc3Nlc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY29udGVudCA9IGFkZEVsZW0oXCJhY2NvcmRpb24tY29udGVudFwiLCBudWxsLCBsaXN0LCBcIkRJVlwiKTtcbiAgICBjb250ZW50LnNldEF0dHJpYnV0ZShcImRhdGEtdGFiLWNvbnRlbnRcIiwgXCJcIik7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG59XG4vLyBjcmVhdGUgZW50cnlcbi8vIE91dHB1dDogZ3JpZCBESVYgZm9yIGVsZW1lbnRzXG5mdW5jdGlvbiBjcmVhdGVFbnRyeURpdihlbnRyeSwgbmFtZSwgaXNTdWIsIG9wdGlvbnMgPSB7fSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBncmlkZGl2ID0gYWRkRWxlbShcImdyaWQteFwiLCBudWxsLCBudWxsLCBcIkRJVlwiKTtcbiAgICBjb25zdCBjZWxsZGl2ID0gYWRkRWxlbShcImNlbGwgc21hbGwtMTAgc3dpdGNoX19sYWJlbFwiLCBudWxsLCBncmlkZGl2LCBcIkRJVlwiKTtcbiAgICBpZiAoaXNTdWIpXG4gICAgICAgIGNlbGxkaXYuY2xhc3NMaXN0LmFkZChcInN3aXRjaF9fbGFiZWwtLXN1YlwiKTtcbiAgICBpZiAoZW50cnkub3B0aW9ucy5pbmRlbnRlZClcbiAgICAgICAgY2VsbGRpdi5jbGFzc0xpc3QuYWRkKFwiaW5kZW50ZWQtZW50cnlcIik7XG4gICAgLy8gZmlyc3QgaXRlbSBvZiBzdWI6IGljb24gLyBjb2xvcmVkIGRpdlxuICAgIGxldCBpY29uID0gY3JlYXRlSWNvbihlbnRyeSk7XG4gICAgaWYgKGljb24pXG4gICAgICAgIGNlbGxkaXYuYXBwZW5kQ2hpbGQoaWNvbik7XG4gICAgLy8gbmFtZSBvZiBlbnRyeVxuICAgIGlmICgoX2EgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudGl0bGVJc0h0bWwpIHtcbiAgICAgICAgbGV0IG5hbWVfc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1NQQU4nKTtcbiAgICAgICAgbmFtZV9zcGFuLmlubmVySFRNTCA9IG5hbWU7XG4gICAgICAgIGNlbGxkaXYuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIgXCIpKTtcbiAgICAgICAgY2VsbGRpdi5hcHBlbmRDaGlsZChuYW1lX3NwYW4pO1xuICAgICAgICBjZWxsZGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiIFwiKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjZWxsZGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiIFwiICsgbmFtZSArIFwiIFwiKSk7XG4gICAgfVxuICAgIC8vIGluZm8gY2lyY2xlXG4gICAgaWYgKGVudHJ5LmluZm8pIHtcbiAgICAgICAgY29uc3QgeWVhcnNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwieWVhcnNsaWRlclwiKTtcbiAgICAgICAgY29uc3QgaW5mb0ltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJJXCIpO1xuICAgICAgICBpbmZvSW1nLmNsYXNzTmFtZSA9IFwiaWNvbiBpb24tbWQtaW5mb3JtYXRpb24tY2lyY2xlIHVuc2VsZWN0YWJsZVwiO1xuICAgICAgICBpbmZvSW1nLnRpdGxlID0gKHllYXJzbGlkZXIgPyBlbnRyeS5pbmZvW3llYXJzbGlkZXIudmFsdWVdIDogbnVsbCkgfHwgZW50cnkuaW5mbztcbiAgICAgICAgY2VsbGRpdi5hcHBlbmRDaGlsZChpbmZvSW1nKTtcbiAgICAgICAgLy8gdGl0bGUgbWF5IGJlIHllYXItZGVwZW5kZW50XG4gICAgICAgIGlmICh5ZWFyc2xpZGVyICYmIGVudHJ5LmluZm8gaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICAgICAgICAgIHllYXJzbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIF8gPT4ge1xuICAgICAgICAgICAgICAgIC8vIHllYXIgZGVwZW5kZW50IGluZm8uIE1heSBub3QgYmUgc3BlY2lmaWVkIGZvciBlYWNoIHllYXIhXG4gICAgICAgICAgICAgICAgaW5mb0ltZy50aXRsZSA9ICh5ZWFyc2xpZGVyID8gZW50cnkuaW5mb1t5ZWFyc2xpZGVyLnZhbHVlXSA6IG51bGwpIHx8IGVudHJ5LmluZm87XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ3JpZGRpdjtcbn1cbi8vIGNyZWF0ZSBpY29uIGZvciBlbnRyeSwgYmFzZWQgb24gZW50cnkgb3B0aW9uc1xuZnVuY3Rpb24gY3JlYXRlSWNvbihlbnRyeSkge1xuICAgIGlmIChlbnRyeS5vcHRpb25zLmljb24pIHtcbiAgICAgICAgbGV0IGljb24gPSBlbnRyeS5vcHRpb25zLmljb247XG4gICAgICAgIGlmIChpY29uLmZpbGUgaW5zdGFuY2VvZiBBcnJheSlcbiAgICAgICAgICAgIGljb24uZmlsZSA9IGljb24uZmlsZVswXTsgLy8gcmVtb3ZlIHNoYWRvdyAtIHRoaXMgcmVtb3ZlcyBzaGFkb3cgZnJvbSBtYXAgaWNvbiBhcyB3ZWxsIVxuICAgICAgICAvLyBzZXQgcGF0aCBmb3IgaW1hZ2VzIChhbHNvIGZvciBpY29ucyBvbiBtYXApXG4gICAgICAgIGljb24uZmlsZSA9IF9BSFBGb2xkZXIgKyAncmVzb3VyY2VzLycgKyBpY29uLmZpbGU7XG4gICAgICAgIGxldCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiSU1HXCIpO1xuICAgICAgICBpbWcuc3JjID0gaWNvbi5maWxlO1xuICAgICAgICBpbWcuc3R5bGUud2lkdGggPSAoaWNvbi5sZWdlbmRXaWR0aCB8fCBpY29uLndpZHRoIHx8IDE2KSArICdweCc7XG4gICAgICAgIGltZy5zdHlsZS5oZWlnaHQgPSAoaWNvbi5sZWdlbmRIZWlnaHQgfHwgaWNvbi5oZWlnaHQgfHwgMTYpICsgJ3B4JztcbiAgICAgICAgaW1nLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgICAgICByZXR1cm4gaW1nO1xuICAgIH1cbiAgICBlbHNlIGlmIChlbnRyeS5vcHRpb25zLmNvbG9yKSB7XG4gICAgICAgIGNvbnN0IGNvbG9yRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtcbiAgICAgICAgY29sb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG4gICAgICAgIGNvbG9yRGl2LnN0eWxlLndpZHRoID0gXCIxcmVtXCI7XG4gICAgICAgIGNvbG9yRGl2LnN0eWxlLmhlaWdodCA9IFwiMXJlbVwiO1xuICAgICAgICBjb2xvckRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBlbnRyeS5vcHRpb25zLmNvbG9yO1xuICAgICAgICByZXR1cm4gY29sb3JEaXY7XG4gICAgfVxuICAgIGVsc2UgaWYgKGVudHJ5Lm9wdGlvbnMucG90ZW50aWFsKSB7XG4gICAgICAgIGNvbnN0IGdyYWRpZW50RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtcbiAgICAgICAgY29uc3QgY29sb3JNYXAgPSBjaHJvbWEuYnJld2VyW2VudHJ5Lm9wdGlvbnMucG90ZW50aWFsXTtcbiAgICAgICAgZ3JhZGllbnREaXYuc3R5bGUud2lkdGggPSBcIjFyZW1cIjtcbiAgICAgICAgZ3JhZGllbnREaXYuc3R5bGUuaGVpZ2h0ID0gXCIxcmVtXCI7XG4gICAgICAgIGdyYWRpZW50RGl2LnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgICAgICBncmFkaWVudERpdi5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3JtYXBUb0NTU0dyYWRpZW50KGNvbG9yTWFwLCBcInRvIHRvcFwiKTtcbiAgICAgICAgcmV0dXJuIGdyYWRpZW50RGl2O1xuICAgIH1cbiAgICBlbHNlIGlmIChlbnRyeS5vcHRpb25zLmhlYXQpIHtcbiAgICAgICAgY29uc3QgaGVhdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XG4gICAgICAgIGNvbnN0IGNvbG9ybWFwX3NlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2xvcm1hcC1zZWxlY3QnKTtcbiAgICAgICAgY29uc3QgY29sb3JNYXAgPSBjaHJvbWEuYnJld2VyW2NvbG9ybWFwX3NlbGVjdC52YWx1ZV07XG4gICAgICAgIGhlYXREaXYuc3R5bGUud2lkdGggPSBcIjFyZW1cIjtcbiAgICAgICAgaGVhdERpdi5zdHlsZS5oZWlnaHQgPSBcIjFyZW1cIjtcbiAgICAgICAgaGVhdERpdi5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICAgICAgaGVhdERpdi5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3JtYXBUb0NTU0dyYWRpZW50KGNvbG9yTWFwLCBcInRvIHRvcFwiKTtcbiAgICAgICAgcmV0dXJuIGhlYXREaXY7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLy8gY3JlYXRlIGZhbmN5IHN3aXRjaCBidXR0b24gKERJViB3aXRoIGJ1dHRvbiBhbmQgc3BlY2lhbCBsYWJlbClcbmZ1bmN0aW9uIGNyZWF0ZVN3aXRjaChlbnRyeSwgaWR4LCBsZWdlbmQpIHtcbiAgICBsZXQgY2VsbDJkaXYgPSBhZGRFbGVtKFwiY2VsbCBzbWFsbC0yIHN3aXRjaF9fY2hlY2tib3ggdW5zZWxlY3RhYmxlXCIsIG51bGwsIG51bGwsIFwiRElWXCIpO1xuICAgIGxldCBzd2l0Y2hkaXYgPSBhZGRFbGVtKFwic3dpdGNoIHRpbnkgdW5zZWxlY3RhYmxlXCIsIG51bGwsIGNlbGwyZGl2LCBcIkRJVlwiKTtcbiAgICBsZXQgaW5wdXQgPSBhZGRFbGVtKFwic3dpdGNoLWlucHV0IHVuc2VsZWN0YWJsZVwiLCBudWxsLCBzd2l0Y2hkaXYsIFwiSU5QVVRcIik7XG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImNoZWNrYm94XCIpO1xuICAgIGlucHV0LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJpZF9cIiArIGlkeCk7XG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJpZF9cIiArIGlkeCk7IC8vIHVzZWQgdG8gcmVmZXJlbmNlIGFzc29jaWF0ZWQgZGF0YVxuICAgIGxldCBsYWJlbCA9IGFkZEVsZW0oXCJzd2l0Y2gtcGFkZGxlIHVuc2VsZWN0YWJsZVwiLCBudWxsLCBzd2l0Y2hkaXYsIFwiTEFCRUxcIik7XG4gICAgbGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwiaWRfXCIgKyBpZHgpO1xuICAgIGlmIChlbnRyeS5maWxlID09PSBcIm5vbmVcIikge1xuICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcIlwiKTtcbiAgICAgICAgbGFiZWwuc3R5bGUuY3Vyc29yID0gXCJub3QtYWxsb3dlZFwiO1xuICAgICAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKFwic3dpdGNoLXBhZGRsZS1kZWFjdGl2YXRlZFwiKTtcbiAgICB9XG4gICAgaWYgKGVudHJ5LnNob3cpIHtcbiAgICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZChcInN3aXRjaC1kZWZhdWx0LXNob3dcIik7XG4gICAgfVxuICAgIGlmIChsZWdlbmQpXG4gICAgICAgIF9BSFBMZWdlbmRzW2lucHV0LmlkXSA9IGxlZ2VuZDtcbiAgICBpZiAoZW50cnkuZGVmYXVsdClcbiAgICAgICAgYWRkVG9NYXAoZW50cnksIGlucHV0KTtcbiAgICBpbnB1dC5vbmNoYW5nZSA9IF8gPT4ge1xuICAgICAgICAvLyB0b2dnbGUgZGlzcGxheSBvZiBsYXllclxuICAgICAgICBpZiAoaW5wdXQuY2hlY2tlZCkge1xuICAgICAgICAgICAgYWRkVG9NYXAoZW50cnksIGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZUxheWVyRnJvbU1hcChpbnB1dCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBjZWxsMmRpdjtcbn1cbi8vIGFkZCBjaHJvbWEgY29sb3JzIHRvIHN0eWxlIHNoZWV0IHdpdGggY3VzdG9tIHJ1bGUgbmFtZXNcbmZ1bmN0aW9uIGNyZWF0ZUNsdXN0ZXJDb2xvcihlbnRyeSwgaWR4LCBzdHlsZSkge1xuICAgIGlmIChlbnRyeS5vcHRpb25zICYmIGVudHJ5Lm9wdGlvbnMuY2x1c3RlckNvbG9yKSB7XG4gICAgICAgIGNvbnN0IGJnMSA9IFwicmdiYShcIiArIGNocm9tYShlbnRyeS5vcHRpb25zLmNsdXN0ZXJDb2xvcltcImJhY2tncm91bmQtY29sb3JcIl0pLmFscGhhKDAuNSkucmdiYSgpLnRvU3RyaW5nKCkgKyBcIilcIjtcbiAgICAgICAgY29uc3QgYmcyID0gXCJyZ2JhKFwiICsgY2hyb21hKGVudHJ5Lm9wdGlvbnMuY2x1c3RlckNvbG9yW1wiYmFja2dyb3VuZC1jb2xvclwiXSkuYWxwaGEoMC44NSkucmdiYSgpLnRvU3RyaW5nKCkgKyBcIilcIjtcbiAgICAgICAgc3R5bGUuaW5zZXJ0UnVsZShcIi5tYXJrZXItY2x1c3Rlci1cIiArIGlkeCArIFwiIHtjb2xvcjogXCIgKyBlbnRyeS5vcHRpb25zLmNsdXN0ZXJDb2xvci5jb2xvciArIFwiOyBiYWNrZ3JvdW5kLWNvbG9yOiBcIiArIGJnMSArIFwiO31cIik7XG4gICAgICAgIHN0eWxlLmluc2VydFJ1bGUoXCIubWFya2VyLWNsdXN0ZXItXCIgKyBpZHggKyBcIiBkaXYge2JhY2tncm91bmQtY29sb3I6IFwiICsgYmcyICsgXCI7fVwiKTtcbiAgICAgICAgZW50cnkub3B0aW9ucy5jbHVzdGVyQ2xhc3MgPSBcIm1hcmtlci1jbHVzdGVyLVwiICsgaWR4O1xuICAgIH1cbn1cbi8qXG5CdWlsZCBIVE1MIGNvbG9ybWFwIGxlZ2VuZCB3aXRoIHRpY2tzLiBUaGlzIGVsZW1lbnQgY2FuIGJlIHRvZ2dsZWQgb24gYW5kIG9mZi5cblxuSW5wdXRzOlxuICAgIGNvbG9ybWFwQXJyOiBhcnJheSB3aXRoIEhUTUwgY29sb3JzIChcIiNycmdnYmJcIilcbiAgICB3aWR0aDogIHdpZHRoIG9mIGxlZ2VuZCBpbiBwaXhlbHNcbiAgICBoZWlnaHQ6IGhlaWdodCBvZiBsZWdlbmQgaW4gcGl4ZWxzXG4gICAgbWluVmFsOiBtaW5pbXVtIGxlZ2VuZCB2YWx1ZVxuICAgIG1heFZhbDogbWF4aW11bSBsZWdlbmQgdmFsdWVcbk91dHB1dHM6XG4gICAgYWN0aXZhdGVGdW5jOiBmdW5jdGlvbiB0byB0b2dnbGUgbGVnZW5kIG9uIGFuZCBvZmZcbiAgICBlbGVtOiBnZW5lcmF0ZWQgbGVnZW5kIG9iamVjdFxuKi9cbmZ1bmN0aW9uIGNyZWF0ZUxlZ2VuZE9iamVjdChjb2xvcm1hcEFyciwgd2lkdGgsIGhlaWdodCwgbWluVmFsLCBtYXhWYWwpIHtcbiAgICBjb25zdCBncmFkaWVudE9mZnNldCA9IDEwO1xuICAgIGNvbnN0IGdyYWRpZW50V2lkdGggPSB3aWR0aCAtIGdyYWRpZW50T2Zmc2V0ICogMiAtIDg7XG4gICAgY29uc3QgZ3JhZGllbnRIZWlnaHQgPSAxNDtcbiAgICBsZXQgY2FudiA9IGFkZEVsZW0oJ2NhbnZhcy1jb2xvcm1hcC1sZWdlbmQnLCBudWxsLCBudWxsLCAnQ0FOVkFTJyk7XG4gICAgbGV0IGN0eCA9IGNhbnYuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjYW52LndpZHRoID0gd2lkdGg7XG4gICAgY2Fudi5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgbGV0IGFjdGl2YXRlID0gZnVuY3Rpb24gKGFjdGl2ZSkge1xuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAvLyBkcmF3IGdyYWRpZW50XG4gICAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgICAgIGxldCBncmFkaWVudCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudChncmFkaWVudE9mZnNldCwgMCwgZ3JhZGllbnRXaWR0aCArIGdyYWRpZW50T2Zmc2V0LCAwKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sb3JtYXBBcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoaSAvIChjb2xvcm1hcEFyci5sZW5ndGggLSAxLjApLCBcInJnYmEoXCIgKyBjaHJvbWEoY29sb3JtYXBBcnJbaV0pLnJnYmEoKS50b1N0cmluZygpICsgXCIpXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGdyYWRpZW50O1xuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KGdyYWRpZW50T2Zmc2V0LCAwLCBncmFkaWVudFdpZHRoLCBncmFkaWVudEhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJyZ2JhKDAsIDAsIDAsIDAuMSlcIjtcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChncmFkaWVudE9mZnNldCwgMCwgZ3JhZGllbnRXaWR0aCwgZ3JhZGllbnRIZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRyYXcgdGlja3NcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbWluVGlja0Rpc3QgPSAyMDtcbiAgICAgICAgICAgIGNvbnN0IGRpZmZWYWwgPSBtYXhWYWwgLSBtaW5WYWw7XG4gICAgICAgICAgICBjb25zdCB2YWxQZXJQeCA9IGRpZmZWYWwgLyBncmFkaWVudFdpZHRoO1xuICAgICAgICAgICAgY29uc3QgbG9nMTAgPSAoTWF0aC5sb2cobWluVGlja0Rpc3QgKiB2YWxQZXJQeCkgLyBNYXRoLmxvZygxMCkpO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLmNlaWwobG9nMTApO1xuICAgICAgICAgICAgY29uc3Qgc3RlcCA9IE1hdGgucG93KDEwLjAsIHNjYWxlKTtcbiAgICAgICAgICAgIGxldCBzbWFsbFN0ZXAgPSBzdGVwICogMC4xO1xuICAgICAgICAgICAgbGV0IG51bVNtYWxsVGlja3MgPSAxMDtcbiAgICAgICAgICAgIGlmIChzbWFsbFN0ZXAgKiAoMS4wIC8gdmFsUGVyUHgpIDwgNSkge1xuICAgICAgICAgICAgICAgIHNtYWxsU3RlcCA9IHN0ZXAgKiAwLjU7XG4gICAgICAgICAgICAgICAgbnVtU21hbGxUaWNrcyA9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDAwMDAwJztcbiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAnIzAwMDAwMCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwgMCwgMCwgMC41KSc7XG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMCwgMCwgMCwgMC41KSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG4gICAgICAgICAgICAvLyBiaWcgdGlja3NcbiAgICAgICAgICAgIGNvbnN0IGJpZ1RzdGFydFZhbCA9IE1hdGgudHJ1bmMobWluVmFsIC8gc3RlcCkgKiBzdGVwO1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCB4ID0gMC4wO1xuICAgICAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgbGFzdF90ZXh0X2VuZCA9IC0xMDAuMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoeCA8IChncmFkaWVudFdpZHRoICsgZ3JhZGllbnRPZmZzZXQpICYmIGkgPCAxMDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBiaWdUc3RhcnRWYWwgKyBzdGVwICogaTtcbiAgICAgICAgICAgICAgICAgICAgeCA9IGdyYWRpZW50T2Zmc2V0ICsgKHZhbHVlIC0gbWluVmFsKSAqICgxLjAgLyB2YWxQZXJQeCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4ID49IGdyYWRpZW50T2Zmc2V0ICYmIHggPD0gZ3JhZGllbnRPZmZzZXQgKyBncmFkaWVudFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgubW92ZVRvKHgsIDE0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5saW5lVG8oeCwgMjQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRleHQgPSAnJyArIChzY2FsZSA+PSAwID8gTWF0aC5yb3VuZCh2YWx1ZSkgOiByb3VuZFRvU3RyKHZhbHVlLCAtc2NhbGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0bSA9IGN0eC5tZWFzdXJlVGV4dCh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0eCA9IE1hdGgubWF4KDAuMCwgeCAtIHRleHRtLndpZHRoICogMC41KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0eCA+PSBsYXN0X3RleHRfZW5kICsgNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dCh0ZXh0LCB0ZXh0eCwgMjYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RfdGV4dF9lbmQgPSB0ZXh0eCArIHRleHRtLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzbWFsbCB0aWNrc1xuICAgICAgICAgICAgY29uc3Qgc21hbGxUc3RhcnRWYWwgPSBiaWdUc3RhcnRWYWwgLSBzdGVwO1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCB4ID0gMC4wO1xuICAgICAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoeCA8IChncmFkaWVudFdpZHRoICsgZ3JhZGllbnRPZmZzZXQpICYmIGkgPCAzMDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdiA9IHNtYWxsVHN0YXJ0VmFsICsgc21hbGxTdGVwICogaTtcbiAgICAgICAgICAgICAgICAgICAgeCA9IGdyYWRpZW50T2Zmc2V0ICsgKHYgLSBtaW5WYWwpICogKDEuMCAvIHZhbFBlclB4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgJSBudW1TbWFsbFRpY2tzICE9IDAgJiYgeCA+PSBncmFkaWVudE9mZnNldCAmJiB4IDw9IGdyYWRpZW50T2Zmc2V0ICsgZ3JhZGllbnRXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4Lm1vdmVUbyh4LCAxNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgubGluZVRvKHgsIDE4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhY3RpdmF0ZUZ1bmM6IGFjdGl2YXRlLFxuICAgICAgICBlbGVtOiBjYW52XG4gICAgfTtcbn1cbi8qXG5DcmVhdGUgbGVnZW5kIHdpdGggbmFtZXMgaW5zdGVhZCBvZiBudW1iZXJzLlxuXG5JbnB1dDpcbiAgICBjbGFzc2VzOiBkaWN0aW9uYXJ5IG9iamVjdCB3aXRoIGNvbG9yIChIVE1MKSBhbmQgbmFtZSBrZXlzIGZvciBlYWNoIG1lbWJlclxuT3V0cHV0OlxuICAgIGFjdGl2YXRlRnVuYzogZnVuY3Rpb24gdG8gdG9nZ2xlIGxlZ2VuZCBvbiBhbmQgb2ZmXG4gICAgZWxlbTogY3JlYXRlZCBsZWdlbmQgSFRNTCBvYmplY3RcbiovXG5mdW5jdGlvbiBjcmVhdGVOb21pbmFsTGVnZW5kT2JqZWN0KGNsYXNzZXMpIHtcbiAgICBsZXQgdWwgPSBhZGRFbGVtKCdub21pbmFsLWxlZ2VuZCcsIG51bGwsIG51bGwsICdVTCcpO1xuICAgIHVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbGFzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBsaSA9IGFkZEVsZW0obnVsbCwgbnVsbCwgdWwsICdMSScpO1xuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY29sb3JEaXYgPSBhZGRFbGVtKG51bGwsIG51bGwsIGxpLCAnRElWJyk7XG4gICAgICAgICAgICBjb2xvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICAgICAgICAgIGNvbG9yRGl2LnN0eWxlLndpZHRoID0gXCIxcmVtXCI7XG4gICAgICAgICAgICBjb2xvckRpdi5zdHlsZS5oZWlnaHQgPSBcIjFyZW1cIjtcbiAgICAgICAgICAgIGNvbG9yRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNsYXNzZXNbaV0uY29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgYWRkRWxlbShudWxsLCBjbGFzc2VzW2ldLm5hbWUsIGxpLCBcIlNQQU5cIik7XG4gICAgfVxuICAgIGxldCBhY3RpdmF0ZSA9IGZ1bmN0aW9uIChhY3RpdmUpIHtcbiAgICAgICAgdWwuc3R5bGUuZGlzcGxheSA9IGFjdGl2ZSA/ICcnIDogJ25vbmUnO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWN0aXZhdGVGdW5jOiBhY3RpdmF0ZSxcbiAgICAgICAgZWxlbTogdWxcbiAgICB9O1xufVxuLypcbkFkZCBsYXllciB0byBtYXAuXG5GaXJzdCB0aW1lOiBidWlsZCBsYXllci4gT3RoZXJ3aXNlLCByZS1hZGQgbGF5ZXIgdG8gbWFwIGZyb20gX0FIUGxheWVycyAoZGljdCBieSBpbnB1dCBpZCkuXG5MYXllciBtYXkgZGVwZW5kIG9uIHRpbWVzbGlkZXIgKGNvbG9yLCB0b29sdGlwKVxuXG5JbnB1dHM6XG4gICAgZW50cnk6IG9iamVjdCBsb2FkZWQgZnJvbSBqc29uIGZpbGUuXG4gICAgaW5wdXQ6IHRvZ2dsZSBzd2l0Y2ggSFRNTCBlbGVtZW50XG5ObyBvdXRwdXQuXG4qL1xuZnVuY3Rpb24gYWRkVG9NYXAoZW50cnksIGlucHV0KSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpbnB1dC5kaXNhYmxlZCA9IHRydWU7XG4gICAgbGV0IGNoZWNrSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlucHV0LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICBpbnB1dC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoX0FIUExlZ2VuZHNbaW5wdXQuaWRdKSB7XG4gICAgICAgICAgICBfQUhQTGVnZW5kc1tpbnB1dC5pZF0uYWN0aXZhdGVGdW5jKHRydWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBoaWRlIHByZXZpb3VzIGxheWVyIG9mIGV4Y2x1c2l2ZSBncm91cFxuICAgIGxldCBncm91cCA9IGVudHJ5LmV4Y2x1c2l2ZUdyb3VwO1xuICAgIGlmIChncm91cCkge1xuICAgICAgICBpZiAoX0FIUEV4Y2x1c2l2ZUdyb3Vwc1tncm91cF0pIHtcbiAgICAgICAgICAgIC8vIGhpZGUgb2xkIGxheWVyXG4gICAgICAgICAgICBsZXQgb2xkX2lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX0FIUEV4Y2x1c2l2ZUdyb3Vwc1tncm91cF0pO1xuICAgICAgICAgICAgcmVtb3ZlTGF5ZXJGcm9tTWFwKG9sZF9pbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgX0FIUEV4Y2x1c2l2ZUdyb3Vwc1tncm91cF0gPSBpbnB1dC5pZDtcbiAgICB9XG4gICAgLy8gZ2V0IHllYXJzbGlkZXIsIHNvIHVzZXIgaW5wdXRzIGNhbiBiZSBkZXRlY3RlZFxuICAgIGNvbnN0IHllYXJzbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInllYXJzbGlkZXJcIik7XG4gICAgaWYgKCEoX0FIUExheWVyc1tpbnB1dC5pZF0pKSB7XG4gICAgICAgIC8vIG5vdCBsb2FkZWQgYmVmb3JlOiBnZXQgZGF0YVxuICAgICAgICAvLyBJZiBhIHRpbGUgbGF5ZXIgaXMgYXZhaWxhYmxlIC0+IERvIG5vdCBsb2FkIHRoZSBnZW9qc29uIGZpbGUsIGp1c3QgYWRkIHRoaXMgdGlsZSBsYXllci5cbiAgICAgICAgaWYgKGVudHJ5LnRpbGVMYXllciB8fCBlbnRyeS50aWxlTGF5ZXJZZWFycykge1xuICAgICAgICAgICAgLy8gZ2V0IGFic29sdXRlIHBhdGggZm9yIHRpbGUgVVJMXG4gICAgICAgICAgICBsZXQgYWJzX3RpbGVfdXJsID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIikgfHwgcGF0aC5zdGFydHNXaXRoKFwiaHR0cDovL1wiKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfQUhQRm9sZGVyICsgXCJkYXRhL1wiICsgX3JlZ2lvbi5wcm9qZWN0RGF0YSArIFwiL1wiICsgcGF0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IHRpbGVVcmw7XG4gICAgICAgICAgICBpZiAoeWVhcnNsaWRlciAmJiBlbnRyeS50aWxlTGF5ZXJZZWFycyAmJiBlbnRyeS50aWxlTGF5ZXJZZWFyc1t5ZWFyc2xpZGVyLnZhbHVlXSkge1xuICAgICAgICAgICAgICAgIHRpbGVVcmwgPSBhYnNfdGlsZV91cmwoZW50cnkudGlsZUxheWVyWWVhcnNbeWVhcnNsaWRlci52YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGlsZVVybCA9IGFic190aWxlX3VybChlbnRyeS50aWxlTGF5ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHBhbmVfaWQgPSAndGlsZXBhbmVfJyArIGlucHV0LmlkO1xuICAgICAgICAgICAgX21hcC5jcmVhdGVQYW5lKHBhbmVfaWQpO1xuICAgICAgICAgICAgX21hcC5nZXRQYW5lKHBhbmVfaWQpLnN0eWxlLnpJbmRleCA9IDQ1MCArICgoKF9hID0gZW50cnkub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnpJbmRleE9mZnNldCkgfHwgMCk7XG4gICAgICAgICAgICBfbWFwLmdldFBhbmUocGFuZV9pZCkuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICAgICAgICAgIF9tYXAuZ2V0UGFuZShwYW5lX2lkKS5zdHlsZVsnbWl4LWJsZW5kLW1vZGUnXSA9ICgoX2IgPSBlbnRyeS5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubWl4QmxlbmRNb2RlKSB8fCAnbm9ybWFsJztcbiAgICAgICAgICAgIGNvbnN0IGxheWVyID0gTC50aWxlTGF5ZXIodGlsZVVybCwge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0aW9uOiAnJyxcbiAgICAgICAgICAgICAgICBtYXhab29tOiBNYXRoLm1pbigxOCwgTUFYX1pPT00pLFxuICAgICAgICAgICAgICAgIHBhbmU6IHBhbmVfaWRcbiAgICAgICAgICAgICAgICAvL2JvdW5kczogTC5wb2x5bGluZShfcmVnaW9uLmdlb20uY29vcmRpbmF0ZXMpLmdldEJvdW5kcygpXG4gICAgICAgICAgICB9KS5hZGRUbyhfbWFwKTtcbiAgICAgICAgICAgIC8vIHNhdmUgYWJzb2x1dGUgdGlsZSBVUkxzIGZvciBlYWNoIHllYXIgaW4gbGF5ZXIgb2JqZWN0XG4gICAgICAgICAgICBpZiAoZW50cnkudGlsZUxheWVyWWVhcnMpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGlsZV91cmxzID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGVudHJ5LnRpbGVMYXllclllYXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVfdXJsc1trZXldID0gYWJzX3RpbGVfdXJsKGVudHJ5LnRpbGVMYXllclllYXJzW2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYXllci50aWxlTGF5ZXJZZWFycyA9IHRpbGVfdXJscztcbiAgICAgICAgICAgICAgICBsYXllci5pc1llYXJMYXllciA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8geWVhcnNsaWRlciBjaGFuZ2U6IHVwZGF0ZSBsYXllciBVUkwgaWYgeWVhciBkZXBlbmRlbnRcbiAgICAgICAgICAgICAgICBpZiAoeWVhcnNsaWRlcikge1xuICAgICAgICAgICAgICAgICAgICB5ZWFyc2xpZGVyLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImludmlzaWJsZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgeWVhcnNsaWRlci5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgXyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgeWVhciA9IHllYXJzbGlkZXIudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF5ZXIudGlsZUxheWVyWWVhcnNbeWVhcl0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllci5fdXJsICE9PSBsYXllci50aWxlTGF5ZXJZZWFyc1t5ZWFyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLl91cmwgPSBsYXllci50aWxlTGF5ZXJZZWFyc1t5ZWFyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllci5yZWRyYXcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX0FIUExheWVyc1tpbnB1dC5pZF0gPSBsYXllcjtcbiAgICAgICAgICAgIC8vIHNldCBjaGVja2JveFxuICAgICAgICAgICAgY2hlY2tJbnB1dCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZsYXR0ZW4gc3RydWN0dXJlIGFuZCBhcHBlbmQgbGVhdmVzIHRvIHRoZSBnaXZlbiBhcnJheS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gZmxhdF9leHRlbmQoW10sIDIzKSA9PT0gWzIzXVxuICAgICAgICAvLyBmbGF0X2V4dGVuZChbXSwgWzIzLCAxMDBdKSA9PT0gWzIzLCAxMDBdXG4gICAgICAgIC8vIGZsYXRfZXh0ZW5kKFtdLCBbMjMsIHsneCc6IDQyLCAneSc6IFsxNywgMl19XSkgPT09IFsyMywgNDIsIDE3LCAyXVxuICAgICAgICBsZXQgZmxhdF9leHRlbmQgPSBmdW5jdGlvbiAoYXJyLCBvdGhlcikge1xuICAgICAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB4IG9mIG90aGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyciA9IGZsYXRfZXh0ZW5kKGFyciwgeCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob3RoZXIgaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB2YWwgb2YgT2JqZWN0LnZhbHVlcyhvdGhlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyID0gZmxhdF9leHRlbmQoYXJyLCB2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKG90aGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgIH07XG4gICAgICAgIC8vIG5vdCBzaG93biBvbiBtYXAgYmVmb3JlIC0+IGNyZWF0ZSBuZXcgbGF5ZXJcbiAgICAgICAgbG9hZEFIUEVudHJ5KGVudHJ5KS50aGVuKGpzb24gPT4ge1xuICAgICAgICAgICAgaW5wdXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBkYXRhID0ganNvbi5kYXRhO1xuICAgICAgICAgICAgbGV0IG9wdGlvbnMgPSBqc29uLm9wdGlvbnM7XG4gICAgICAgICAgICBsZXQgZmllbGQgPSBlbnRyeS5maWVsZCB8fCBlbnRyeS55ZWFycztcbiAgICAgICAgICAgIGxldCBmaW5kX2N1cnJlbnRfeWVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsZXQgeWVhciA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHllYXJzbGlkZXIudmFsdWUgaW4gZW50cnkueWVhcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgeWVhciA9IHllYXJzbGlkZXIudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIGxhc3QgeWVhciB0aGF0IGlzIDw9IHNsaWRlciB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHkgb2YgT2JqZWN0LmtleXMoZW50cnkueWVhcnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQoeSkgPD0gcGFyc2VJbnQoeWVhcnNsaWRlci52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ZWFyID0geTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geWVhcjtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5wb3RlbnRpYWwpIHtcbiAgICAgICAgICAgICAgICAvLyBwb3RlbnRpYWw6IGdldCByZWxldmFudCBmaWVsZC4gTWF5IGJlIGRlcGVuZGVudCBvbiB0aW1lc2xpZGVyXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmluZCBtaW4gYW5kIG1heCB2YWx1ZSBvZiBhbGwgZmVhdHVyZXMgYW5kIGFsbCBmaWVsZHNcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpZWxkcyA9IGZsYXRfZXh0ZW5kKFtdLCBmaWVsZCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtaW4gPSBlbnRyeS5taW4gfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1heCA9IGVudHJ5Lm1heCB8fCAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBmZWF0IG9mIGRhdGEuZmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGYgb2YgZmllbGRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gc2FmZU1pbihtaW4sIGZlYXQucHJvcGVydGllc1tmXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gc2FmZU1heChtYXgsIGZlYXQucHJvcGVydGllc1tmXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHBvdGVudGlhbCB2YWx1ZSBmb3IgZWFjaCBmZWF0dXJlLlxuICAgICAgICAgICAgICAgICAgICAvLyBEaWZmZXJlbnRpYXRlIGJldHdlZW4gY29tYmluYXRpb25zIG9mIHllYXJzIGF2YWlsYWJlIGFuZCBwb3RlbnRpYWwyZC5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHNjYWxlID0gMS4wIC8gKG1heCAtIG1pbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZCBpbnN0YW5jZW9mIEFycmF5ICYmIG9wdGlvbnMucG90ZW50aWFsMmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpZWxkOiBwb3RlbnRpYWwyZFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZmVhdCBvZiBkYXRhLmZlYXR1cmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVhdC5wcm9wZXJ0aWVzLnBvdGVudGlhbCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlYXQucHJvcGVydGllcy5wb3RlbnRpYWxbZmllbGRbMF1dID0gKGZlYXQucHJvcGVydGllc1tmaWVsZFswXV0gLSBtaW4pICogc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVhdC5wcm9wZXJ0aWVzLnBvdGVudGlhbFtmaWVsZFsxXV0gPSAoZmVhdC5wcm9wZXJ0aWVzW2ZpZWxkWzFdXSAtIG1pbikgKiBzY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgZmllbGQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWVsZDogc2ltcGxlIGZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBmZWF0IG9mIGRhdGEuZmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWF0LnByb3BlcnRpZXMucG90ZW50aWFsID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVhdC5wcm9wZXJ0aWVzLnBvdGVudGlhbFtmaWVsZF0gPSAoZmVhdC5wcm9wZXJ0aWVzW2ZpZWxkXSAtIG1pbikgKiBzY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmaWVsZCBpbnN0YW5jZW9mIE9iamVjdCAmJiBvcHRpb25zLnBvdGVudGlhbDJkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWVsZDogeWVhcnNsaWRlciArIHBvdGVudGlhbDJkXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBmZWF0IG9mIGRhdGEuZmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWF0LnByb3BlcnRpZXMucG90ZW50aWFsID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBbeWVhciwgZl0gb2YgT2JqZWN0LmVudHJpZXMoZmllbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhID0gZmVhdC5wcm9wZXJ0aWVzW2ZbMF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYiA9IGZlYXQucHJvcGVydGllc1tmWzFdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEgIT09IG51bGwgJiYgYiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWF0LnByb3BlcnRpZXMucG90ZW50aWFsW3llYXJdID0gWyhhIC0gbWluKSAqIHNjYWxlLCAoYiAtIG1pbikgKiBzY2FsZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWF0LnByb3BlcnRpZXMucG90ZW50aWFsW3llYXJdID0gWyhhIHx8IHVuZGVmaW5lZCksIChiIHx8IHVuZGVmaW5lZCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZpZWxkIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWVsZDogeWVhcnNsaWRlciB3aXRob3V0IHBvdGVudGlhbDJkXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBmZWF0IG9mIGRhdGEuZmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZWF0LnByb3BlcnRpZXMucG90ZW50aWFsID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBbeWVhciwgZl0gb2YgT2JqZWN0LmVudHJpZXMoZmllbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWwgPSBmZWF0LnByb3BlcnRpZXNbZl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlYXQucHJvcGVydGllcy5wb3RlbnRpYWxbeWVhcl0gPSAodmFsIC0gbWluKSAqIHNjYWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVhdC5wcm9wZXJ0aWVzLnBvdGVudGlhbFt5ZWFyXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoeWVhcnNsaWRlciAmJiBmaWVsZCBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IHNlbGVjdGVkIHllYXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkID0gZmluZF9jdXJyZW50X3llYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoREVCVUcpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIC8vIHdyaXRlIGdyYWRpZW50IGNvbG9yIHRvIGZlYXR1cmUsIGRlcGVuZGluZyBvbiBzY2FsZWQgcG90ZW50aWFsXG4gICAgICAgICAgICAgICAgbGV0IHNjYWxlMmQgPSBjaHJvbWEuc2NhbGUoWycjNDM5MmQzJywgJyM1YWRkNDYnLCAnI2Y4YzYyMSddKS5ub2RhdGEoJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4wKScpLm1vZGUoJ2xhYicpO1xuICAgICAgICAgICAgICAgIGxldCBzY2FsZTJkY29sb3IgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgdG8gaGFuZGxlIG51bGwgYW5kIHVuZGVmaW5lZCBjb3JyZWN0bHlcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN1bSA9ICh4IHx8IDApICsgKHkgfHwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQgPSB4IC8gc3VtO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQgPSAxIC0gKHkgLyBzdW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbCA9IHNjYWxlMmQodCkuaGV4KCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxpbmVhciBzY2FsZSAtPiBsb2cgc2NhbGUuIFNlZW1zIHRvIHdvcmsgd2l0aCBzdW09MFxuICAgICAgICAgICAgICAgICAgICBsZXQgbG9nX3N1bSA9IE1hdGgubWluKDEgLyAoMSAtIE1hdGgubG9nMTAoc3VtKSksIDEpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdyA9IGNocm9tYS5zY2FsZShbXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMClcIiwgY29sXSkubW9kZSgnbGFiJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3KGxvZ19zdW0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3JTY2FsZSA9IGNocm9tYS5zY2FsZShjaHJvbWEuYnJld2VyW29wdGlvbnMucG90ZW50aWFsXSk7XG4gICAgICAgICAgICAgICAgZGF0YS5mZWF0dXJlcy5tYXAoZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0ID0gZC5wcm9wZXJ0aWVzLnBvdGVudGlhbFtmaWVsZF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnBvdGVudGlhbDJkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29sb3JTdHIgPSBcInJnYmEoXCIgKyBzY2FsZTJkY29sb3IodFswXSwgdFsxXSkucmdiYSgpICsgXCIpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnByb3BlcnRpZXMuY29sb3IgPSBjb2xvclN0cjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbG9yIGdyYWRpZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbG9yU3RyID0gXCJyZ2JhKFwiICsgY29sb3JTY2FsZSh0KS5hbHBoYSgwLjcpLnJnYmEoKSArIFwiKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgZC5wcm9wZXJ0aWVzLmNvbG9yID0gY29sb3JTdHI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoeWVhcnNsaWRlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyB5ZWFyc2xpZGVyIGNoYW5nZTogdXBkYXRlIGxheWVyIGNvbG9yXG4gICAgICAgICAgICAgICAgICAgIHllYXJzbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIF8gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHllYXIgPSBmaW5kX2N1cnJlbnRfeWVhcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXQgdGhpcyBwb2ludCwgdGhlIGxheWVyIG11c3QgaGF2ZSBiZWVuIGFkZGVkIHRvIG1hcFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxheWVyID0gX0FIUExheWVyc1tpbnB1dC5pZF07XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllci5lYWNoTGF5ZXIobCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGwgJiYgbC5wcm9wZXJ0aWVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwucHJvcGVydGllcy5wb3RlbnRpYWwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JTY2FsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3RlbnRpYWwgaXMgZGVwZW5kZW50IG9uIHllYXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoeWVhciBpbiBsLnByb3BlcnRpZXMucG90ZW50aWFsKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHQgPSBsLnByb3BlcnRpZXMucG90ZW50aWFsW3llYXJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5wb3RlbnRpYWwyZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbG9yU3RyID0gXCJyZ2JhKFwiICsgc2NhbGUyZGNvbG9yKHRbMF0sIHRbMV0pLnJnYmEoKSArIFwiKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGwuc2V0U3R5bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsLnNldFN0eWxlKHsgXCJjb2xvclwiOiBjb2xvclN0ciwgXCJmaWxsQ29sb3JcIjogY29sb3JTdHIgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbC5yZWRyYXcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGwuZ2V0RWxlbWVudCAmJiBsLmdldEVsZW1lbnQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwuZ2V0RWxlbWVudCgpLmZpcnN0Q2hpbGQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3JTdHI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29sb3JTdHIgPSBcInJnYmEoXCIgKyBjb2xvclNjYWxlKHQpLmFscGhhKDAuNykucmdiYSgpICsgXCIpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobC5zZXRTdHlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwuc2V0U3R5bGUoeyBcImNvbG9yXCI6IGNvbG9yU3RyLCBcImZpbGxDb2xvclwiOiBjb2xvclN0ciB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsLnJlZHJhdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobC5nZXRFbGVtZW50ICYmIGwuZ2V0RWxlbWVudCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbC5nZXRFbGVtZW50KCkuZmlyc3RDaGlsZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvclN0cjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5oZWF0ICYmICghb3B0aW9ucy5oZWF0bWF4KSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuaGVhdG1heCA9IGRhdGEuZmVhdHVyZXMucmVkdWNlKChhY2MsIGN1cikgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoYWNjLCBjdXIucHJvcGVydGllc1tvcHRpb25zLmhlYXRdKTtcbiAgICAgICAgICAgICAgICB9LCAwLjApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGxheWVyID0gc2hvd0RhdGEoZGF0YS5mZWF0dXJlcywganNvbi5vcHRpb25zKTtcbiAgICAgICAgICAgIGlmICh5ZWFyc2xpZGVyICYmIGVudHJ5LnllYXJzICYmIGVudHJ5LnllYXJzIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgbGF5ZXIuaXNZZWFyTGF5ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHllYXJzbGlkZXIucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaW52aXNpYmxlXCIpO1xuICAgICAgICAgICAgICAgIC8vIGxheWVyIHRvb2x0aXBzIG1heSBiZSBkZXBlbmRlbnQgb24geWVhclxuICAgICAgICAgICAgICAgIHllYXJzbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIF8gPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgeWVhciA9IGZpbmRfY3VycmVudF95ZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIGxheWVyLmVhY2hMYXllcihsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsLnByb3BlcnRpZXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsLnByb3BlcnRpZXMuZGVzY0J5WWVhciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBsLnByb3BlcnRpZXMuZGVzY0J5WWVhclt5ZWFyXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1hcmtlcj0gcG9wdXAsIHBvbHlnb25zOiB0b29sdGlwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbC5zZXRUb29sdGlwQ29udGVudChsLnByb3BlcnRpZXMuZGVzY0J5WWVhclt5ZWFyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbC5zZXRQb3B1cENvbnRlbnQobC5wcm9wZXJ0aWVzLmRlc2NCeVllYXJbeWVhcl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9BSFBMYXllcnNbaW5wdXQuaWRdID0gbGF5ZXI7XG4gICAgICAgICAgICAvL2lmIChvcHRpb25zLmhlYXQpXG4gICAgICAgICAgICAvL19oZWF0TGF5ZXIgPSBfQUhQTGF5ZXJzW2lucHV0LmlkXTtcbiAgICAgICAgICAgIC8vIHNldCBjaGVja2JveFxuICAgICAgICAgICAgY2hlY2tJbnB1dCgpO1xuICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICBpZiAoREVCVUcpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7IC8vIGxheWVyIGhhcyBiZWVuIGxvYWRlZCBiZWZvcmU6IHJlLWFkZCB0byBtYXBcbiAgICAgICAgbGV0IGxheWVyID0gX0FIUExheWVyc1tpbnB1dC5pZF07XG4gICAgICAgIGlmICh5ZWFyc2xpZGVyICYmIGxheWVyLmlzWWVhckxheWVyKVxuICAgICAgICAgICAgeWVhcnNsaWRlci5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJpbnZpc2libGVcIik7XG4gICAgICAgIF9tYXAuYWRkTGF5ZXIobGF5ZXIpO1xuICAgICAgICAvLyBzZXQgY2hlY2tib3hcbiAgICAgICAgY2hlY2tJbnB1dCgpO1xuICAgIH1cbn1cbi8vIHJlbW92ZSBsYXllciBmcm9tIG1hcFxuLy8gaW5wdXQ6IHRvZ2dsZSBzd2l0Y2ggSFRNTCBlbGVtZW50IHdpdGggc3BlY2lmaWMgSURcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVMYXllckZyb21NYXAoaW5wdXQpIHtcbiAgICBsZXQgbGF5ZXIgPSBfQUhQTGF5ZXJzW2lucHV0LmlkXTtcbiAgICBpZiAobGF5ZXIpXG4gICAgICAgIF9tYXAucmVtb3ZlTGF5ZXIobGF5ZXIpO1xuICAgIC8vIHVuY2hlY2sgY2hlY2tib3hcbiAgICBpbnB1dC5jaGVja2VkID0gZmFsc2U7XG4gICAgLy8gaGlkZSB5ZWFyc2xpZGVyIGlmIG5vIGFjdGl2ZSB5ZWFyIGxheWVyXG4gICAgY29uc3QgeWVhcnNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwieWVhcnNsaWRlclwiKTtcbiAgICBpZiAoeWVhcnNsaWRlcikge1xuICAgICAgICBsZXQgeWVhcnNsaWRlcl92aXNpYmxlID0gT2JqZWN0LnZhbHVlcyhfQUhQTGF5ZXJzKS5yZWR1Y2UoKGFjYywgbCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGFjYyB8fCAobCAmJiBsLmlzWWVhckxheWVyICYmIF9tYXAuaGFzTGF5ZXIobCkpO1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgIGlmICh5ZWFyc2xpZGVyX3Zpc2libGUpXG4gICAgICAgICAgICB5ZWFyc2xpZGVyLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImludmlzaWJsZVwiKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgeWVhcnNsaWRlci5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJpbnZpc2libGVcIik7XG4gICAgfVxuICAgIC8vIGRpc2FibGUgbGVnZW5kIGlmIG5vIG90aGVyIGFjdGl2ZSBlbGVtZW50IGRlcGVuZHMgb24gaXRcbiAgICBpZiAoX0FIUExlZ2VuZHNbaW5wdXQuaWRdKSB7XG4gICAgICAgIGxldCBsZWdlbmQgPSBfQUhQTGVnZW5kc1tpbnB1dC5pZF0uZWxlbTtcbiAgICAgICAgbGV0IGhpZGVMZWdlbmQgPSBPYmplY3QuZW50cmllcyhfQUhQTGVnZW5kcykucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGN1cikge1xuICAgICAgICAgICAgbGV0IGN1ckxlZ2VuZCA9IGN1clsxXS5lbGVtO1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjdXJbMF0pO1xuICAgICAgICAgICAgcmV0dXJuIGFjYyB8fCAoY3VyTGVnZW5kID09PSBsZWdlbmQgJiYgaXRlbS5jaGVja2VkKTtcbiAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICBfQUhQTGVnZW5kc1tpbnB1dC5pZF0uYWN0aXZhdGVGdW5jKGhpZGVMZWdlbmQpO1xuICAgIH1cbn1cbi8vIGFkZCBkYXRhIGxheWVyIHRvIG1hcFxuLy8gY2FsbGVkIHdoZW4gc2VsZWN0aW5nIGl0ZW0gZnJvbSBzaWRlYmFyLlxuLy8gbWF5IGJlIGRhdGEgZnJvbSBmaWxlIG9yIGZyb20gc2VydmVyIChmZXRjaGVkIHdpdGggR0VUIHJlcXVlc3QpLlxuLy8gYnVpbGQgZGVzY3JpcHRpb24gb2YgZWFjaCBpdGVtLlxuZnVuY3Rpb24gbG9hZEFIUEVudHJ5KGVudHJ5KSB7XG4gICAgY29uc3QgcCA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgbGV0IHRvX2ZldGNoID0gXCJcIjtcbiAgICAgICAgaWYgKGVudHJ5LmZpbGUpXG4gICAgICAgICAgICB0b19mZXRjaCA9IF9BSFBGb2xkZXIgKyBcImRhdGEvXCIgKyBfcmVnaW9uLnByb2plY3REYXRhICsgXCIvZGF0YS9cIiArIGVudHJ5LmZpbGU7XG4gICAgICAgIGlmIChlbnRyeS5HRVQpIHtcbiAgICAgICAgICAgIHRvX2ZldGNoID0gZW50cnkuR0VUO1xuICAgICAgICAgICAgbGV0IHNwaW5uZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcC1zcGlubmVyXCIpO1xuICAgICAgICAgICAgaWYgKHNwaW5uZXIpXG4gICAgICAgICAgICAgICAgc3Bpbm5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy9pZih0b19mZXRjaC5sZW5ndGggPT0gMClcbiAgICAgICAgLy90aHJvdyBuZXcgRXJyb3IoXCJObyBzb3VyY2Ugc3BlY2lmaWVkXCIpO1xuICAgICAgICAvLyBsb2FkIGluZGl2aWR1YWwgQUhQIGVudHJ5IGZyb20gZmlsZTogcmVhZCBvdXQgZGF0YVxuICAgICAgICBmZXRjaCh0b19mZXRjaCwge1xuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpIC8vIHBhcnNlIGZpbGVcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgLy8gZ2V0IGRpc3BsYXkgb3B0aW9uc1xuICAgICAgICAgICAgbGV0IG9wdGlvbnMgPSBlbnRyeS5vcHRpb25zIHx8IHt9O1xuICAgICAgICAgICAgLy8gZml4IGljb24gcGF0aFxuICAgICAgICAgICAgLy9pZihvcHRpb25zLmljb24pXG4gICAgICAgICAgICAvL29wdGlvbnMuaWNvbi5maWxlID0gX0FIUEZvbGRlciArICdtYXJrZXJzLycgKyBvcHRpb25zLmljb24uZmlsZTtcbiAgICAgICAgICAgIG9wdGlvbnMubmFtZSA9IFwiXCI7IC8vIGRvbid0IHNob3cgaW4gbGF5ZXIgc2VsZWN0aW9uXG4gICAgICAgICAgICAvLyBwcmVwYXJlIGxheWVycyBmb3IgZGlzcGxheSBvbiBtYXBcbiAgICAgICAgICAgIGRhdGEuZmVhdHVyZXMubWFwKGQgPT4ge1xuICAgICAgICAgICAgICAgIC8vaWYoREVCVUcpIGNvbnNvbGUubG9nKGQpO1xuICAgICAgICAgICAgICAgIC8vIGZpeCBmZWF0dXJlIGdlb20gKGxuZ2xhdC0+bGF0bG5nKSwgd3JpdGUgaW5mbyB0byBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgIHJldmVyc2VDb29yZGluYXRlcyhkLmdlb21ldHJ5KTtcbiAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IHByb3BlcnR5IChhbnkgdHlwZSkgdG8gZGVzY3JpcHRpb24gc3RyaW5nIHdpdGhcbiAgICAgICAgICAgICAgICAvLyBvcHRpb25hbCB1bml0XG4gICAgICAgICAgICAgICAgbGV0IHByb3BfdG9fc3RyID0gZnVuY3Rpb24gKHByb3AsIHVuaXQgPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSBudWxsIHx8IHR5cGVvZiBwcm9wID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiay5BLlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB1bml0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCIgKyBwcm9wICsgXCIgXCIgKyB1bml0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCIgKyBwcm9wO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBmaWVsZDogZm9yIG1vdXNlb3ZlciB0ZXh0LiBtYXkgYmUgc2luZ2xlIGZpZWxkLCBkaWN0aW9uYXJ5IG9yIFwiYWxsXCJcbiAgICAgICAgICAgICAgICAvLyBkZXNjRmllbGRzOiBBbmFsb2dvdXMgdG8gJ2ZpZWxkJyBidXQgc3RyaWN0bHkgZm9yIGRpc3BsYXlpbmcgdGhlIGRlc2NyaXB0aW9uLiBJZiBpdCBpcyBwcmVzZW50IGl0IG92ZXJyaWRlcyAnZmllbGQnLlxuICAgICAgICAgICAgICAgIC8vIGNoYXJ0RmllbGRzOiBBbmFsb2dvdXMgdG8gJ2Rlc2NGaWVsZHMnIGJ1dCBvbmx5IGZvciBjaGFydHMuIElmIHByZXNlbnQgb3ZlcnJpZGVzIG90aGVyIHR3by5cbiAgICAgICAgICAgICAgICAvLyBvcmRlciBvZiBpbXBvcnRhbmNlXG4gICAgICAgICAgICAgICAgbGV0IGZpZWxkcyA9IGVudHJ5LmNoYXJ0RmllbGRzIHx8IGVudHJ5LmRlc2NGaWVsZHMgfHwgZW50cnkuZmllbGQ7XG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW5kZXIgYSBkZXNjcmlwdGlvbiB0YWJsZSByb3dcbiAgICAgICAgICAgICAgICAgICAgbGV0IGdldF90YWJsZV9yb3cgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVuaXQgPSAoZW50cnkudW5pdHMgJiYgZW50cnkudW5pdHNba2V5XSkgPyBlbnRyeS51bml0c1trZXldIDogXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIjx0cj48dGQ+PGI+XCIgKyBrZXkgKyAnPC9iPjwvdGQ+PHRkIHN0eWxlPVwid29yZC1icmVhazogYnJlYWstd29yZDtcIj4nICsgcHJvcF90b19zdHIodmFsdWUsIHVuaXQpICsgXCI8L3RkPjwvdHI+XCI7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGxldCBkZXNjID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlIGFsbDogZ2V0IGFsbCBwcm9wZXJ0eSBrZXlzXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZHMgPT0gXCJhbGxcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcCBpbiBkLnByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYyArPSBnZXRfdGFibGVfcm93KHAsIGQucHJvcGVydGllc1twXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZmllbGRzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2MgKz0gZ2V0X3RhYmxlX3JvdyhmaWVsZHNbaV0sIGQucHJvcGVydGllc1tmaWVsZHNbaV1dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmaWVsZHMgaW5zdGFuY2VvZiBPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpY3Rpb25hcnk6IGJ1aWxkIHRhYmxlIGZyb20gZmllbGQgaXRlbXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBmaWVsZHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYyArPSBnZXRfdGFibGVfcm93KGtleSwgZC5wcm9wZXJ0aWVzW2ZpZWxkc1trZXldXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7IC8vIHNpbmdsZSBlbnRyeVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzYyArPSBnZXRfdGFibGVfcm93KGZpZWxkcywgZC5wcm9wZXJ0aWVzW2ZpZWxkc10pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXNjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnByb3BlcnRpZXMuZGVzYyA9ICc8dGFibGUgc3R5bGU9XCJ3aWR0aDoxMDAlO1wiPicgKyBkZXNjICsgXCI8L3RhYmxlPlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZC5wcm9wZXJ0aWVzLmRlc2MgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlbnRyeS5jaGFydCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzYXZlIGRlc2NyaXB0aW9uIChwdXQgaW4gZGl2IG5leHQgdG8gY2hhcnQpXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5jaGFydEZpZWxkcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGQucHJvcGVydGllcy5fY2hhcnREZXNjID0gZC5wcm9wZXJ0aWVzLmRlc2M7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5jaGFydC50eXBlID09ICdsaW5lJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZC5wcm9wZXJ0aWVzLmRlc2MgPSBnZXRMaW5lQ2hhcnREZXNjKGQucHJvcGVydGllcywgZW50cnkuY2hhcnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVudHJ5LmNoYXJ0LnR5cGUgPT0gJ3BpZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQucHJvcGVydGllcy5kZXNjID0gZ2V0UGllQ2hhcnREZXNjKGQucHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInVuc3VwcG9ydGVkIGNoYXJ0IHR5cGU6IFwiICsgZW50cnkuY2hhcnQudHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5LnllYXJzICYmIGVudHJ5LnllYXJzIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGQucHJvcGVydGllcy5kZXNjQnlZZWFyID0ge307XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGVudHJ5LnllYXJzKS5tYXAoZnVuY3Rpb24gKHR1cGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQga2V5ID0gdHVwbGVbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgeWVhciA9IHR1cGxlWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQnVpbGQgZGVzY3JpcHRpb24gSFRNTFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlc2MgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvdGVudGlhbDJkIC0+IHRoZXJlIGFyZSB0d28ga2V5c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1bml0X2EgPSAoZW50cnkudW5pdHMgJiYgZW50cnkudW5pdHNba2V5WzBdXSkgPyBlbnRyeS51bml0c1trZXlbMF1dIDogXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdW5pdF9iID0gKGVudHJ5LnVuaXRzICYmIGVudHJ5LnVuaXRzW2tleVsxXV0pID8gZW50cnkudW5pdHNba2V5WzFdXSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYyA9ICc8dGFibGUgc3R5bGU9XCJ3aWR0aDoxMDAlO1wiPjx0cj48dGQ+PC90ZD48dGQ+UHJvZ25vc2U8L3RkPjwvdHI+PHRyPjx0ZD48Yj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkub3B0aW9ucy5wb3RlbnRpYWwyZC5kZXNjWCArICcgKCcgKyB5ZWFyICsgJyknICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvYj48L3RkPjx0ZD4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcF90b19zdHIoZC5wcm9wZXJ0aWVzW2tleVswXV0sIHVuaXRfYSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjwvdGQ+PC90cj48dHI+PHRkPjxiPlwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkub3B0aW9ucy5wb3RlbnRpYWwyZC5kZXNjWSArICcgKCcgKyB5ZWFyICsgJyknICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvYj48L3RkPjx0ZD4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcF90b19zdHIoZC5wcm9wZXJ0aWVzW2tleVsxXV0sIHVuaXRfYikgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjwvdGQ+PC90cj48L3RhYmxlPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMganVzdCBhIHNpbXBsZSBzdHJpbmcga2V5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVuaXQgPSAoZW50cnkudW5pdHMgJiYgZW50cnkudW5pdHNba2V5XSkgPyBlbnRyeS51bml0c1trZXldIDogXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjID0gJzx0YWJsZSBzdHlsZT1cIndpZHRoOjEwMCU7XCI+PHRyPjx0ZD48Yj5KYWhyPC9iPjwvdGQ+PHRkPlByb2dub3NlPC90ZD48L3RyPjx0cj48dGQ+PGI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHllYXIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9iPjwvdGQ+PHRkPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wX3RvX3N0cihkLnByb3BlcnRpZXNba2V5XSwgdW5pdCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjwvdGQ+PC90cj48L3RhYmxlPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZC5wcm9wZXJ0aWVzLmRlc2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnByb3BlcnRpZXMuZGVzY0J5WWVhclt5ZWFyXSA9IGQucHJvcGVydGllcy5kZXNjICsgZGVzYztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHJvcGVydGllcy5kZXNjQnlZZWFyW3llYXJdID0gZGVzYztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNldCBkZXNjIGZvciBjdXJyZW50IHllYXJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeWVhcnNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwieWVhcnNsaWRlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHllYXJzbGlkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQucHJvcGVydGllcy5kZXNjID0gZC5wcm9wZXJ0aWVzLmRlc2NCeVllYXJbeWVhcnNsaWRlci52YWx1ZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy9kLnByb3BlcnRpZXMuZGVzYyA9ICc8Yj5KYWhyICcgKyBfY3VycmVudFllYXIgKyAnPC9iPjogJyArIGQucHJvcGVydGllc1tlbnRyeS55ZWFyc1tfY3VycmVudFllYXJdXTtcbiAgICAgICAgICAgICAgICAgICAgZC5wcm9wZXJ0aWVzLnllYXJzID0gZW50cnkueWVhcnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXNvbHZlKHsgZGF0YTogZGF0YSwgb3B0aW9uczogb3B0aW9ucyB9KTtcbiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgLy8gT29wcy4gU29tZXdoZXJlLCBzb21ldGhpbmcgYnJva2UuIEdvb2QgbHVjay5cbiAgICAgICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlbnRyeSk7XG4gICAgICAgICAgICBpZiAoREVCVUcpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsZXQgc3Bpbm5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwLXNwaW5uZXJcIik7XG4gICAgICAgICAgICBpZiAoc3Bpbm5lcilcbiAgICAgICAgICAgICAgICBzcGlubmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcDtcbn1cbi8vIEFkZCB5ZWFyIHNsaWRlciB0byBtYXBcbmZ1bmN0aW9uIGFkZFllYXJTbGlkZXIoeWVhcnMpIHtcbiAgICAvLyBNb3ZlIHllYXJfZGl2IHRvIG1hcCBjb250cm9sc1xuICAgIGxldCB5ZWFyZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3llYXJzbGlkZXJfZGl2Jyk7XG4gICAgbGV0IGRlc3RpbmF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2LmxlYWZsZXQtYm90dG9tLmxlYWZsZXQtbGVmdCcpO1xuICAgIGlmICh5ZWFyZGl2ICYmIGRlc3RpbmF0aW9uICYmIHllYXJzKSB7XG4gICAgICAgIHllYXJkaXYgPSB5ZWFyZGl2LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoeWVhcmRpdik7XG4gICAgICAgIGRlc3RpbmF0aW9uLmFwcGVuZENoaWxkKHllYXJkaXYpO1xuICAgICAgICAvL3llYXJkaXYuY2xhc3NMaXN0LnJlbW92ZSgnaW52aXNpYmxlJylcbiAgICAgICAgeWVhcmRpdi5zdHlsZS5tYXJnaW4gPSBcIjAgMXJlbSAxcmVtIDQ4MHB4XCI7IC8vIHRvcCAtIHJpZ2h0IC0gYm90dG9tIC0gbGVmdFxuICAgICAgICBsZXQgeWVhcnNsaWRlciA9IGFkZEVsZW0oXCJ5ZWFyc2xpZGVyXCIsIG51bGwsIHllYXJkaXYsIFwiSU5QVVRcIik7XG4gICAgICAgIHllYXJzbGlkZXIuaWQgPSBcInllYXJzbGlkZXJcIjtcbiAgICAgICAgeWVhcnNsaWRlci50eXBlID0gXCJyYW5nZVwiO1xuICAgICAgICAvLyBhZGQgeWVhciBzbGlkZXIgdGlja3NcbiAgICAgICAgbGV0IHllYXJ0aWNrcyA9IGFkZEVsZW0oXCJ5ZWFyc2xpZGVydGlja3MgdW5zZWxlY3RhYmxlXCIsIG51bGwsIHllYXJkaXYsIFwiRElWXCIpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHllYXJzLmxlbmd0aCAmJiAoeWVhcnRpY2tzICE9IHVuZGVmaW5lZCk7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxhYmVsID0geWVhcnNbaV07XG4gICAgICAgICAgICAvLyBIaWRlIGV2ZXJ5IG90aGVyIHRpY2sgbGFiZWwgdG8gYXZvaWQgb3ZlcmxhcC5cbiAgICAgICAgICAgIC8vIFRPRE8gVGhlcmUgaXMgYSBjbGV2ZXIgZ2VuZXJhbGl6YXRpb24gZm9yIGhpZ2hlclxuICAgICAgICAgICAgLy8gbnVtYmVycyBvZiB0aWNrcyB3aGljaCBpbnZvbHZlcyBhdCBsZWFzdCB0YWtpbmcgdGhlXG4gICAgICAgICAgICAvLyBsb2dhcml0aG0gb2YgdGhlIG51bWJlciBvZiB0aWNrcyB0byBhcnJpdmUgYXQgdGhlXG4gICAgICAgICAgICAvLyBuZWFyZXN0IG51bWJlciBvZiBza2lwcyBuZWNlc3NhcnkgKG9uZSBvZlxuICAgICAgICAgICAgLy8gWzEsMiw1LDEwLDIwLDUwLDEwMCwyMDAsLi4uXSkuXG4gICAgICAgICAgICBpZiAoeWVhcnMubGVuZ3RoID4gMTEgJiYgKGkgJSAyKSAhPSAwKSB7XG4gICAgICAgICAgICAgICAgbGFiZWwgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGVsZW0gPSBhZGRFbGVtKG51bGwsIGxhYmVsLCB5ZWFydGlja3MsIFwiUFwiKTtcbiAgICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfID0+IHsgeWVhcnNsaWRlci52YWx1ZSA9IHllYXJzW2ldOyB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgeWVhciB2YWx1ZXNcbiAgICAgICAgeWVhcnNsaWRlci5taW4gPSB5ZWFyc1swXTtcbiAgICAgICAgeWVhcnNsaWRlci5tYXggPSB5ZWFyc1t5ZWFycy5sZW5ndGggLSAxXTtcbiAgICAgICAgeWVhcnNsaWRlci52YWx1ZSA9ICh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UgPyB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuY3VycmVudFllYXIgOiB1bmRlZmluZWQpIHx8IHllYXJzWzBdO1xuICAgICAgICAvLyBzYXZlIHNlbGVjdGVkIHllYXIgZm9yIGxhdGVyIHJldHVyblxuICAgICAgICAvLyBpbnB1dCBBTkQgY2hhbmdlOiBbXCJpbnB1dFwiLCBcImNoYW5nZVwiXS5mb3JFYWNoKGV2dCA9PiB5ZWFyc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoZXZ0LCBfID0+IC4uLiwgZmFsc2UpKTtcbiAgICAgICAgeWVhcnNsaWRlci5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgXyA9PiB7XG4gICAgICAgICAgICBpZiAod2luZG93LnNlc3Npb25TdG9yYWdlKVxuICAgICAgICAgICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5jdXJyZW50WWVhciA9IHllYXJzbGlkZXIudmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBpbml0IHRpbWUgc2xpZGVyXG4gICAgICAgIEwuRG9tRXZlbnQub24oc2lkZWJhciwgXCJvcGVuaW5nXCIsIF8gPT4ge1xuICAgICAgICAgICAgeWVhcmRpdi5zdHlsZS5tYXJnaW4gPSBcIjAgMXJlbSAxcmVtIDQ4MHB4XCI7XG4gICAgICAgIH0pO1xuICAgICAgICBMLkRvbUV2ZW50Lm9uKHNpZGViYXIsIFwiY2xvc2luZ1wiLCBfID0+IHtcbiAgICAgICAgICAgIHllYXJkaXYuc3R5bGUubWFyZ2luID0gXCIwIDFyZW0gMXJlbSA3NXB4XCI7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBQcmV2ZW50IGNsaWNrIGV2ZW50cyBwcm9wYWdhdGlvbiB0byBtYXBcbiAgICBMLkRvbUV2ZW50LmRpc2FibGVDbGlja1Byb3BhZ2F0aW9uKHllYXJkaXYpO1xuICAgIC8vIFByZXZlbnQgcmlnaHQgY2xpY2sgZXZlbnQgcHJvcGFnYXRpb24gdG8gbWFwXG4gICAgTC5Eb21FdmVudC5vbih5ZWFyZGl2LCAnY29udGV4dG1lbnUnLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgTC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24oZXYpO1xuICAgIH0pO1xuICAgIC8vIFByZXZlbnQgc2Nyb2xsIGV2ZW50cyBwcm9wYWdhdGlvbiB0byBtYXAgd2hlbiBjdXJzb3Igb24gdGhlIGRpdlxuICAgIEwuRG9tRXZlbnQuZGlzYWJsZVNjcm9sbFByb3BhZ2F0aW9uKHllYXJkaXYpO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldExpbmVDaGFydERlc2MobGF5ZXJQcm9wZXJ0aWVzLCBjaGFydEVudHJ5KSB7XG4gICAgLy8gUmVhZCBkYXRhIHNlcmllc1xuICAgIGxldCBzZXJpZXMgPSBbXTtcbiAgICBpZiAoY2hhcnRFbnRyeS5zZXJpZXNLZXkpIHtcbiAgICAgICAgLy8gY29weSBzZXJpZXNcbiAgICAgICAgc2VyaWVzID0gWy4uLmxheWVyUHJvcGVydGllc1tjaGFydEVudHJ5LnNlcmllc0tleV1dO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gcmVhZCBzZXJpZXMsIGtleSBieSBrZXlcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFydEVudHJ5LnNlcmllc0tleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNlcmllcy5wdXNoKGxheWVyUHJvcGVydGllc1tjaGFydEVudHJ5LnNlcmllc0tleXNbaV1dKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgc2VyaWVzOiBbc2VyaWVzXSxcbiAgICAgICAgbGFiZWxzOiBjaGFydEVudHJ5LmxhYmVscyB8fCBbXSxcbiAgICB9O1xuICAgIC8vIEFwcGx5IHNpbXBsZSBib3ggY29udm9sdXRpb24gdG8gc21vb3RoZW4gbGluZXMgYW5kIGNyZWF0ZSBhIHNlcGFyYXRlIHNlcmllc1xuICAgIGlmIChjaGFydEVudHJ5LmNvbnZvbHV0aW9uKSB7XG4gICAgICAgIGxldCBzZXJpZXMgPSBkYXRhLnNlcmllc1swXTtcbiAgICAgICAgbGV0IGtlcm5lbCA9IGNoYXJ0RW50cnkuY29udm9sdXRpb247XG4gICAgICAgIGxldCBjb252X2RhdGEgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBrZXJuZWw7IGsrKykge1xuICAgICAgICAgICAgICAgIGxldCBuID0gaSArIGsgLSBNYXRoLmZsb29yKGtlcm5lbCAvIDIpO1xuICAgICAgICAgICAgICAgIC8vIGJvdW5kcyBjaGVja2luZ1xuICAgICAgICAgICAgICAgIG4gPSBNYXRoLm1pbihzZXJpZXMubGVuZ3RoIC0gMSwgTWF0aC5tYXgoMCwgbikpO1xuICAgICAgICAgICAgICAgIHN1bSArPSBzZXJpZXNbbl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb252X2RhdGEucHVzaChzdW0gLyBrZXJuZWwpO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEuc2VyaWVzLnB1c2goY29udl9kYXRhKTtcbiAgICB9XG4gICAgLy8gQ1NTIGNsYXNzZXMgZm9yIGNoYXJ0c1xuICAgIGxldCBjbGFzc05hbWVzID0ge1xuICAgICAgICBsaW5lOiAnY3QtbGluZS1ncmVlbicsXG4gICAgICAgIGFyZWE6ICdjdC1hcmVhLWdyZWVuJyxcbiAgICB9O1xuICAgIGlmIChjaGFydEVudHJ5LmNvbnZvbHV0aW9uKSB7XG4gICAgICAgIGNsYXNzTmFtZXMgPSB7XG4gICAgICAgICAgICBsaW5lOiAnY3QtbGluZS1tYXAnLFxuICAgICAgICAgICAgYXJlYTogJ2N0LWFyZWEtZ3JlZW4nLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBEaXNwbGF5IG9ubHkgZXZlcnkgeCBsYWJlbCBvbiBYIGF4aXNcbiAgICBsZXQgZXZlcnlYTGFiZWwgPSBjaGFydEVudHJ5LmV2ZXJ5WExhYmVsIHx8IDE7XG4gICAgLy8gQ3JlYXRlIGRlc2NyaXB0aW9uIGFzIGEgZnVuY3Rpb25cbiAgICBsZXQgZGVzYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbGV0IGNoYXJ0RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjaGFydEVsZW0uc3R5bGUud2lkdGggPSAnMjUwcHgnO1xuICAgICAgICBjaGFydEVsZW0uc3R5bGUuaGVpZ2h0ID0gJzI1MHB4JztcbiAgICAgICAgLy8gZGlzcGxheSBvbGQgZGVzY3JpcHRpb24gaW4gb3duIGRpdlxuICAgICAgICBpZiAobGF5ZXJQcm9wZXJ0aWVzLl9jaGFydERlc2MpIHtcbiAgICAgICAgICAgIGVsZW0uaW5uZXJIVE1MID0gbGF5ZXJQcm9wZXJ0aWVzLl9jaGFydERlc2M7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXBwZW5kIGNoYXJ0IGRpdiAoYmVsb3cgb3B0aW9uYWwgZGVzY3JpcHRpb24pXG4gICAgICAgIGVsZW0uYXBwZW5kQ2hpbGQoY2hhcnRFbGVtKTtcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBzaG93UG9pbnQ6IGZhbHNlLFxuICAgICAgICAgICAgYXhpc1g6IHtcbiAgICAgICAgICAgICAgICBzaG93R3JpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbEludGVycG9sYXRpb25GbmM6IGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4ICUgZXZlcnlYTGFiZWwgPT09IDAgPyB2YWx1ZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBheGlzVGl0bGU6IGNoYXJ0RW50cnkuYXhpc1hUaXRsZSB8fCBcIlwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGF4aXNZOiB7XG4gICAgICAgICAgICAgICAgc2hvd0dyaWQ6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xhc3NOYW1lczogY2xhc3NOYW1lcyxcbiAgICAgICAgICAgIHBsdWdpbnM6IFtcbiAgICAgICAgICAgICAgICBDaGFydGlzdC5wbHVnaW5zLmN0QXhpc1RpdGxlKHtcbiAgICAgICAgICAgICAgICAgICAgYXhpc1g6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF4aXNUaXRsZTogY2hhcnRFbnRyeS5heGlzWFRpdGxlIHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IDMwLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXhpc1k6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF4aXNUaXRsZTogY2hhcnRFbnRyeS5heGlzWVRpdGxlIHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IDEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsaXBUaXRsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgXSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gYXNzaWduIG9wdGlvbnMgZnJvbSBlbnRyeSB0byBjaGFydGlzdCBvcHRpb25zXG4gICAgICAgIGlmIChjaGFydEVudHJ5Lm9wdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKG9wdGlvbnMsIGNoYXJ0RW50cnkub3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgbmV3IENoYXJ0aXN0LkxpbmUoY2hhcnRFbGVtLCBkYXRhLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgfTtcbiAgICByZXR1cm4gZGVzYztcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRQaWVDaGFydERlc2MobGF5ZXJQcm9wZXJ0aWVzKSB7XG4gICAgLy8gUmVhZCBkYXRhIHNlcmllc1xuICAgIGxldCBkYXRhID0geyAnbGFiZWxzJzogW10sICdzZXJpZXMnOiBbXSB9O1xuICAgIGxldCBhZGRpdGlvbmFsX2luZm8gPSBbXTtcbiAgICBmb3IgKGxldCBwIG9mIE9iamVjdC5lbnRyaWVzKGxheWVyUHJvcGVydGllcykpIHtcbiAgICAgICAgaWYgKGlzTmFOKE51bWJlcihwWzFdKSkpIHtcbiAgICAgICAgICAgIC8vYWRkaXRpb25hbF9pbmZvLnB1c2goT2JqZWN0LmZyb21FbnRyaWVzKFtwXSkpO1xuICAgICAgICAgICAgbGV0IGVudHJ5ID0ge307XG4gICAgICAgICAgICBlbnRyeVtwWzBdXSA9IHBbMV07XG4gICAgICAgICAgICBhZGRpdGlvbmFsX2luZm8ucHVzaChlbnRyeSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkYXRhLmxhYmVscy5wdXNoKHBbMF0pO1xuICAgICAgICAgICAgZGF0YS5zZXJpZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgbWV0YTogcFswXSArIFwiOlwiLCB2YWx1ZTogTnVtYmVyKHBbMV0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgdG90YWwgPSBkYXRhLnNlcmllcy5yZWR1Y2UoKGEsIGMpID0+IHsgcmV0dXJuIGEgKyBjOyB9LCAwKTtcbiAgICBsZXQgZGVzYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZWxlbS5zdHlsZS53aWR0aCA9ICcyNTBweCc7XG4gICAgICAgIGVsZW0uc3R5bGUuaGVpZ2h0ID0gJzI1MHB4JztcbiAgICAgICAgLy9lbGVtLnRleHRDb250ZW50ID0gYWRkaXRpb25hbF9pbmZvO1xuICAgICAgICBpZiAoIXRvdGFsKVxuICAgICAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgICAgIG5ldyBDaGFydGlzdC5QaWUoZWxlbSwgZGF0YSwge1xuICAgICAgICAgICAgLy8gbm8gbGFiZWwgd2hlbiBzbGljZSA8IDEwJVxuICAgICAgICAgICAgLy9sYWJlbEludGVycG9sYXRpb25GbmM6IGZ1bmN0aW9uKHZhbHVlKSB7aWYgKChkYXRhW3ZhbHVlXSAvIHRvdGFsKSA+IDAuMSkgcmV0dXJuIHZhbHVlOyBlbHNlIHJldHVybiBudWxsO30sXG4gICAgICAgICAgICBpZ25vcmVFbXB0eVZhbHVlczogdHJ1ZSxcbiAgICAgICAgICAgIHBsdWdpbnM6IFtDaGFydGlzdC5wbHVnaW5zLnRvb2x0aXAoe1xuICAgICAgICAgICAgICAgICAgICBhbmNob3JUb1BvaW50OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG9Cb2R5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjbGFzczogXCJjdC10b29sdGlwXCIsXG4gICAgICAgICAgICAgICAgfSldLFxuICAgICAgICAgICAgd2lkdGg6IFwiMjUwcHhcIixcbiAgICAgICAgICAgIGhlaWdodDogXCIyNTBweFwiIC8vIG90aGVyd2lzZSwgQ2hhcnRpc3QgY2Fubm90IHNldCBjb3JyZWN0IHNpemUgYmVjYXVzZSBvZiBoaWRkZW4gc2lkZWJhciBwYW5lbFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgfTtcbiAgICByZXR1cm4gZGVzYztcbn1cbiIsIid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IERFQlVHLCB9IGZyb20gXCIuL21hcFwiO1xuaW1wb3J0IHsgaGlnaGxpZ2h0Q0NQLCB9IGZyb20gXCIuL2xpc19tb2RhbFwiO1xuaW1wb3J0IHsgZmV0Y2hQb3N0LCBhZGRFbGVtIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJTaWRlYmFyQ2hhdCgpIHtcbiAgICByZW5kZXJDaGF0KF9jaGF0X21lc3NhZ2VzLCAnY2hhdGJveGVzJywgeCA9PiB7IHJldHVybiAheC5tc2d0eXBlLnN0YXJ0c1dpdGgoJ0NvbW1lbnQnKTsgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlQ2hhdFJlZnJlc2goKSB7XG4gICAgLy8gZmV0Y2ggUE9TVCByZXF1ZXN0IHdpdGggZW1wdHkgbWVzc2FnZSB0byByZWZyZXNoIHRoZSBjaGF0XG4gICAgbGV0IGJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0X3JlZnJlc2hfYnRuJyk7XG4gICAgbGV0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdGZvcm0nKTtcbiAgICBsZXQgZm9ybV9kYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgaWYgKCFidXR0b24gfHwgIWZvcm0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3JtX2RhdGEuYXBwZW5kKFwicmVnaW9uXCIsIGZvcm0uY2hhdF9yZWdpb24udmFsdWUpO1xuICAgIGZvcm1fZGF0YS5hcHBlbmQoXCJjc3JmbWlkZGxld2FyZXRva2VuXCIsIGZvcm0uY3NyZm1pZGRsZXdhcmV0b2tlbi52YWx1ZSk7XG4gICAgZm9ybV9kYXRhLmFwcGVuZChcIm1lc3NhZ2VcIiwgXCJcIik7XG4gICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBmZXRjaFBvc3QoJ2NoYXQvJywgZm9ybV9kYXRhLCAzMDAwMClcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgICAudGhlbihtc2cgPT4ge1xuICAgICAgICBfY2hhdF9tZXNzYWdlcyA9IG1zZztcbiAgICAgICAgcmVuZGVyU2lkZWJhckNoYXQoKTtcbiAgICAgICAgZm9ybS5zY3JvbGxJbnRvVmlldygpO1xuICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICBpZiAoREVCVUcpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlQ2hhdFN1Ym1pdCgpIHtcbiAgICBsZXQgYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRfc3VibWl0X2J0bicpO1xuICAgIGxldCBtZXNzYWdlX2FyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdGFyZWEnKTtcbiAgICBpZiAoIW1lc3NhZ2VfYXJlYSB8fCAhYnV0dG9uKSB7XG4gICAgICAgIHJldHVybjsgLy9vb3BzXG4gICAgfVxuICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgZmV0Y2hQb3N0KCdjaGF0LycsIFwiY2hhdGZvcm1cIiwgMTIwMDAwKVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAgIC50aGVuKG1zZyA9PiB7XG4gICAgICAgIF9jaGF0X21lc3NhZ2VzID0gbXNnO1xuICAgICAgICByZW5kZXJTaWRlYmFyQ2hhdCgpO1xuICAgICAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGF0Zm9ybScpO1xuICAgICAgICBmb3JtLnNjcm9sbEludG9WaWV3KCk7XG4gICAgfSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIG1lc3NhZ2VfYXJlYS52YWx1ZSA9IFwiXCI7XG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH0pO1xufVxuLy8gVHVybiBhIG1lc3NhZ2Ugd2l0aCBhbiBldmVudCAoPSBub3QgYSBzaW1wbGUgY2hhdCBtZXNzYWdlKSB0byBhbiBlbGVtZW50XG4vLyBhbmQgcGxhY2UgaXQgaW5zaWRlIHRoZSBnaXZlbiBwYXJlbnQgZWxlbWVudC5cbi8vIHRpbWVITSBzaG91bGQgYmUgYSBzdHJpbmcgdGhhdCBjb250YWlucyB0aGUgZXZlbnQgdGltZS5cbi8vIGxpc0RpY3Qgc2hvdWxkIGJlIGEgZGljdGlvbmFyeSgvb2JqZWN0KSB3aXRoIExJUy1pZCBhcyBrZXlzIGFuZCBMSVMtb2JqZWN0cyBhcyB2YWx1ZXMuXG5mdW5jdGlvbiBhZGRDaGF0RXZlbnRFbGVtZW50KG1lc3NhZ2UsIHVzZXJzLCBwYXJlbnRFbGVtLCB0aW1lSE0sIGxpc0RpY3QpIHtcbiAgICBjb25zdCBtc2d0eXBlID0gbWVzc2FnZS5tc2d0eXBlO1xuICAgIGNvbnN0IHVzZXIgPSB1c2Vyc1ttZXNzYWdlLnVzZXJdO1xuICAgIGNvbnN0IHVzZXJuYW1lID0gdXNlciA/ICh1c2VyLmZpcnN0X25hbWUgKyAnICcgKyB1c2VyLmxhc3RfbmFtZSkgOiBcIkVpbmUgTnV0emVySW5cIjtcbiAgICBjb25zdCByZWdpb25fbmFtZSA9IF9yZWdpb24ubmFtZSB8fCBmYWxzZTtcbiAgICBjb25zdCBsaXMgPSBsaXNEaWN0W21lc3NhZ2UuTElTXTtcbiAgICBsZXQgbGlzX2VsZW07XG4gICAgaWYgKGxpcykge1xuICAgICAgICBsaXNfZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0EnKTtcbiAgICAgICAgbGlzX2VsZW0udGV4dENvbnRlbnQgPSBsaXMubmFtZTtcbiAgICAgICAgbGlzX2VsZW0uY2xhc3NMaXN0LmFkZCgnY2hhdC1tZXNzYWdlLWxpbmsnKTtcbiAgICAgICAgbGlzX2VsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF8gPT4geyBoaWdobGlnaHRDQ1AobGlzLmlkKTsgcmV0dXJuIGZhbHNlOyB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxpc19lbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnU1BBTicpO1xuICAgICAgICBsaXNfZWxlbS50ZXh0Q29udGVudCA9IFwiZWluZW4gTGFkZXN0YW5kb3J0XCI7XG4gICAgfVxuICAgIGNvbnN0IGFkZEV2ZW50ID0gZnVuY3Rpb24gKHRleHRBLCBlbGVtLCB0ZXh0QiwgbXNndHlwZSkge1xuICAgICAgICBsZXQgZGl2ID0gYWRkRWxlbShcImNoYXQtZXZlbnRcIiwgXCJcIiwgcGFyZW50RWxlbSwgXCJESVZcIik7XG4gICAgICAgIGlmIChtc2d0eXBlKSB7XG4gICAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgnY2hhdC1ldmVudC0nICsgbXNndHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgYWRkRWxlbShcImNoYXQtdXNlclwiLCB1c2VybmFtZSwgZGl2LCBcIlNQQU5cIik7XG4gICAgICAgIGlmICh0ZXh0QSkge1xuICAgICAgICAgICAgYWRkRWxlbShcIlwiLCAnICcgKyB0ZXh0QSwgZGl2LCBcIlNQQU5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsZW0pIHtcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGV4dEIpIHtcbiAgICAgICAgICAgIGFkZEVsZW0oXCJcIiwgdGV4dEIsIGRpdiwgXCJTUEFOXCIpO1xuICAgICAgICB9XG4gICAgICAgIGFkZEVsZW0oXCJjaGF0LXRpbWVcIiwgJyAtICcgKyB0aW1lSE0sIGRpdiwgXCJTUEFOXCIpO1xuICAgICAgICByZXR1cm4gZGl2O1xuICAgIH07XG4gICAgc3dpdGNoIChtc2d0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJDb21tZW50X2NyZWF0ZWRcIjpcbiAgICAgICAgICAgIGFkZEV2ZW50KFwiaGF0IGVpbmVuIEtvbW1lbnRhciBlcnN0ZWxsdFwiLCBudWxsLCBudWxsLCBtc2d0eXBlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiQ29tbWVudF9yZW1vdmVkXCI6XG4gICAgICAgICAgICBhZGRFdmVudChcImhhdCBlaW5lbiBLb21tZW50YXIgZW50ZmVybnRcIiwgbnVsbCwgbnVsbCwgbXNndHlwZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIlByb2plY3RfY3JlYXRlZFwiOlxuICAgICAgICAgICAgaWYgKHJlZ2lvbl9uYW1lKSB7XG4gICAgICAgICAgICAgICAgYWRkRXZlbnQoXCJoYXQgZGFzIFByb2pla3QgXCIgKyByZWdpb25fbmFtZSArIFwiIGVyc3RlbGx0XCIsIG51bGwsIG51bGwsIG1zZ3R5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkRXZlbnQoXCJoYXQgZGllc2VzIFByb2pla3QgZXJzdGVsbHRcIiwgbnVsbCwgbnVsbCwgbXNndHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkV2YWx1YXRpb25fc3RhcnRlZFwiOlxuICAgICAgICAgICAgYWRkRXZlbnQoXCJoYXQgZWluZSBCZXdlcnR1bmcgZ2VzdGFydGV0XCIsIG51bGwsIG51bGwsIG1zZ3R5cGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJMSVNfY3JlYXRlZFwiOlxuICAgICAgICAgICAgYWRkRXZlbnQoXCJoYXQgXCIsIGxpc19lbGVtLCBcIiBlcnN0ZWxsdFwiLCBtc2d0eXBlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiTElTX2NoZWNrbGlzdFwiOlxuICAgICAgICAgICAgYWRkRXZlbnQoXCJoYXQgZGllIENoZWNrbGlzdGUgZsO8ciBcIiwgbGlzX2VsZW0sIFwiIHZlcsOkbmRlcnRcIiwgbXNndHlwZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkxJU19kZXNjXCI6IC8vIGxlZ2FjeVxuICAgICAgICAgICAgYWRkRXZlbnQoXCJoYXQgXCIsIGxpc19lbGVtLCBcIiBrb21tZW50aWVydFwiLCBtc2d0eXBlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiTElTX2Rlc2NyaXB0aW9uXCI6IC8vIG5vdCBsZWdhY3ksIGtpbmRhIG5ld1xuICAgICAgICAgICAgYWRkRXZlbnQoXCJoYXQgZGllIEJlc2NocmVpYnVuZyBmw7xyIFwiLCBsaXNfZWxlbSwgXCIgYmVhcmJlaXRldFwiLCBtc2d0eXBlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiTElTX2ZpbGVfYWRkZWRcIjpcbiAgICAgICAgICAgIGFkZEV2ZW50KFwiaGF0IGVpbmUgRGF0ZWkgZsO8ciBcIiwgbGlzX2VsZW0sIFwiIGhvY2hnZWxhZGVuXCIsIG1zZ3R5cGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJMSVNfZmlsZV9yZW1vdmVkXCI6XG4gICAgICAgICAgICBhZGRFdmVudChcImhhdCBlaW5lIERhdGVpIHZvbiBcIiwgbGlzX2VsZW0sIFwiIGVudGZlcm50XCIsIG1zZ3R5cGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJMSVNfbWVzc2FnZV9jcmVhdGVkXCI6XG4gICAgICAgICAgICBhZGRFdmVudChcImhhdCBlaW5lIE5hY2hyaWNodCBmw7xyIFwiLCBsaXNfZWxlbSwgXCIgZXJzdGVsbHRcIiwgbXNndHlwZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkxJU19tb3ZlZFwiOlxuICAgICAgICAgICAgYWRkRXZlbnQoXCJoYXQgXCIsIGxpc19lbGVtLCBcIiB2ZXJzY2hvYmVuXCIsIG1zZ3R5cGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJMSVNfcG93ZXJfdGFibGVcIjpcbiAgICAgICAgICAgIGFkZEV2ZW50KFwiaGF0IFwiLCBsaXNfZWxlbSwgXCIgZXJ3ZWl0ZXJ0XCIsIG1zZ3R5cGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJMSVNfcmVtb3ZlZFwiOlxuICAgICAgICAgICAgYWRkRXZlbnQoXCJoYXQgXCIsIGxpc19lbGVtLCBcIiBlbnRmZXJudFwiLCBtc2d0eXBlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiTElTX3JlbmFtZWRcIjpcbiAgICAgICAgICAgIGFkZEV2ZW50KFwiaGF0IFwiLCBsaXNfZWxlbSwgXCIgdW1iZW5hbm50XCIsIG1zZ3R5cGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJMSVNfc2VhcmNoX2NyZWF0ZWRcIjpcbiAgICAgICAgICAgIGFkZEV2ZW50KFwiaGF0IGVpbmVuIFN1Y2hyYXVtIGbDvHIgXCIsIGxpc19lbGVtLCBcIiBiZXN0aW1tdFwiLCBtc2d0eXBlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiTElTX3NlYXJjaF9yZW1vdmVkXCI6XG4gICAgICAgICAgICBhZGRFdmVudChcImhhdCBlaW5lbiBTdWNocmF1bSBmw7xyIFwiLCBsaXNfZWxlbSwgXCIgZW50ZmVybnRcIiwgbXNndHlwZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIlVzZXJfaW52aXRlZFwiOlxuICAgICAgICAgICAgYWRkRXZlbnQoXCJoYXQgZWluZW4gbmV1ZW4gVXNlciBlaW5nZWxhZGVuXCIsIG51bGwsIG51bGwsIG1zZ3R5cGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJVc2VyX3JlbW92ZWRcIjpcbiAgICAgICAgICAgIGFkZEV2ZW50KFwiaGF0IGVpbmVuIFVzZXIgYXVzZ2VsYWRlblwiLCBudWxsLCBudWxsLCBtc2d0eXBlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVbmV4cGVjdGVkIG1lc3NhZ2UgdHlwZVwiLCBtc2d0eXBlKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyQ2hhdChtZXNzYWdlc19vYmosIGNoYXRJZCA9ICdjaGF0Ym94ZXMnLCBtZXNzYWdlc0ZpbHRlciwgY29udGV4dCA9IFwicmVnaW9uXCIpIHtcbiAgICBsZXQgY2hhdGJveGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2hhdElkKTtcbiAgICBpZiAoIWNoYXRib3hlcylcbiAgICAgICAgcmV0dXJuO1xuICAgIC8vIHJlbW92ZSBhbGwgY2hhdCBtZXNzYWdlc1xuICAgIGNoYXRib3hlcy5pbm5lckhUTUwgPSAnJztcbiAgICBjb25zdCB1c2VycyA9IG1lc3NhZ2VzX29ialsndXNlcnMnXTtcbiAgICBsZXQgbWVzc2FnZXMgPSBtZXNzYWdlc19vYmpbJ21lc3NhZ2VzJ107XG4gICAgaWYgKG1lc3NhZ2VzRmlsdGVyKSB7XG4gICAgICAgIG1lc3NhZ2VzID0gbWVzc2FnZXMuZmlsdGVyKG1lc3NhZ2VzRmlsdGVyKTtcbiAgICB9XG4gICAgY29uc3QgbGlzRGljdCA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgX21hcmtlcnMubGVuZ3RoOyBpKyspXG4gICAgICAgIGxpc0RpY3RbX21hcmtlcnNbaV0ucHJvcGVydGllcy5pZF0gPSBfbWFya2Vyc1tpXS5wcm9wZXJ0aWVzO1xuICAgIGNvbnN0IGdldFRpbWVITSA9IGZ1bmN0aW9uIChkYXRldGltZSkge1xuICAgICAgICByZXR1cm4gZGF0ZXRpbWUuZ2V0SG91cnMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJykgKyAnOicgK1xuICAgICAgICAgICAgZGF0ZXRpbWUuZ2V0TWludXRlcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICB9O1xuICAgIGxldCBkYXkgPSBcIlwiO1xuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbWVzc2FnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJQXCIpO1xuICAgICAgICBsZXQgZGF0ZXRpbWUgPSBuZXcgRGF0ZShtZXNzYWdlc1tpXS50aW1lc3RhbXAgKiAxMDAwKTtcbiAgICAgICAgLy8gZGF5XG4gICAgICAgIGxldCBjdXJfZGF5ID0gZGF0ZXRpbWUudG9EYXRlU3RyaW5nKCk7XG4gICAgICAgIGlmIChjdXJfZGF5ICE9PSBkYXkpIHtcbiAgICAgICAgICAgIGRheSA9IGN1cl9kYXk7XG4gICAgICAgICAgICBhZGRFbGVtKFwiY2hhdC1kYXRlXCIsIGRhdGV0aW1lLnRvTG9jYWxlRGF0ZVN0cmluZygpLCBib3gsIFwiRElWXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoYXQgbWVzc2FnZSBoZWFkZXJcbiAgICAgICAgbGV0IGNoYXRfaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNQQU5cIik7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNoYXRfaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJjaGF0LWhlYWRlclwiKTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlc1tpXS51c2VyKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVzZXIgPSB1c2Vyc1ttZXNzYWdlc1tpXS51c2VyXTtcbiAgICAgICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3BhbiA9IGFkZEVsZW0oXCJjaGF0LXVzZXJcIiwgdXNlci5maXJzdF9uYW1lICsgJyAnICsgdXNlci5sYXN0X25hbWUsIGNoYXRfaGVhZGVyLCBcIlNQQU5cIik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VyLmlzX3NlbGYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZChcImNoYXQtdXNlci1pcy1zZWxmXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNoYXRfaGVhZGVyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiIChcIikpO1xuICAgICAgICAgICAgICAgICAgICBhZGRFbGVtKFwiY2hhdC11c2VyLWNvbXBhbnlcIiwgdXNlci5jb21wYW55LCBjaGF0X2hlYWRlciwgXCJTUEFOXCIpO1xuICAgICAgICAgICAgICAgICAgICBjaGF0X2hlYWRlci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIikgLSBcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZEVsZW0oXCJjaGF0LXRpbWVcIiwgZ2V0VGltZUhNKGRhdGV0aW1lKSwgY2hhdF9oZWFkZXIsIFwiU1BBTlwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1c2VyX2lkID0gbWVzc2FnZXNbaV0udXNlcjtcbiAgICAgICAgY29uc3QgbGlzX2lkID0gbWVzc2FnZXNbaV0uTElTO1xuICAgICAgICBjb25zdCBzaG91bGRfZGlzcGxheV9tZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoY29udGV4dCA9PT0gXCJyZWdpb25cIiAmJiBtZXNzYWdlLm1lc3NhZ2UgJiYgbWVzc2FnZS5tc2d0eXBlICE9PSBcIkxJU19tZXNzYWdlX2NyZWF0ZWRcIikgfHxcbiAgICAgICAgICAgICAgICAoY29udGV4dCA9PT0gXCJsaXNcIiAmJiBtZXNzYWdlLm1lc3NhZ2UpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoc2hvdWxkX2Rpc3BsYXlfbWVzc2FnZShtZXNzYWdlc1tpXSkpIHtcbiAgICAgICAgICAgIGJveC5hcHBlbmRDaGlsZChjaGF0X2hlYWRlcik7XG4gICAgICAgICAgICBpZiAobWVzc2FnZXNbaV0uTElTKSB7XG4gICAgICAgICAgICAgICAgLy9UT0RPIHRoaXMgaWYgYmxvY2sgY2FuIGJlIHJlbW92ZWQgaWYgd2UgZG9uJ3QgY2FyZSBhbnltb3JlXG4gICAgICAgICAgICAgICAgLy8gYWJvdXQgdGhlIGNvcnJlY3QgcmVuZGVyaW5nIG9mIG9sZCBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICBsZXQgaWQgPSBtZXNzYWdlc1tpXS5MSVM7XG4gICAgICAgICAgICAgICAgLy8gcGxhY2UgbGluayBmb3IgdGhpcyBMSVNcbiAgICAgICAgICAgICAgICBsZXQgZGl2ID0gYWRkRWxlbShcImNoYXQtbWVzc2FnZVwiLCBcIlwiLCBib3gsIFwiRElWXCIpO1xuICAgICAgICAgICAgICAgIGxldCBhbmNvciA9IGFkZEVsZW0oXCJjaGF0LW1lc3NhZ2UtbGlua1wiLCBtZXNzYWdlc1tpXS5tZXNzYWdlLCBkaXYsIFwiQVwiKTtcbiAgICAgICAgICAgICAgICBhbmNvci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgXyA9PiB7IGhpZ2hsaWdodENDUChpZCk7IHJldHVybiBmYWxzZTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBjaGF0IG1lc3NhZ2UgaXRzZWxmXG4gICAgICAgICAgICAgICAgYWRkRWxlbShcImNoYXQtbWVzc2FnZVwiLCBtZXNzYWdlc1tpXS5tZXNzYWdlLCBib3gsIFwiRElWXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gUGVlayBhdCBuZXh0IG1lc3NhZ2VzLlxuICAgICAgICAgICAgLy8gTG9vayBmb3Igc2ltaWxhciBMSVMgbWVzc2FnZXMgdGhhdCBjYW4gYmUgZ3JvdXBlZCBpbnRvIGEgYmxvY2tcbiAgICAgICAgICAgIGxldCBibG9ja0xlbmd0aCA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBrID0gaTsgayA8IG1lc3NhZ2VzLmxlbmd0aCAmJiBsaXNfaWQ7IGsrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cl91c2VyX2lkID0gbWVzc2FnZXNba10udXNlcjtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJfbGlzX2lkID0gbWVzc2FnZXNba10uTElTO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1zZ3R5cGUgPSBtZXNzYWdlc1trXS5tc2d0eXBlO1xuICAgICAgICAgICAgICAgIGxldCBrX2RheSA9IGRhdGV0aW1lLnRvRGF0ZVN0cmluZygpO1xuICAgICAgICAgICAgICAgIGlmIChrX2RheSAhPSBjdXJfZGF5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdCBjcmVhdGUgYmxvY2tzIHNwYW5uaW5nIG92ZXIgbWlkbmlnaHRcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNob3VsZF9kaXNwbGF5X21lc3NhZ2UobWVzc2FnZXNba10pIHx8IG1zZ3R5cGUgPT09ICdMSVNfY3JlYXRlZCcgfHwgbXNndHlwZSA9PT0gJ0xJU19yZW1vdmVkJykge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VyX3VzZXJfaWQgPT0gdXNlcl9pZCAmJiBjdXJfbGlzX2lkID09IGxpc19pZCkge1xuICAgICAgICAgICAgICAgICAgICBibG9ja0xlbmd0aCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7IC8vIGxhc3QgbWVzc2FnZSB3aXRoIHNhbWUgdXNlciBhbmQgbGlzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJsb2NrTGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgICAgICBhZGRDaGF0RXZlbnRFbGVtZW50KG1lc3NhZ2VzW2ldLCBtZXNzYWdlc19vYmoudXNlcnMsIGJveCwgZ2V0VGltZUhNKGRhdGV0aW1lKSwgbGlzRGljdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgYmxvY2sgb2YgZXZlbnRzXG4gICAgICAgICAgICAgICAgbGV0IGJsb2NrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBibG9jay5jbGFzc0xpc3QuYWRkKCdjaGF0LWV2ZW50LWJsb2NrJyk7XG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLnN0eWxlLm1heEhlaWdodCA9ICcnICsgMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgbSA9IGk7IG0gPCBpICsgYmxvY2tMZW5ndGg7IG0rKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGR0ID0gbmV3IERhdGUobWVzc2FnZXNbbV0udGltZXN0YW1wICogMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRDaGF0RXZlbnRFbGVtZW50KG1lc3NhZ2VzW21dLCBtZXNzYWdlc19vYmoudXNlcnMsIGJsb2NrLCBnZXRUaW1lSE0oZHQpLCBsaXNEaWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgYmxvY2sgaGVhZGVyXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsaXMgPSBsaXNEaWN0W2xpc19pZF07XG4gICAgICAgICAgICAgICAgICAgIGxldCBsaXNfZWxlbTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzX2VsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdBJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXNfZWxlbS50ZXh0Q29udGVudCA9IGxpcy5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzX2VsZW0uY2xhc3NMaXN0LmFkZCgnY2hhdC1tZXNzYWdlLWxpbmsnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc19lbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBfID0+IHsgaGlnaGxpZ2h0Q0NQKGxpcy5pZCk7IHJldHVybiBmYWxzZTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXNfZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1NQQU4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc19lbGVtLnRleHRDb250ZW50ID0gXCJlaW5lbiBMYWRlc3RhbmRvcnRcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGl2ID0gYWRkRWxlbShcImNoYXQtZXZlbnRcIiwgXCJcIiwgYm94LCBcIkRJVlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdjaGF0LWV2ZW50LWJsb2NrLWhlYWRlcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IHVzZXJzW3VzZXJfaWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHVzZXIuZmlyc3RfbmFtZSArICcgJyArIHVzZXIubGFzdF9uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEVsZW0oXCJjaGF0LXVzZXJcIiwgdXNlcm5hbWUsIGRpdiwgXCJTUEFOXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEVsZW0oXCJcIiwgJyBoYXQgJywgZGl2LCBcIlNQQU5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobGlzX2VsZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkRWxlbShcIlwiLCAnIGVkaXRpZXJ0JywgZGl2LCBcIlNQQU5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdGltZSBzcGFuIChsYXN0IHRpbWVzdGFtcCBvZiBibG9jaylcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGR0IGlzIHN0aWxsIHNldCBmcm9tIGxvb3Bpbmcgb3ZlciBldmVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEVsZW0oXCJjaGF0LXRpbWVcIiwgJyAtICcgKyBnZXRUaW1lSE0oZHQpLCBkaXYsIFwiU1BBTlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b2dnbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdTUEFOJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGUuY2xhc3NMaXN0LmFkZCgnY2hhdC1ldmVudC1ibG9jay10b2dnbGUnLCAnYmxvY2staGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZCh0b2dnbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBfID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9nZ2xlLmNsYXNzTGlzdC5jb250YWlucygnYmxvY2staGlkZGVuJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlLmNsYXNzTGlzdC5yZW1vdmUoJ2Jsb2NrLWhpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jay5zdHlsZS5tYXhIZWlnaHQgPSBibG9jay5zY3JvbGxIZWlnaHQgKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2Jsb2NrLWhpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jay5zdHlsZS5tYXhIZWlnaHQgPSAnJyArIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYWRkIGJsb2NrIGFmdGVyIGhlYWRlclxuICAgICAgICAgICAgICAgIGJveC5hcHBlbmRDaGlsZChibG9jayk7XG4gICAgICAgICAgICAgICAgLy8gc2tpcCBtZXNzYWdlcyB0aGF0IGhhdmUgYmVlbiBwcm9jZXNzZWRcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2tMZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGkgKz0gYmxvY2tMZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjaGF0Ym94ZXMuYXBwZW5kQ2hpbGQoYm94KTtcbiAgICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBERUJVRywgfSBmcm9tIFwiLi9tYXBcIjtcbmltcG9ydCB7IHNob3dSZXN1bHQgfSBmcm9tIFwiLi9mZWF0dXJlc1wiO1xuaW1wb3J0IHsgcmVuZGVyQ2hhdCB9IGZyb20gXCIuL2NoYXRcIjtcbmltcG9ydCB7IGZldGNoUG9zdCwgZ2VvSlNPTmR1bXBzIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb21tZW50KGUpIHtcbiAgICAvLyBjcmVhdGUgbmV3IGNvbW1lbnQgaW4gYmFja2VuZFxuICAgIC8vIHBvcHVsYXRlIGZvcm1cbiAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29tbWVudF9mb3JtXCIpO1xuICAgIGZvcm0uY29tbWVudF9pZC52YWx1ZSA9IFwiXCI7XG4gICAgZm9ybS5jb21tZW50X21zZy52YWx1ZSA9IGdlb0pTT05kdW1wcyhlLmxhdGxuZyk7XG4gICAgZmV0Y2hQb3N0KCdjb21tZW50LycsICdjb21tZW50X2Zvcm0nLCAxMDAwMClcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pXG4gICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICBpZiAoZGF0YS5jb21tZW50KSB7XG4gICAgICAgICAgICBfcmVnaW9uLmNvbW1lbnQgPSBkYXRhLmNvbW1lbnQ7XG4gICAgICAgICAgICAvLyBkaXNwbGF5IGNvbW1lbnRzIChiZWNhdXNlIG9mIHJlamVjdERvdWJsZSwgb25seSBsYXN0IHdpbGwgYmUgYWRkZWQpXG4gICAgICAgICAgICBzaG93UmVzdWx0KGRhdGEpO1xuICAgICAgICAgICAgLy8gZ2V0IG5ldyBjb21tZW50IChsYXN0IGNvbW1lbnQgYWRkZWQpXG4gICAgICAgICAgICBsZXQgbnVtQ29tbWVudHMgPSBfY29tbWVudExheWVyLmdldExheWVycygpLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCBsYXN0Q29tbWVudCA9IF9jb21tZW50TGF5ZXIuZ2V0TGF5ZXJzKClbbnVtQ29tbWVudHMgLSAxXTtcbiAgICAgICAgICAgIC8vIG9wZW4gcG9wdXAgb2YgbmV3IGNvbW1lbnRcbiAgICAgICAgICAgIHVwZGF0ZUNvbW1lbnQobGFzdENvbW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGFsZXJ0KGRhdGEubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHJlbmRlckNvbW1lbnQoY29tbWVudF9pZCkge1xuICAgIHJlbmRlckNoYXQoX2NoYXRfbWVzc2FnZXMsICdjb21tZW50X2NoYXQnLCBjID0+IHsgcmV0dXJuIGMuY29tbWVudCA9PSBjb21tZW50X2lkOyB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDb21tZW50KGNvbW1lbnQpIHtcbiAgICBpZiAoIWNvbW1lbnQpXG4gICAgICAgIHJldHVybjtcbiAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29tbWVudF9mb3JtXCIpO1xuICAgIGZvcm0uY29tbWVudF9pZC52YWx1ZSA9IGNvbW1lbnQucHJvcGVydGllcy5pZDtcbiAgICBmb3JtLmNvbW1lbnRfbXNnLnZhbHVlID0gXCJcIjtcbiAgICByZW5kZXJDb21tZW50KGNvbW1lbnQucHJvcGVydGllcy5pZCk7XG4gICAgJCgnI2NvbW1lbnRfbW9kYWwnKS5mb3VuZGF0aW9uKCdvcGVuJyk7XG4gICAgZm9ybS5jb21tZW50X21zZy5mb2N1cygpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUNvbW1lbnRSZWZyZXNoKCkge1xuICAgIC8vIGZldGNoIFBPU1QgcmVxdWVzdCB3aXRoIGVtcHR5IG1lc3NhZ2UgdG8gcmVmcmVzaCB0aGUgY2hhdFxuICAgIGxldCBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tbWVudF9yZWZyZXNoX2J0bicpO1xuICAgIGxldCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbW1lbnRfZm9ybScpO1xuICAgIGlmICghYnV0dG9uIHx8ICFmb3JtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IG9sZE1zZyA9IGZvcm0uY29tbWVudF9tc2cudmFsdWU7XG4gICAgZm9ybS5jb21tZW50X21zZy52YWx1ZSA9IFwiXCI7XG4gICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBmZXRjaFBvc3QoJ2NvbW1lbnQvJywgXCJjb21tZW50X2Zvcm1cIiwgNTAwMClcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgICAudGhlbihtc2cgPT4ge1xuICAgICAgICBpZiAobXNnLmNvbW1lbnQpIHtcbiAgICAgICAgICAgIF9yZWdpb24uY29tbWVudCA9IG1zZy5jb21tZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChtc2cubWVzc2FnZXMpIHtcbiAgICAgICAgICAgIF9jaGF0X21lc3NhZ2VzID0gbXNnLm1lc3NhZ2VzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29tbWVudF9pZFwiKTtcbiAgICAgICAgcmVuZGVyQ29tbWVudChjaWQudmFsdWUpO1xuICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICBpZiAoREVCVUcpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9KTtcbiAgICBmb3JtLmNvbW1lbnRfbXNnLnZhbHVlID0gb2xkTXNnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUNvbW1lbnRTdWJtaXQoKSB7XG4gICAgZmV0Y2hQb3N0KCdjb21tZW50LycsIFwiY29tbWVudF9mb3JtXCIsIDUwMDApXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgICAgLnRoZW4obXNnID0+IHtcbiAgICAgICAgaWYgKG1zZy5jb21tZW50KSB7XG4gICAgICAgICAgICBfcmVnaW9uLmNvbW1lbnQgPSBtc2cuY29tbWVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobXNnLm1lc3NhZ2VzKSB7XG4gICAgICAgICAgICBfY2hhdF9tZXNzYWdlcyA9IG1zZy5tZXNzYWdlcztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbW1lbnRfaWRcIik7XG4gICAgICAgIHJlbmRlckNvbW1lbnQoY2lkLnZhbHVlKTtcbiAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KS5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb21tZW50X21zZ1wiKS52YWx1ZSA9IFwiXCI7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlQ29tbWVudCh0YXJnZXQpIHtcbiAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29tbWVudF9mb3JtXCIpO1xuICAgIGZvcm0uY29tbWVudF9pZC52YWx1ZSA9IC10YXJnZXQucHJvcGVydGllcy5pZDtcbiAgICBmZXRjaFBvc3QoJ2NvbW1lbnQvJywgJ2NvbW1lbnRfZm9ybScsIDEwMDAwKS50aGVuKF8gPT4ge1xuICAgICAgICB0YXJnZXQucmVtb3ZlKCk7XG4gICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiByZW5kZXJEZWJ1Z0luZm8oKSB7XG4gICAgbGV0IHRhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlYnVnX2luZm9fdGV4dGFyZWEnKTtcbiAgICBpZiAodGEpIHtcbiAgICAgICAgdGEudmFsdWUgPSBKU09OLnN0cmluZ2lmeShfZGVidWdfaW5mbywgbnVsbCwgNCk7XG4gICAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuLy8od2luZG93IGFzIGFueSkuJCA9ICQ7XG5pbXBvcnQgeyBDT0xPUlMsIFxuLy9ERUJVRyxcbk1BWF9aT09NLCBIQVNfVE9VQ0gsIH0gZnJvbSBcIi4vbWFwXCI7XG5pbXBvcnQgeyBnZXRMYXllckZyb21OYW1lIH0gZnJvbSBcIi4vbGF5ZXJcIjtcbmltcG9ydCB7IGFkZEN1c3RvbUNQQ2FsbGJhY2ssIGFkZEN1c3RvbUNQVG9NYXAsIGFkZFNlYXJjaFBvbHksIHJlbW92ZVNlYXJjaFBvbHksIHJlbW92ZUN1c3RvbUNQQ2FsbGJhY2ssIH0gZnJvbSBcIi4vbGlzX21vZGFsXCI7XG5pbXBvcnQgeyB1cGRhdGVDb21tZW50LCBkZWxldGVDb21tZW50LCB9IGZyb20gXCIuL2NvbW1lbnRfbW9kYWxcIjtcbmltcG9ydCB7IGFkZEVsZW0sIGNvbG9ybWFwVG9HcmFkaWVudCwgZXNjYXBlQ3N2U3RyaW5nVWdseSwgbWV0ZXJzSW5QaXhlbHMsIHN0cmluZ1RvRmlsZU5hbWUsIH0gZnJvbSBcIi4vdXRpbHNcIjtcbi8vIHN3YXAgaXRlbXMgaW4gdHdvLWl0ZW0gYXJyYXlcbmZ1bmN0aW9uIHN3YXAodHVwbGUpIHtcbiAgICBpZiAodHVwbGUubGVuZ3RoICE9IDIpXG4gICAgICAgIHJldHVybjtcbiAgICBsZXQgdG1wID0gdHVwbGVbMF07XG4gICAgdHVwbGVbMF0gPSB0dXBsZVsxXTtcbiAgICB0dXBsZVsxXSA9IHRtcDtcbn1cbi8vIGxuZ2xhdCA8LT4gbGF0bG5nXG5leHBvcnQgZnVuY3Rpb24gcmV2ZXJzZUNvb3JkaW5hdGVzKGdlb20pIHtcbiAgICBpZiAoIWdlb20gfHwgIWdlb20udHlwZSB8fCAhZ2VvbS5jb29yZGluYXRlcylcbiAgICAgICAgcmV0dXJuIGdlb207XG4gICAgLy8gZGVwZW5kcyBvbiBnZW9tZXRyeSB0eXBlXG4gICAgc3dpdGNoIChnZW9tLnR5cGUpIHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVbmtub3duIGdlb21ldHJ5IHR5cGUgZGV0ZWN0ZWQ6IFwiJyArIGdlb20udHlwZSArICdcIi4gUmV2ZXJ0aW5nIHRvIFBvaW50LicpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZ2VvbSk7XG4gICAgICAgICAgICBzd2FwKGdlb20uY29vcmRpbmF0ZXMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1BvaW50JzpcbiAgICAgICAgICAgIHN3YXAoZ2VvbS5jb29yZGluYXRlcyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTGluZVN0cmluZyc6XG4gICAgICAgIGNhc2UgJ011bHRpUG9pbnQnOlxuICAgICAgICAgICAgZ2VvbS5jb29yZGluYXRlcy5tYXAoY29vcmRzID0+IHsgc3dhcChjb29yZHMpOyB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdQb2x5Z29uJzpcbiAgICAgICAgY2FzZSAnTXVsdGlMaW5lU3RyaW5nJzpcbiAgICAgICAgICAgIGdlb20uY29vcmRpbmF0ZXMubWFwKG5vZGUgPT4ge1xuICAgICAgICAgICAgICAgIG5vZGUubWFwKGNvb3JkcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN3YXAoY29vcmRzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ011bHRpUG9seWdvbic6XG4gICAgICAgICAgICBnZW9tLmNvb3JkaW5hdGVzLm1hcChwb2x5Z29uID0+IHtcbiAgICAgICAgICAgICAgICBwb2x5Z29uLm1hcChub2RlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5tYXAoY29vcmRzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3YXAoY29vcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gZ2VvbTtcbn1cbi8qKioqKioqKioqKioqKioqKioqKioqKiogZ2VvSlNPTiAqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiBTaG93IGRhdGEgb24gbWFwLlxuICAgIGRhdGE6IG9iamVjdCB3aXRoIEpTT04tYXJyYXkgZW50cmllcywgdXN1YWxseSBhcyBjb21wdXRhdGlvbiByZXN1bHRcbiAgICBwYXJhbXM6IG9wdGlvbmFsIGZvcm0gcGFyYW1ldGVyXG4gICAgICAgIC0gcmFkaXVzOiBhcnJheSB3aXRoIHJhZGl1cyBmcm9tIGZvcm0gLSBbYXJlYSwgZGVtYW5kXVxuICAgICAgICAtIGljb246IHBhdGggdG8gaW1hZ2UgdG8gZGlzcGxheSBvbiBtYXAvbGVnZW5kLiBtYXkgYmUgYXJyYXkgd2l0aCBzZWNvbmQgZWxlbWVudCBhcyBzaGFkb3dcbiovXG5leHBvcnQgZnVuY3Rpb24gc2hvd1Jlc3VsdChkYXRhKSB7XG4gICAgLy8gZGVmYXVsdCB2YWx1ZXNcbiAgICBsZXQgcGFyYW1zID0gZGF0YS5wYXJhbXMgfHwge307XG4gICAgaWYgKGRhdGEucG90ZW50aWFsKSAvLyB1cGRhdGUgaGVhdCBsYXllclxuICAgICAgICBfaGVhdExheWVyID0gc2hvd0RhdGEob2JqMkZlYXR1cmVBcnJheShkYXRhLnBvdGVudGlhbCksIHtcbiAgICAgICAgICAgIG5hbWU6ICdQb3RlbnppYWwnLFxuICAgICAgICAgICAgaGVhdDogJ2ludCcsXG4gICAgICAgICAgICByYWRpdXM6IHBhcmFtcy5yYWRpdXNcbiAgICAgICAgfSk7XG4gICAgaWYgKGRhdGEuTElTKVxuICAgICAgICBzaG93RGF0YShvYmoyRmVhdHVyZUFycmF5KGRhdGEuTElTKSwge1xuICAgICAgICAgICAgbmFtZTogJ0Jlc3RhbmRzLUxJUycsXG4gICAgICAgICAgICBmaXQ6ICghZGF0YS5ib3JkZXIpICYmICghZGF0YS5QT0lfY292ZXJhZ2UpICYmICghZGF0YS5QT0lfZGVtYW5kKSxcbiAgICAgICAgICAgIGNvbG9yOiBDT0xPUlMuTElTLFxuICAgICAgICAgICAgY2x1c3RlcmVkOiB0cnVlLFxuICAgICAgICAgICAgY2x1c3RlckNsYXNzOiAnbWFya2VyLWNsdXN0ZXItbGlzJyxcbiAgICAgICAgICAgIGNsdXN0ZXJQb2x5Q29sb3I6IENPTE9SUy5MSVMsXG4gICAgICAgICAgICAvL3JhZGl1czogcGFyYW1zLnJhZGl1cyxcbiAgICAgICAgICAgIHJlamVjdERvdWJsZXM6ICdpZCcsXG4gICAgICAgICAgICByZWplY3REb3VibGVSYWRpdXM6ICdpZCcsXG4gICAgICAgICAgICBpY29uOiBbX21hcEljb25QYXRocy5leF9MSVMsIF9tYXBJY29uUGF0aHMuc2hhZG93XVxuICAgICAgICB9KTtcbiAgICBpZiAoZGF0YS5QT0lfZGVtYW5kICYmIGRhdGEuUE9JX2RlbWFuZC5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vbGV0IG9yZGVyZWQgPSBkYXRhLlBPSV9kZW1hbmQuc29ydCgoYSxiKSA9PiB7cmV0dXJuIGEub3JkZXIgPiBiLm9yZGVyO30pO1xuICAgICAgICBzaG93RGF0YShvYmoyRmVhdHVyZUFycmF5KGRhdGEuUE9JX2RlbWFuZCksIHtcbiAgICAgICAgICAgIG5hbWU6ICdTdWNocsOkdW1lJyxcbiAgICAgICAgICAgIGZpdDogIWRhdGEuYm9yZGVyLFxuICAgICAgICAgICAgY29sb3I6IENPTE9SUy5wcm9wb3NlZCxcbiAgICAgICAgICAgIGNsdXN0ZXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIGNsdXN0ZXJDbGFzczogJ21hcmtlci1jbHVzdGVyLXBvaS1kZW1hbmQnLFxuICAgICAgICAgICAgY2x1c3RlclBvbHlDb2xvcjogQ09MT1JTLnByb3Bvc2VkLFxuICAgICAgICAgICAgY3VzdG9tQ1A6IHRydWUsXG4gICAgICAgICAgICByYWRpdXM6IC1wYXJhbXMucmFkaXVzLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGRhdGEucmVjb21tZW5kICYmIGRhdGEucmVjb21tZW5kLmxlbmd0aCA+IDApIHtcbiAgICAgICAgc2hvd0RhdGEob2JqMkZlYXR1cmVBcnJheShkYXRhLnJlY29tbWVuZCksIHtcbiAgICAgICAgICAgIG5hbWU6ICdWb3JzY2hsw6RnZScsXG4gICAgICAgICAgICBmaXQ6IGZhbHNlLFxuICAgICAgICAgICAgY29sb3I6IENPTE9SUy5wcm9wb3NlZCxcbiAgICAgICAgICAgIGNsdXN0ZXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIGNsdXN0ZXJDbGFzczogJ21hcmtlci1jbHVzdGVyLXBvaS1kZW1hbmQnLFxuICAgICAgICAgICAgY2x1c3RlclBvbHlDb2xvcjogQ09MT1JTLnByb3Bvc2VkLFxuICAgICAgICAgICAgY3VzdG9tQ1A6IHRydWUsXG4gICAgICAgICAgICBpY29uOiBbX21hcEljb25QYXRocy5ub3JtYWxfcHJvcG9zZWQsIF9tYXBJY29uUGF0aHMuc2hhZG93XVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGRhdGEuY3VzdG9tTElTKSB7IC8vIHVwZGF0ZSBtYXJrZXIgbGF5ZXJcbiAgICAgICAgX21hcmtlckxheWVyID0gc2hvd0RhdGEob2JqMkZlYXR1cmVBcnJheShkYXRhLmN1c3RvbUxJUyksIHtcbiAgICAgICAgICAgIG5hbWU6IFwiTWVpbmUgTGFkZXN0YW5kb3J0ZVwiLFxuICAgICAgICAgICAgZml0OiBmYWxzZSxcbiAgICAgICAgICAgIGNvbG9yOiBDT0xPUlMuUE9JX2N1c3RvbSxcbiAgICAgICAgICAgIGNsdXN0ZXJlZDogdHJ1ZSxcbiAgICAgICAgICAgIGNsdXN0ZXJDbGFzczogJ21hcmtlci1jbHVzdGVyLXBvaS1jdXN0b20nLFxuICAgICAgICAgICAgY2x1c3RlclBvbHlDb2xvcjogQ09MT1JTLlBPSV9jdXN0b20sXG4gICAgICAgICAgICBjdXN0b21DUDogdHJ1ZSxcbiAgICAgICAgICAgIHJlamVjdERvdWJsZXM6ICdpZCcsXG4gICAgICAgICAgICBkaXZJY29uRnVuYzogJ2N1c3RvbV9jcCcsXG4gICAgICAgICAgICBtYXJrZXJHcm91cDogX21hcmtlckxheWVyLFxuICAgICAgICAgICAgaWNvbjogW19tYXBJY29uUGF0aHMuQ0NQLCBfbWFwSWNvblBhdGhzLkNDUF9sb2NrZWQsIF9tYXBJY29uUGF0aHMuc2hhZG93XVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGRhdGEuY29tbWVudClcbiAgICAgICAgc2hvd0RhdGEob2JqMkZlYXR1cmVBcnJheShkYXRhLmNvbW1lbnQpLCB7XG4gICAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgICAgZml0OiBmYWxzZSxcbiAgICAgICAgICAgIGNsdXN0ZXJlZDogZmFsc2UsXG4gICAgICAgICAgICBjb21tZW50OiB0cnVlLFxuICAgICAgICAgICAgbWFya2VyR3JvdXA6IF9jb21tZW50TGF5ZXIsXG4gICAgICAgICAgICByZWplY3REb3VibGVzOiAnaWQnLFxuICAgICAgICAgICAgaWNvbjogeyBmaWxlOiBfbWFwSWNvblBhdGhzLmRvdCwgaGVpZ2h0OiAyMCwgd2lkdGg6IDIwIH1cbiAgICAgICAgfSk7XG4gICAgaWYgKGRhdGEucGFyYW1zICYmIGRhdGEucGFyYW1zLnJlc3RyaWN0ZWQgJiYgZGF0YS5wYXJhbXMucmVzdHJpY3RlZC5sZW5ndGggPiAwKVxuICAgICAgICBzaG93RGF0YShvYmoyRmVhdHVyZUFycmF5KGRhdGEucGFyYW1zLnJlc3RyaWN0ZWQpLCB7XG4gICAgICAgICAgICBuYW1lOiAnVmVyYm90ZW5lIFpvbmVuJyxcbiAgICAgICAgICAgIGZpdDogZmFsc2UsXG4gICAgICAgICAgICBjb2xvcjogQ09MT1JTLnJlc3RyaWN0ZWQsXG4gICAgICAgICAgICByZWplY3REb3VibGVzOiAnaWQnLFxuICAgICAgICAgICAgcmVzdHJpY3RlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICBpZiAoZGF0YS5ldmFsdWF0aW9uKVxuICAgICAgICBzaG93RXZhbHVhdGlvbihvYmoyRmVhdHVyZUFycmF5KGRhdGEuZXZhbHVhdGlvblswXSlbMF0pO1xufVxuLy8gQ29udmVydCAoZ2VvKUpTT04gb2JqZWN0IHRvIGFycmF5IG9mIGZlYXR1cmVzIHdpdGggZ2VvbWV0cnkgYW5kIHByb3BlcnRpZXMgbWVtYmVyc1xuZXhwb3J0IGZ1bmN0aW9uIG9iajJGZWF0dXJlQXJyYXkob2JqKSB7XG4gICAgLy9pZighKG9iaiBpbnN0YW5jZW9mIEFycmF5KSl7XG4gICAgaWYgKCEob2JqLmxlbmd0aCA+PSAwKSkge1xuICAgICAgICBvYmogPSBbb2JqXTtcbiAgICB9XG4gICAgbGV0IGZlYXR1cmVzID0gb2JqLm1hcChvID0+IHtcbiAgICAgICAgLy8gYnVpbGQgZmVhdHVyZVxuICAgICAgICBsZXQgZmVhdHVyZSA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdGZWF0dXJlJyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICB9O1xuICAgICAgICAvL2lmKG8gaW5zdGFuY2VvZiBPYmplY3QpeyAvLyBPYmplY3RzIG1heSBjb21lIGZyb20gZm9ybSAtPiBvYmplY3QtbGlrZS4gSG9wZSBmb3IgdGhlIGJlc3QuXG4gICAgICAgIGZvciAobGV0IGtleSBpbiBvKSB7XG4gICAgICAgICAgICBpZiAoIW8uaGFzT3duUHJvcGVydHkoa2V5KSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gc2tpcCBwcm90b3R5cGUgcHJvcGVydGllc1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gXCJnZW9tXCIpXG4gICAgICAgICAgICAgICAgZmVhdHVyZS5nZW9tZXRyeSA9IG8uZ2VvbTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBmZWF0dXJlLnByb3BlcnRpZXNba2V5XSA9IG9ba2V5XTtcbiAgICAgICAgfVxuICAgICAgICAvL31cbiAgICAgICAgcmV2ZXJzZUNvb3JkaW5hdGVzKGZlYXR1cmUuZ2VvbWV0cnkpO1xuICAgICAgICByZXR1cm4gZmVhdHVyZTtcbiAgICB9KTtcbiAgICByZXR1cm4gZmVhdHVyZXM7XG59XG4vLyBDcmVhdGUgYSBDdXN0b20gQ1AgSWNvblxuLy8gSXRzIGRpZmZlcmVudCBwYXJ0cyAoaW1hZ2UsIHNoYWRvdywgbnVtYmVyKSBjYW4gYmUgYWNjZXNzZWQgYnkgY2xhc3Nlcy5cbmZ1bmN0aW9uIGNyZWF0ZUN1c3RvbUNQSWNvbihsYXllck9wdGlvbnMsIGZlYXR1cmUpIHtcbiAgICBsZXQgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxldCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAvL2ltZy5zcmMgPSBmZWF0dXJlLnByb3BlcnRpZXMubG9ja2VkPyBsYXllck9wdGlvbnMuaWNvblsxXSA6IGxheWVyT3B0aW9ucy5pY29uWzBdO1xuICAgIGltZy5zcmMgPSBsYXllck9wdGlvbnMuaWNvbltmZWF0dXJlLnByb3BlcnRpZXMubG9ja2VkICsgMF07XG4gICAgaW1nLndpZHRoID0gNDA7XG4gICAgaW1nLmhlaWdodCA9IDMzO1xuICAgIGxldCBzaGFkb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBzaGFkb3cuc3JjID0gX21hcEljb25QYXRocy5zaGFkb3c7XG4gICAgLy9pZiAoZmVhdHVyZS5wcm9wZXJ0aWVzLnBvd2VyX3RhYmxlKXtcbiAgICAvL2xldCBudW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAvL251bS50ZXh0Q29udGVudCA9IGZlYXR1cmUucHJvcGVydGllcy5wb3dlcl90YWJsZS5yZWR1Y2UoKGEsYykgPT4gYStjLmNvdW50LCAwKTtcbiAgICAvL251bS5jbGFzc0xpc3QuYWRkKCdjdXN0b20tY3AtaWNvbi1udW1iZXInKTtcbiAgICAvL2ljb24uYXBwZW5kQ2hpbGQobnVtKTtcbiAgICAvL31cbiAgICBpY29uLmFwcGVuZENoaWxkKHNoYWRvdyk7XG4gICAgaWNvbi5hcHBlbmRDaGlsZChpbWcpO1xuICAgIC8vIENTUyBjbGFzc2VzXG4gICAgaW1nLmNsYXNzTGlzdC5hZGQoJ2N1c3RvbS1jcC1pY29uLWltZycpO1xuICAgIHNoYWRvdy5jbGFzc0xpc3QuYWRkKCdjdXN0b20tY3AtaWNvbi1zaGFkb3cnKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBodG1sOiBpY29uLFxuICAgICAgICBjbGFzc05hbWU6IFwiY3VzdG9tLWNwLWljb25cIixcbiAgICAgICAgaWNvblNpemU6IFs0MCwgMzNdLFxuICAgICAgICBpY29uQW5jaG9yOiBbMjAsIDMzXSxcbiAgICAgICAgcG9wdXBBbmNob3I6IFswLCAtMjVdLFxuICAgIH07XG4gICAgLy9yZXR1cm4ge2h0bWw6IGljb24sIGNsYXNzTmFtZTogXCJjdXN0b20tY3AtaWNvblwifTtcbn1cbi8vIENyZWF0ZSBhIEV4aXN0aW5nIExJUyBJY29uXG4vLyBJdHMgZGlmZmVyZW50IHBhcnRzIChpbWFnZSwgc2hhZG93LCBudW1iZXIpIGNhbiBiZSBhY2Nlc3NlZCBieSBjbGFzc2VzLlxuZnVuY3Rpb24gY3JlYXRlRXhpc3RpbmdMSVNJY29uKF9sYXllck9wdGlvbnMsIGZlYXR1cmUpIHtcbiAgICBsZXQgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxldCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzLnBvd2VyIDwgMjIuMCkge1xuICAgICAgICBpbWcuc3JjID0gX0FIUEZvbGRlciArIFwicmVzb3VyY2VzL0ljb25fZXhpc3RpbmdfbG93X3Bvd2VyLnN2Z1wiO1xuICAgIH1cbiAgICBlbHNlIGlmIChmZWF0dXJlLnByb3BlcnRpZXMucG93ZXIgPD0gNzUuMCkge1xuICAgICAgICBpbWcuc3JjID0gX0FIUEZvbGRlciArIFwicmVzb3VyY2VzL0ljb25fZXhpc3RpbmdfbWVkaXVtX3Bvd2VyLnN2Z1wiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaW1nLnNyYyA9IF9BSFBGb2xkZXIgKyBcInJlc291cmNlcy9JY29uX2V4aXN0aW5nX2hpZ2hfcG93ZXIuc3ZnXCI7XG4gICAgfVxuICAgIGltZy53aWR0aCA9IDM3O1xuICAgIGltZy5oZWlnaHQgPSA0NTtcbiAgICBsZXQgc2hhZG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgc2hhZG93LnNyYyA9IF9tYXBJY29uUGF0aHMuc2hhZG93O1xuICAgIGxldCBudW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBudW0udGV4dENvbnRlbnQgPSBmZWF0dXJlLnByb3BlcnRpZXMuY291bnQgfHwgJ/Cfl7InO1xuICAgIGljb24uYXBwZW5kQ2hpbGQoc2hhZG93KTtcbiAgICBpY29uLmFwcGVuZENoaWxkKGltZyk7XG4gICAgaWNvbi5hcHBlbmRDaGlsZChudW0pO1xuICAgIC8vIENTUyBjbGFzc2VzXG4gICAgaW1nLmNsYXNzTGlzdC5hZGQoJ2V4aXN0aW5nLWxpcy1pY29uLWltZycpO1xuICAgIHNoYWRvdy5jbGFzc0xpc3QuYWRkKCdleGlzdGluZy1saXMtaWNvbi1zaGFkb3cnKTtcbiAgICBudW0uY2xhc3NMaXN0LmFkZCgnZXhpc3RpbmctbGlzLWljb24tbnVtYmVyJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaHRtbDogaWNvbixcbiAgICAgICAgY2xhc3NOYW1lOiBcImV4aXN0aW5nLWxpcy1pY29uXCIsXG4gICAgICAgIGljb25TaXplOiBbMzcsIDQ1XSxcbiAgICAgICAgaWNvbkFuY2hvcjogWzM3ICogMC41LCA0NV0sXG4gICAgICAgIHBvcHVwQW5jaG9yOiBbMCwgLTQ1XSxcbiAgICB9O1xufVxuLy8gQ3JlYXRlIGFuIEgyIG9yZGVyIGljb24uXG4vLyBJdHMgZGlmZmVyZW50IHBhcnRzIChzaGFkb3csIGJhc2VfaW1hZ2UsIGltYWdlLCAuLi4pIGNhbiBiZSBhY2Nlc3NlZCBieSBjbGFzc2VzLlxuZnVuY3Rpb24gY3JlYXRlSDJPcmRlckljb24oX2xheWVyT3B0aW9ucywgZmVhdHVyZSkge1xuICAgIGxldCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbGV0IG9yZGVyID0gZmVhdHVyZS5wcm9wZXJ0aWVzO1xuICAgIGxldCBiYXNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgYmFzZS5zcmMgPSBfQUhQRm9sZGVyICsgXCJyZXNvdXJjZXMvSWNvbl9oMm9yZGVyLnN2Z1wiO1xuICAgIGJhc2Uud2lkdGggPSAzNztcbiAgICBiYXNlLmhlaWdodCA9IDQ1O1xuICAgIGxldCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBpbWcuc3JjID0gb3JkZXIuaWNvbi5maWxlO1xuICAgIGltZy53aWR0aCA9IG9yZGVyLmljb24ud2lkdGg7XG4gICAgaW1nLmhlaWdodCA9IG9yZGVyLmljb24uaGVpZ2h0O1xuICAgIGxldCBzaGFkb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICBzaGFkb3cuc3JjID0gX21hcEljb25QYXRocy5zaGFkb3c7XG4gICAgbGV0IHR5cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGlmIChvcmRlci5vcmRlcl90eXBlID09IDEpIHtcbiAgICAgICAgdHlwLmNsYXNzTGlzdC5hZGQoJ2gyb3JkZXItaWNvbi10eXAtYnV5Jyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG9yZGVyLm9yZGVyX3R5cGUgPT0gMikge1xuICAgICAgICB0eXAuY2xhc3NMaXN0LmFkZCgnaDJvcmRlci1pY29uLXR5cC1zZWxsJyk7XG4gICAgfVxuICAgIGljb24uYXBwZW5kQ2hpbGQoc2hhZG93KTtcbiAgICBpY29uLmFwcGVuZENoaWxkKGJhc2UpO1xuICAgIGljb24uYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICBpY29uLmFwcGVuZENoaWxkKHR5cCk7XG4gICAgLy8gQ1NTIGNsYXNzZXNcbiAgICBzaGFkb3cuY2xhc3NMaXN0LmFkZCgnaDJvcmRlci1pY29uLXNoYWRvdycpO1xuICAgIGJhc2UuY2xhc3NMaXN0LmFkZCgnaDJvcmRlci1pY29uLWJhc2UnKTtcbiAgICBpbWcuY2xhc3NMaXN0LmFkZCgnaDJvcmRlci1pY29uLWltZycpO1xuICAgIHR5cC5jbGFzc0xpc3QuYWRkKCdoMm9yZGVyLWljb24tdHlwJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaHRtbDogaWNvbixcbiAgICAgICAgY2xhc3NOYW1lOiBcImgyb3JkZXItaWNvblwiLFxuICAgICAgICBpY29uU2l6ZTogWzM3LCA0NV0sXG4gICAgICAgIGljb25BbmNob3I6IFszNyAqIDAuNSwgNDVdLFxuICAgICAgICBwb3B1cEFuY2hvcjogWzAsIC00NV0sXG4gICAgfTtcbn1cbi8vIENyZWF0ZSBhIGZ1bmRlZCBMSVMgSWNvblxuLy8gSXRzIGRpZmZlcmVudCBwYXJ0cyAoaW1hZ2UsIHNoYWRvdykgY2FuIGJlIGFjY2Vzc2VkIGJ5IGNsYXNzZXMuXG5mdW5jdGlvbiBjcmVhdGVGdW5kZWRMaXNDb2xvckljb24oX2xheWVyT3B0aW9ucywgZmVhdHVyZSwgY29sb3JfbmFtZSkge1xuICAgIGxldCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbGV0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgIGlmIChmZWF0dXJlLnByb3BlcnRpZXMubHBUeXAgPT09ICdOTFAnKSB7XG4gICAgICAgIGltZy5zcmMgPSBfQUhQRm9sZGVyICsgXCJyZXNvdXJjZXMvSWNvbl9mdW5kZWRfXCIgKyBjb2xvcl9uYW1lICsgXCJfbi5zdmdcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzLmxwVHlwID09PSAnU0xQMScpIHtcbiAgICAgICAgaW1nLnNyYyA9IF9BSFBGb2xkZXIgKyBcInJlc291cmNlcy9JY29uX2Z1bmRlZF9cIiArIGNvbG9yX25hbWUgKyBcIl9zMS5zdmdcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzLmxwVHlwID09PSAnU0xQMicpIHtcbiAgICAgICAgaW1nLnNyYyA9IF9BSFBGb2xkZXIgKyBcInJlc291cmNlcy9JY29uX2Z1bmRlZF9cIiArIGNvbG9yX25hbWUgKyBcIl9zMi5zdmdcIjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGltZy5zcmMgPSBfQUhQRm9sZGVyICsgXCJyZXNvdXJjZXMvSWNvbl9leGlzdGluZ19sb3dfcG93ZXIuc3ZnXCI7XG4gICAgfVxuICAgIGltZy53aWR0aCA9IDM3O1xuICAgIGltZy5oZWlnaHQgPSA0NTtcbiAgICBsZXQgc2hhZG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgc2hhZG93LnNyYyA9IF9tYXBJY29uUGF0aHMuc2hhZG93O1xuICAgIGljb24uYXBwZW5kQ2hpbGQoc2hhZG93KTtcbiAgICBpY29uLmFwcGVuZENoaWxkKGltZyk7XG4gICAgLy8gQ1NTIGNsYXNzZXNcbiAgICBpbWcuY2xhc3NMaXN0LmFkZCgnZXhpc3RpbmctbGlzLWljb24taW1nJyk7XG4gICAgc2hhZG93LmNsYXNzTGlzdC5hZGQoJ2V4aXN0aW5nLWxpcy1pY29uLXNoYWRvdycpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGh0bWw6IGljb24sXG4gICAgICAgIGNsYXNzTmFtZTogXCJleGlzdGluZy1saXMtaWNvblwiLFxuICAgICAgICBpY29uU2l6ZTogWzM3LCA0NV0sXG4gICAgICAgIGljb25BbmNob3I6IFszNyAqIDAuNSwgNDVdLFxuICAgICAgICBwb3B1cEFuY2hvcjogWzAsIC00NV0sXG4gICAgfTtcbn1cbi8vIENyZWF0ZSBhIGZ1bmRlZCBMSVMgSWNvblxuZnVuY3Rpb24gY3JlYXRlRnVuZGVkTGlzR3JlZW5JY29uKF9sYXllck9wdGlvbnMsIGZlYXR1cmUpIHtcbiAgICByZXR1cm4gY3JlYXRlRnVuZGVkTGlzQ29sb3JJY29uKF9sYXllck9wdGlvbnMsIGZlYXR1cmUsICdncmVlbicpO1xufVxuLy8gQ3JlYXRlIGEgZnVuZGVkIExJUyBJY29uXG5mdW5jdGlvbiBjcmVhdGVGdW5kZWRMaXNSZWRJY29uKF9sYXllck9wdGlvbnMsIGZlYXR1cmUpIHtcbiAgICByZXR1cm4gY3JlYXRlRnVuZGVkTGlzQ29sb3JJY29uKF9sYXllck9wdGlvbnMsIGZlYXR1cmUsICdyZWQnKTtcbn1cbi8vIENyZWF0ZSBhIGZ1bmRlZCBMSVMgSWNvblxuZnVuY3Rpb24gY3JlYXRlRnVuZGVkTGlzQmx1ZUljb24oX2xheWVyT3B0aW9ucywgZmVhdHVyZSkge1xuICAgIHJldHVybiBjcmVhdGVGdW5kZWRMaXNDb2xvckljb24oX2xheWVyT3B0aW9ucywgZmVhdHVyZSwgJ2JsdWUnKTtcbn1cbi8vIFNlbGVjdCBhIHN1aXRhYmxlIGZ1bmN0aW9uIHRvIGRyYXcgYSBESVYgaWNvblxuZnVuY3Rpb24gZ2V0RGl2SWNvbkZ1bmMoZnVuY19pZCkge1xuICAgIGlmIChmdW5jX2lkID09IFwiZXhpc3RpbmdfbGlzXCIpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUV4aXN0aW5nTElTSWNvbjtcbiAgICB9XG4gICAgZWxzZSBpZiAoZnVuY19pZCA9PSBcImN1c3RvbV9jcFwiKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVDdXN0b21DUEljb247XG4gICAgfVxuICAgIGVsc2UgaWYgKGZ1bmNfaWQgPT0gXCJoMm9yZGVyXCIpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUgyT3JkZXJJY29uO1xuICAgIH1cbiAgICBlbHNlIGlmIChmdW5jX2lkID09IFwiZnVuZGVkX2xpc19ncmVlblwiKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVGdW5kZWRMaXNHcmVlbkljb247XG4gICAgfVxuICAgIGVsc2UgaWYgKGZ1bmNfaWQgPT0gXCJmdW5kZWRfbGlzX3JlZFwiKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVGdW5kZWRMaXNSZWRJY29uO1xuICAgIH1cbiAgICBlbHNlIGlmIChmdW5jX2lkID09IFwiZnVuZGVkX2xpc19ibHVlXCIpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZ1bmRlZExpc0JsdWVJY29uO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcImRpdiBpY29uIGZ1bmMgbm90IGZvdW5kOiBcIiArIGZ1bmNfaWQpO1xuICAgIHJldHVybiBudWxsO1xufVxuLyogIGRpc3BsYXkgZmVhdHVyZSBjb2xsZWN0aW9uIG9uIG1hcFxuXG4gICAgaW5wdXQ6XG4gICAgZGF0YTogYXJyYXkgb2YgZmVhdHVyZXMuXG4gICAgRWFjaCBmZWF0dXJlIGNvbnRhaW5zOlxuICAgICAgICAtIHR5cGU6IGlnbm9yZWQgKFsnRmVhdHVyZSddKVxuICAgICAgICAtIGdlb21ldHJ5XG4gICAgICAgICAgICAtIGNvb3JkaW5hdGVzIChXR1M4NCk6IGxhdC9sbmcgYXJyYXlcbiAgICAgICAgICAgIC0gdHlwZSAoW1BvaW50XSwgTGluZVN0cmluZywgUG9seWdvbiwgTXVsdGlQb2x5Z29uKVxuICAgICAgICAtIHByb3BlcnRpZXNcbiAgICAgICAgICAgIC0gZGVzYyAob3B0aW9uYWwpOiBkZXNjcmlwdGlvbi4gTWF5IGJlIHN0cmluZyBvciBhcnJheSBbb3BhY2l0eSwgZGVzY3JpcHRpb24gdGV4dF0gZm9yIHBvbHlMaW5lIGZlYXR1cmVzXG4gICAgICAgICAgICAtIGNvbG9yIChvcHRpb25hbCk6IGluZGl2aWR1YWwgY29sb3IgZm9yIGVhY2ggZmVhdHVyZS5cbiAgICAgICAgICAgIC0gKEN1c3RvbSBrZXlzLCBsaWtlIGlkOiBPU00gaWQgb2YgUE9JLCAwIGZvciB2aXJ0dWFsIFBPSXMpXG4gICAgb3B0aW9ucyBzbyBmYXI6XG4gICAgICAgIGNsdXN0ZXJlZCAtIGNsdXN0ZXIgZmVhdHVyZXMgd2hlbiB0aGV5IGFyZSBjbG9zZSB0byBlYWNoIG90aGVyLiBZb3UgY2FuIHNwZWNpZnkgYSBjbHVzdGVyUmFkaXVzIGluIHBpeGVscy4gW2ZhbHNlXVxuICAgICAgICBjbHVzdGVyQ2xhc3MgLSBjdXN0b20gY2xhc3MgZm9yIG1hcmtlckNsdXN0ZXIuIFBvc3NpYmxlIHN1ZmZpeGVzIGZvciBkaWZmZXJlbnQgY2x1c3RlciBzaXplczogXCItc21hbGxcIiwgXCItbWVkaXVtXCIsIFwiLWxhcmdlXCIgKFNlZSBhcHAuY3NzLCBlLmcuIG1hcmtlci1jbHVzdGVyLXBvaS1zbWFsbClcbiAgICAgICAgY2x1c3RlclBvbHlDb2xvciAtIGN1c3RvbSBjb2xvciBmb3IgbWFya2VyQ2x1c3RlciBwb2x5Z29uXG4gICAgICAgIGNvbG9yIC0gY29sb3Igb2YgYWxsIHNoYXBlcy4gU3VwcG9ydHMgSFRNTCBjb2xvcnMgKFwiIzAwMDBGRlwiLCBcInJnYmEoMCwxLDIsMC41KVwiLCBcIkdyZWVuXCIpIFtyYW5kb21dXG4gICAgICAgIGN1c3RvbUNQIC0gcG9pbnQgY2FuIGJlIHBlcm1hbmVudGx5IGFkZGVkIHRvIHJlZ2lvbiwgb3IgYWxyZWFkeSBpcyAoaWQgaXMgZ2l2ZW4pIFtmYWxzZV1cbiAgICAgICAgZGl2SWNvbkZ1bmMgLSBJRCBvZiBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdpdGggY3VycmVudFxuICAgICAgICAgICAgb3B0aW9ucyBhbmQgZmVhdHVyZXMgb2JqZWN0IGFzIGFyZ3VtZW50cy4gVGhlIHJldHVybiB2YWx1ZVxuICAgICAgICAgICAgd2lsbCBiZSB1c2VkIGFzIHRoZSBhcmd1bWVudCBmb3IgdGhlIGRpdkljb24gY29uc3RydWN0b3IuXG4gICAgICAgICAgICBUaGlzIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBcImR5bmFtaWNcIiBtYXJrZXJzIHRoYXQgY2hhbmdlXG4gICAgICAgICAgICBhcHBlYXJhbmNlIGJhc2VkIG9uIGZlYXR1cmUgdmFsdWVzLlxuICAgICAgICBmaXQgLSB6b29tIG1hcCB0byBzaG93IGFsbCBmZWF0dXJlcy4gW2ZhbHNlXVxuICAgICAgICBmaWxsT3BhY2l0eSAtIGZpbGxDb2xvciBvZiBwb2ludHMgYW5kIHBvbHlnb25zXG4gICAgICAgIGZpbGxDb2xvciAtIGZpbGxDb2xvciBvZiBwb2x5Z29ucywgc2FtZSB0eXBlIGFzIGNvbG9yXG4gICAgICAgIGhlYXQgLSBzaG93IGhlYXRtYXAgb2YgcG9pbnRzLiBHaXZlbiBhcmd1bWVudCBpcyBhdHRyaWJ1dGUgdXNlZCBmb3IgaW50ZW5zaXR5ICgwLjAgLSBoZWF0bWF4KVxuICAgICAgICBoZWF0bWF4IC0gbWF4aW11bSB2YWx1ZSBmb3IgaGVhdG1hcCBpbnRlbnNpdHkgWzEuMF1cbiAgICAgICAgaWNvbiAtIGljb24gdG8gdXNlLiBUaGlzIGlzIHNldCBpbiB0aGUgbGF5ZXIgbmFtZSBhcyB3ZWxsLiBbXVxuICAgICAgICBsaW5lRGFya2VuIC0gZGFya2VucyBzdHJva2UgY29sb3IsIGJ5IHVzaW5nIGNocm9tYS5kYXJrZW4gZnVuY3Rpb24uIHZhbHVlID4gMS4wID0gZGFya2VyIGNvbG9yLCB2YWx1ZSA8IDEuMCA9IGxpZ2h0ZXIgY29sb3JcbiAgICAgICAgbGluZU9wYWNpdHkgLSBzdHJva2Ugb3BhY2l0eSBmcm9tIDAuMCB0byAxLjAsIGZvciBsaW5lcyBhbmQgcG9seWdvbnNcbiAgICAgICAgbGluZVdpZHRoIC0gc3Ryb2tlIHdlaWdodCBmb3IgbGluZXMgYW5kIHBvbHlnb25zIGluIHBpeGVsc1xuICAgICAgICBuYW1lIC0gZGlzcGxheWVkIG5hbWUgb2YgbGF5ZXIuIEVtcHR5IG5hbWU6IGxheWVyIG5vdCBsaXN0ZWQgaW4gY29udHJvbCBib3hcbiAgICAgICAgcmFkaXVzIC0gcmFkaXVzIGFyb3VuZCBwb2ludHMsIHNob3duIGFzIHNlbWktdHJhbnNwYXJlbnQgY2lyY2xlLiBDYW4gYmUgbmVnYXRpdmUgKGRyYXdzIG9ubHkgY2lyY2xlcykuIERlZmluZXMgZGFzaCBwYXR0ZXJuIG9mIGxpbmVzLiBbXVxuICAgICAgICByZWplY3REb3VibGVzIC0gY2hlY2sgZmlyc3QgZm9yIGdpdmVuIGtleSB2YWx1ZXMgaW4gdGhlIGN1cnJlbnQgbWFya2VyR3JvdXAuIFtdXG4gICAgICAgIHJlamVjdERvdWJsZVJhZGl1cyAtIGNoZWNrIHByZXZpb3VzIGZlYXR1cmUgZm9yIHNhbWUgcHJvcGVydHkgdmFsdWUsIHdoZXRoZXIgcmFkaXVzIGlzIGFscmVhZHkgcHJlc2VudCBbXVxuICAgICAgICByZXN0cmljdGVkIC0gZmVhdHVyZSBjb2xsZWN0aW9uIGRlZmluZXMgcmVzdHJpY3RlZCB6b25lcy4gW2ZhbHNlXVxuICAgICAgICBtYXJrZXJHcm91cCAtIHVzZSBleGlzdGluZyBtYXJrZXJHcm91cCBpbnN0ZWFkIG9mIG5ldyBvbmUuIFtdXG4gICAgICAgIHJhZGl1c0dyb3VwIC0gdXNlIGV4aXN0aW5nIHJhZGl1c0dyb3VwIGluc3RlYWQgb2YgbmV3IG9uZS4gW11cbiAgICAgICAgc21vb3RoRmFjdG9yIC0gc2V0IHNpbXBsaWZpY2F0aW9uIGZhY3RvciBvZiBwb2x5Z29uczogMyA9IHByZXR0eSByb3VnaCwgMC42ID0gbG90cyBkZXRhaWxzXG5cbiAgICBvdXRwdXQ6IGxheWVycyB3aGVyZSBmZWF0dXJlcyB3ZXJlIGFkZGVkLiBNYXkgYmUgZmVhdHVyZUdyb3VwLCBtYXJrZXJDbHVzdGVyR3JvdXAgb3IgYXJyYXlcbiovXG5leHBvcnQgZnVuY3Rpb24gc2hvd0RhdGEoZGF0YSwgb3B0aW9ucykge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKCFkYXRhIHx8IGRhdGEubGVuZ3RoID09IDApXG4gICAgICAgIHJldHVybjtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCBbXTsgLy9kZWZhdWx0IChlbXB0eSkgb3B0aW9uc1xuICAgIC8vIG5vIG5hbWUgLT4gbm8gZW50cnkgaW4gbGF5ZXIgY29udHJvbFxuICAgIGlmICghb3B0aW9ucy5uYW1lKVxuICAgICAgICBvcHRpb25zLm5hbWUgPSBcIlwiO1xuICAgIC8vIHNlYXJjaCBmb3IgbmFtZSBpbiBvdmVybGF5c1xuICAgIG9wdGlvbnMucmFkaXVzR3JvdXBOYW1lID0gb3B0aW9ucy5uYW1lICsgJyBSYWRpdXMnO1xuICAgIC8vIGljb246IGFkZCB0byBsYXllciBjb250cm9sIG5hbWUgKGJ1dCBub3QgdG8gcmFkaXVzIG5hbWUpXG4gICAgaWYgKG9wdGlvbnMubmFtZSAmJiBvcHRpb25zLmljb24pIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuaWNvbiBpbnN0YW5jZW9mIEFycmF5KVxuICAgICAgICAgICAgb3B0aW9ucy5uYW1lID0gJyA8aW1nIHNyYz0nICsgb3B0aW9ucy5pY29uWzBdICsgJyBzdHlsZT1cImhlaWdodDogMS42cmVtOyB3aWR0aDogMS4zcmVtO1wiPiAnICsgb3B0aW9ucy5uYW1lO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBvcHRpb25zLm5hbWUgPSAnIDxpbWcgc3JjPScgKyBvcHRpb25zLmljb24uZmlsZSArICc+ICcgKyBvcHRpb25zLm5hbWU7XG4gICAgfVxuICAgIG9wdGlvbnMubWFya2VyR3JvdXAgPSBvcHRpb25zLm1hcmtlckdyb3VwIHx8IGdldExheWVyRnJvbU5hbWUob3B0aW9ucy5uYW1lKTtcbiAgICAvLyBzaG93IGxheWVyIG9uIG1hcFxuICAgIGlmIChvcHRpb25zLm1hcmtlckdyb3VwICYmICFfbWFwLmhhc0xheWVyKG9wdGlvbnMubWFya2VyR3JvdXApKVxuICAgICAgICBfbWFwLmFkZExheWVyKG9wdGlvbnMubWFya2VyR3JvdXApO1xuICAgIG9wdGlvbnMucmFkaXVzR3JvdXAgPSBvcHRpb25zLnJhZGl1c0dyb3VwIHx8IGdldExheWVyRnJvbU5hbWUob3B0aW9ucy5yYWRpdXNHcm91cE5hbWUpO1xuICAgIGlmIChvcHRpb25zLnJhZGl1c0dyb3VwICYmICFfbWFwLmhhc0xheWVyKG9wdGlvbnMucmFkaXVzR3JvdXApKVxuICAgICAgICBfbWFwLmFkZExheWVyKG9wdGlvbnMucmFkaXVzR3JvdXApO1xuICAgIGxldCBiYm94ID0gbnVsbDtcbiAgICBsZXQgbWFya2VyR3JvdXAgPSBnZXRPckNyZWF0ZU1hcmtlckdyb3VwKG9wdGlvbnMpO1xuICAgIC8vIGNsdXN0ZXJlZCByYWRpdXM6IGV4dHJhIHJhZGl1cyBsYXllclxuICAgIGlmICgob3B0aW9ucy5yYWRpdXMgPiAwKSAmJiBvcHRpb25zLmNsdXN0ZXJlZClcbiAgICAgICAgdmFyIHJhZGl1c0dyb3VwID0gZ2V0T3JDcmVhdGVSYWRpdXNHcm91cChvcHRpb25zKTtcbiAgICBsZXQgZGVmbGF0ZUdyb3VwID0gbnVsbDtcbiAgICBpZiAob3B0aW9ucy5kZWZsYXRlICE9IG51bGwpIHtcbiAgICAgICAgLy8gd3JhcCBwb2x5cyBpbiBhIGRlZmxhdGUgZmVhdHVyZSBncm91cCBzbyB0aGV5IGNhbiBiZSBkZWZsYXRlZFxuICAgICAgICBpZiAob3B0aW9ucy5kZWZsYXRlLm1hcmtlclR5cGUgPT0gJ2NpcmNsZU1hcmtlcicpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZGVmbGF0ZS5tYXJrZXJUeXBlID0gTC5jaXJjbGVNYXJrZXI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGljb24gPSAoX2EgPSBvcHRpb25zLmRlZmxhdGUubWFya2VyT3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmljb247XG4gICAgICAgIGlmICgoX2IgPSBpY29uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaWNvblVybCkge1xuICAgICAgICAgICAgaWNvbi5pY29uVXJsID0gX0FIUEZvbGRlciArICdyZXNvdXJjZXMvJyArIGljb24uaWNvblVybDtcbiAgICAgICAgICAgIG9wdGlvbnMuZGVmbGF0ZS5tYXJrZXJPcHRpb25zLmljb24gPSBMLmljb24oaWNvbik7XG4gICAgICAgIH1cbiAgICAgICAgZGVmbGF0ZUdyb3VwID0gTC5kZWZsYXRlKG9wdGlvbnMuZGVmbGF0ZSk7XG4gICAgfVxuICAgIC8vIHRlbXBvcmFyaWx5IHN0b3JlIGNyZWF0ZWQgbWFya2Vycy9saW5lcyBpbiBhcnJheSBmb3IgZmFzdCBhZGRpbmcgdG8gbWFwXG4gICAgbGV0IG1hcmtlckFycmF5ID0gW107XG4gICAgbGV0IHJhZGl1c0FycmF5ID0gW107XG4gICAgLy8gcHJlcGFyZSBsaXN0IG9mIGZlYXR1cmVzIHRvIGNoZWNrIGZvciBkb3VibGVzIChyZWplY3REb3VibGVzIG9wdGlvbilcbiAgICBpZiAob3B0aW9ucy5yZWplY3REb3VibGVzKSB7XG4gICAgICAgIHZhciBmZWF0dXJlVmFsdWVzID0gW107XG4gICAgICAgIG1hcmtlckdyb3VwLmVhY2hMYXllcihsID0+IHtcbiAgICAgICAgICAgIGlmIChsLnByb3BlcnRpZXMgJiYgbC5wcm9wZXJ0aWVzW29wdGlvbnMucmVqZWN0RG91Ymxlc10pXG4gICAgICAgICAgICAgICAgZmVhdHVyZVZhbHVlcy5wdXNoKGwucHJvcGVydGllc1tvcHRpb25zLnJlamVjdERvdWJsZXNdKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIHN0b3JlIGxhc3QgdmFsdWUgc2V0IChyZWplY3REb3VibGVSYWRpdXMgb3B0aW9uKVxuICAgIGxldCBsYXN0VmFsdWUgPSBudWxsO1xuICAgIGRhdGEuZm9yRWFjaChmZWF0dXJlID0+IHtcbiAgICAgICAgLy8gcmVqZWN0IGRvdWJsZXMgb3IgYWRkIG5ldyBlbnRyeSB0byBjaGVjayBhZ2FpbnN0XG4gICAgICAgIGlmIChvcHRpb25zLnJlamVjdERvdWJsZXMgJiYgZmVhdHVyZS5wcm9wZXJ0aWVzW29wdGlvbnMucmVqZWN0RG91Ymxlc10pIHtcbiAgICAgICAgICAgIGlmIChmZWF0dXJlVmFsdWVzLmluY2x1ZGVzKGZlYXR1cmUucHJvcGVydGllc1tvcHRpb25zLnJlamVjdERvdWJsZXNdKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgZmVhdHVyZVZhbHVlcy5wdXNoKGZlYXR1cmUucHJvcGVydGllc1tvcHRpb25zLnJlamVjdERvdWJsZXNdKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBnZXQgY29sb3IgZnJvbSBwcm9wZXJ0aWVzLCBvcHRpb25zIG9yIFJOR1xuICAgICAgICBsZXQgY29sb3IgPSBmZWF0dXJlLnByb3BlcnRpZXMuY29sb3JcbiAgICAgICAgICAgIHx8IG9wdGlvbnMuY29sb3JcbiAgICAgICAgICAgIHx8ICcjJyArICgnMCcgKyAoKE1hdGgucmFuZG9tKCkgKiAweEZGRkZGRikgJiAweEZGRkZGRikudG9TdHJpbmcoMTYpKS5zbGljZSgtNik7XG4gICAgICAgIC8vIHByb2Nlc3MgZ2VvbWV0cnlcbiAgICAgICAgc3dpdGNoIChmZWF0dXJlLmdlb21ldHJ5LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJQb2ludFwiOlxuICAgICAgICAgICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgLy8gY29vcmRzIGluIGxhdGxuZ1xuICAgICAgICAgICAgICAgIGxldCBsYXQgPSAwLjA7XG4gICAgICAgICAgICAgICAgbGV0IGxuZyA9IDAuMDtcbiAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZS5nZW9tZXRyeS50eXBlID09PSBcIlBvaW50XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGF0ID0gTnVtYmVyKGZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0pO1xuICAgICAgICAgICAgICAgICAgICBsbmcgPSBOdW1iZXIoZmVhdHVyZS5nZW9tZXRyeS5jb29yZGluYXRlc1sxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZlYXR1cmUuZ2VvbWV0cnkudHlwZSA9PT0gXCJNdWx0aVBvaW50XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXMgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk9ubHkgZmlyc3QgcG9pbnQgb2YgTXVsdGlQb2ludCB1c2VkIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZlYXR1cmUuZ2VvanNvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGF0ID0gTnVtYmVyKGZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF1bMF0pO1xuICAgICAgICAgICAgICAgICAgICBsbmcgPSBOdW1iZXIoZmVhdHVyZS5nZW9tZXRyeS5jb29yZGluYXRlc1swXVsxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBtYXJrZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChpc05hTihsYXQpIHx8IGlzTmFOKGxuZykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmF1bHR5IGNvb3JkaW5hdGVzXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZlYXR1cmUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmhlYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHBvaW50IHRvIGhlYXRtYXBcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyR3JvdXAuYWRkTGF0TG5nKFtsYXQsIGxuZywgZmVhdHVyZS5wcm9wZXJ0aWVzW29wdGlvbnMuaGVhdF1dKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgbGVhZmxldF9pY29uO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRpdkljb25GdW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmdW5jID0gZ2V0RGl2SWNvbkZ1bmMob3B0aW9ucy5kaXZJY29uRnVuYyk7XG4gICAgICAgICAgICAgICAgICAgIGxlYWZsZXRfaWNvbiA9IEwuZGl2SWNvbihmdW5jKG9wdGlvbnMsIGZlYXR1cmUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzLmljb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbGVhZmxldF9pY29uID0gTC5JbWFnZUljb24oZmVhdHVyZS5wcm9wZXJ0aWVzLmljb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvcHRpb25zLmljb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbGVhZmxldF9pY29uID0gTC5JbWFnZUljb24ob3B0aW9ucy5pY29uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxlYWZsZXRfaWNvbiA9IEwuY29sb3JJY29uKGNvbG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGZpbGxPcGFjaXR5ID0gKG9wdGlvbnMuZmlsbE9wYWNpdHkgPT09IHVuZGVmaW5lZCkgPyAwLjQgOiBvcHRpb25zLmZpbGxPcGFjaXR5O1xuICAgICAgICAgICAgICAgIC8vIGV4aXN0aW5nIGN1c3RvbSBDUCAoYWxyZWFkeSBoYXMgaWQpOiBleHRyYSBvcHRpb25zXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuY3VzdG9tQ1AgJiYgZmVhdHVyZS5wcm9wZXJ0aWVzLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCBzcGVjaWFsIENQIG1hcmtlclxuICAgICAgICAgICAgICAgICAgICBtYXJrZXIgPSBMLm1hcmtlcihbbGF0LCBsbmddLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBsZWFmbGV0X2ljb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogX3Blcm1pc3Npb25zLmxpc0FjY2VzcyA+PSAyICYmICFmZWF0dXJlLnByb3BlcnRpZXMubG9ja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlzZU9uSG92ZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXhPZmZzZXQ6IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHRtZW51OiBfcGVybWlzc2lvbnMubGlzQWNjZXNzID49IDIgJiYgIWZlYXR1cmUucHJvcGVydGllcy5sb2NrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0bWVudUluaGVyaXRJdGVtczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0bWVudUl0ZW1zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGhhcyB0byBiZSB0aGUgZmlyc3QgZW50cnkhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGZlYXR1cmUucHJvcGVydGllcy5zZWFyY2ggPyBcIkVudGZlcm5lIFN1Y2hyYXVtXCIgOiBcIkJlc3RpbW1lIFN1Y2hyYXVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25DbHM6IGZlYXR1cmUucHJvcGVydGllcy5zZWFyY2ggPyBcImlvbiBpb24tbWQtY2xvc2VcIiA6IFwiaW9uIGlvbi1tZC1jcmVhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZlYXR1cmUucHJvcGVydGllcy5zZWFyY2ggPyByZW1vdmVTZWFyY2hQb2x5IDogYWRkU2VhcmNoUG9seVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0VudGZlcm5lIExhZGVzdGFuZG9ydCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25DbHM6IFwiaW9uIGlvbi1tZC10cmFzaFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZSA9PiB7IHJlbW92ZUN1c3RvbUNQQ2FsbGJhY2soZS5yZWxhdGVkVGFyZ2V0KTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlLnByb3BlcnRpZXMuc2VhcmNoICYmICFmZWF0dXJlLnByb3BlcnRpZXMubG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXIuc2VhcmNoUG9seSA9IEwuZ2VvSlNPTihmZWF0dXJlLnByb3BlcnRpZXMuc2VhcmNoLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IF8gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENPTE9SUy5zZWFyY2hQb2x5Z29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodDogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6IENPTE9SUy5zZWFyY2hQb2x5Z29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IGZpbGxPcGFjaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9DbGlwOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWFya2VyQXJyYXkucHVzaChtYXJrZXIpO1xuICAgICAgICAgICAgICAgICAgICAvL21hcmtlci5hZGRUbyhtYXJrZXJHcm91cCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBvc3QgcHJvY2Vzc2luZzogYWN0dWFsbHkgYWRkIG1hcmtlciB0byBtYXBcbiAgICAgICAgICAgICAgICAgICAgYWRkQ3VzdG9tQ1BUb01hcCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFya2VyJzogbWFya2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb3BlcnRpZXMnOiBmZWF0dXJlLnByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gaW1wb3J0YW50IChubyBwb3B1cClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY29tbWVudCBtYXJrZXJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5jb21tZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlciA9IEwubWFya2VyKFtsYXQsIGxuZ10sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGxlYWZsZXRfaWNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpc2VPbkhvdmVyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgekluZGV4T2Zmc2V0OiAxMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0bWVudTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHRtZW51SW5oZXJpdEl0ZW1zOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHRtZW51SXRlbXM6IF9wZXJtaXNzaW9ucy5jaGF0QWNjZXNzIDwgMiA/IFtdIDogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0VudGZlcm5lIEtvbW1lbnRhcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25DbHM6IFwiaW9uIGlvbi1tZC10cmFzaFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVDb21tZW50KGUucmVsYXRlZFRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy9tYXJrZXIuYWRkVG8obWFya2VyR3JvdXApO1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJBcnJheS5wdXNoKG1hcmtlcik7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlci5wcm9wZXJ0aWVzID0gZmVhdHVyZS5wcm9wZXJ0aWVzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW1hcmtlci5wcm9wZXJ0aWVzLmltYWdlcylcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlci5wcm9wZXJ0aWVzLmltYWdlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAvLyBjYWxsYmFjayBmb3IgY2xpY2s6IG9wZW4gbW9kYWwgd2luZG93XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlci5vbignY2xpY2snLCBfID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvbW1lbnQobWFya2VyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gaW1wb3J0YW50IChubyBwb3B1cClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCEob3B0aW9ucy5yYWRpdXMgPCAwKSkge1xuICAgICAgICAgICAgICAgICAgICAvL3JhZGl1cyBudWxsIG9yIG5vdCBuZWdhdGl2ZTogYWRkIG1hcmtlclxuICAgICAgICAgICAgICAgICAgICBtYXJrZXIgPSBMLm1hcmtlcihbbGF0LCBsbmddLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBsZWFmbGV0X2ljb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZTogdHlwZW9mIGZlYXR1cmUucHJvcGVydGllcyAhPT0gXCJ1bmRlZmluZWRcIixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckFycmF5LnB1c2gobWFya2VyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJhZGl1cyBuZWdhdGl2ZTogbm8gbWFya2VyIC0+IGNpcmNsZSBvbmx5XG4gICAgICAgICAgICAgICAgICAgIC8vIG1heSBiZSBzZWFyY2ggcmFkaXVzIG9mIHByb3Bvc2VkIExJUyBzaXRlXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlciA9IEwuY2lyY2xlKFtsYXQsIGxuZ10sIC1vcHRpb25zLnJhZGl1cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiAhb3B0aW9ucy5jdXN0b21DUCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IGZpbGxPcGFjaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3RpdmU6IHR5cGVvZiBmZWF0dXJlLnByb3BlcnRpZXMgIT09IFwidW5kZWZpbmVkXCIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJBcnJheS5wdXNoKG1hcmtlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1hcmtlci5wcm9wZXJ0aWVzID0gZmVhdHVyZS5wcm9wZXJ0aWVzO1xuICAgICAgICAgICAgICAgIC8vIGFkZCBkZXNjcmlwdGlvbiB0byBtYXJrZXJcbiAgICAgICAgICAgICAgICBpZiAobWFya2VyICYmIG9wdGlvbnMuY3VzdG9tQ1AgJiYgZmVhdHVyZS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0YWJsZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIC8vbGV0IHRhYmxlID0gXCI8dHI+PHRkPjxiPkJlc2NocmVpYnVuZzwvYj48L3RkPjx0ZD5cIiArIGZlYXR1cmUucHJvcGVydGllcy5kZXNjICsgXCI8L3RkPjwvdHI+XCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlLnByb3BlcnRpZXMuY291bnQpXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZSArPSBcIjx0cj48dGQ+PGI+QW56YWhsPC9iPjwvdGQ+PHRkPlwiICsgZmVhdHVyZS5wcm9wZXJ0aWVzLmNvdW50ICsgXCI8L3RkPjwvdHI+XCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlLnByb3BlcnRpZXMub3JkZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZSArPSBcIjx0cj48dGQ+PGI+UGxhdHppZXJ1bmc8L2I+PC90ZD48dGQ+XCIgKyBmZWF0dXJlLnByb3BlcnRpZXMub3JkZXIgKyBcIjwvdGQ+PC90cj5cIjtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIG90aGVyIGZlYXR1cmUgcHJvcGVydGllcywgbGlrZSBuZWFyYnkgUE9JLiBHbyB3aWxkLlxuICAgICAgICAgICAgICAgICAgICB0YWJsZSA9ICc8dGFibGUgc3R5bGU9XCJ3aWR0aDoxMDAlO1wiPicgKyB0YWJsZSArICc8L3RhYmxlPic7XG4gICAgICAgICAgICAgICAgICAgIGlmIChIQVNfVE9VQ0gpXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXIuYmluZFBvcHVwKHRhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyLmJpbmRUb29sdGlwKHRhYmxlLCB7ICdkaXJlY3Rpb24nOiAndG9wJywgJ29mZnNldCc6IFstMSwgMV0sICdzdGlja3knOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXJrZXIgJiYgZmVhdHVyZS5wcm9wZXJ0aWVzLmRlc2MpXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlci5iaW5kUG9wdXAoZmVhdHVyZS5wcm9wZXJ0aWVzLmRlc2MpO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnJhZGl1cyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmFkaXVzIHBvc2l0aXZlOiBhZGQgc2VtaS10cmFuc3BhcmVudCBjaXJjbGUgYXJvdW5kIG1hcmtlclxuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB0aGlzIGZlYXR1cmUgYWxyZWFkeSBoYXMgYSByYWRpdXMgKG11bHRpcGxlIGZlYXR1cmVzIHdpdGggc2FtZSBwcm9wZXJ0eSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucmVqZWN0RG91YmxlUmFkaXVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzW29wdGlvbnMucmVqZWN0RG91YmxlUmFkaXVzXSA9PT0gbGFzdFZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBmZWF0dXJlLnByb3BlcnRpZXNbb3B0aW9ucy5yZWplY3REb3VibGVSYWRpdXNdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBjaXJjbGUgPSBMLmNpcmNsZShbbGF0LCBsbmddLCBvcHRpb25zLnJhZGl1cywge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IGZpbGxPcGFjaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3RpdmU6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5jbHVzdGVyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2lyY2xlLmFkZFRvKHJhZGl1c0dyb3VwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1c0FycmF5LnB1c2goY2lyY2xlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2lyY2xlLmFkZFRvKG1hcmtlckdyb3VwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlckFycmF5LnB1c2goY2lyY2xlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5maXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIGJvdW5kaW5nIGJveCB0byBmaXQgYWxsIGZlYXR1cmVzIGluIHZpZXdpbmcgcG9ydFxuICAgICAgICAgICAgICAgICAgICBpZiAoYmJveCA9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgYmJveCA9IFtbbGF0LCBsbmddLCBbbGF0LCBsbmddXTtcbiAgICAgICAgICAgICAgICAgICAgYmJveFswXVswXSA9IE1hdGgubWluKGJib3hbMF1bMF0sIGxhdCk7XG4gICAgICAgICAgICAgICAgICAgIGJib3hbMF1bMV0gPSBNYXRoLm1pbihiYm94WzBdWzFdLCBsbmcpO1xuICAgICAgICAgICAgICAgICAgICBiYm94WzFdWzBdID0gTWF0aC5tYXgoYmJveFsxXVswXSwgbGF0KTtcbiAgICAgICAgICAgICAgICAgICAgYmJveFsxXVsxXSA9IE1hdGgubWF4KGJib3hbMV1bMV0sIGxuZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcbiAgICAgICAgICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICAgICAgICAgIGNhc2UgXCJQb2x5Z29uXCI6XG4gICAgICAgICAgICBjYXNlIFwiTXVsdGlQb2x5Z29uXCI6XG4gICAgICAgICAgICAgICAgLy9saW5lcy9wb2x5Z29uczogYXJyYXkgb2YgbGF0bG5nc1xuICAgICAgICAgICAgICAgIC8vIGlmIChERUJVRykgY29uc29sZS5sb2coZmVhdHVyZSlcbiAgICAgICAgICAgICAgICBsZXQgZGVzYyA9IGZlYXR1cmUucHJvcGVydGllcy5kZXNjO1xuICAgICAgICAgICAgICAgIGxldCBvcGFjaXR5ID0gKG9wdGlvbnMuZmlsbE9wYWNpdHkgPT09IHVuZGVmaW5lZCkgPyAxLjAgOiBvcHRpb25zLmZpbGxPcGFjaXR5O1xuICAgICAgICAgICAgICAgIC8vIHNwZWNpYWwgZGVzY3JpcHRpb24gZm9ybWF0OiBvcGFjaXR5IGFuZCB0ZXh0XG4gICAgICAgICAgICAgICAgaWYgKGRlc2MgJiYgKGRlc2MgaW5zdGFuY2VvZiBBcnJheSkgJiYgZGVzYy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHkgPSBkZXNjWzBdO1xuICAgICAgICAgICAgICAgICAgICBkZXNjID0gZGVzY1sxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGxpbmVDb2xvciA9IG9wdGlvbnMubGluZURhcmtlbiAhPSBudWxsID8gY2hyb21hKGNvbG9yKS5kYXJrZW4ob3B0aW9ucy5saW5lRGFya2VuKSA6IGNvbG9yO1xuICAgICAgICAgICAgICAgIGxldCBmaWxsQ29sb3IgPSBvcHRpb25zLmZpbGxDb2xvciB8fCBjb2xvcjtcbiAgICAgICAgICAgICAgICBsZXQgcG9seU9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGxpbmVDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogb3B0aW9ucy5saW5lT3BhY2l0eSAhPSBudWxsID8gb3B0aW9ucy5saW5lT3BhY2l0eSA6IG9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgIHdlaWdodDogb3B0aW9ucy5saW5lV2lkdGggIT0gbnVsbCA/IG9wdGlvbnMubGluZVdpZHRoIDogMixcbiAgICAgICAgICAgICAgICAgICAgZGFzaEFycmF5OiBvcHRpb25zLnJhZGl1cyxcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3RpdmU6IGRlc2MgIT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBmaWxsOiBmZWF0dXJlLmdlb21ldHJ5LnR5cGUuaW5jbHVkZXMoXCJQb2x5Z29uXCIpICYmIChvcHRpb25zLmZpbGxDb2xvciB8fCBkZXNjICE9IHVuZGVmaW5lZCkgPyB0cnVlIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogZmlsbENvbG9yLFxuICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogb3BhY2l0eSxcbiAgICAgICAgICAgICAgICAgICAgbm9DbGlwOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzbW9vdGhGYWN0b3I6IG9wdGlvbnMuc21vb3RoRmFjdG9yICE9IG51bGwgPyBvcHRpb25zLnNtb290aEZhY3RvciA6IDEuMCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGxldCBwb2x5ID0gZmVhdHVyZS5nZW9tZXRyeS50eXBlLmluY2x1ZGVzKFwiUG9seWdvblwiKSA/XG4gICAgICAgICAgICAgICAgICAgIEwucG9seWdvbihmZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzLCBwb2x5T3B0aW9ucykgOlxuICAgICAgICAgICAgICAgICAgICBMLnBvbHlsaW5lKGZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXMsIHBvbHlPcHRpb25zKTtcbiAgICAgICAgICAgICAgICBwb2x5LnByb3BlcnRpZXMgPSBmZWF0dXJlLnByb3BlcnRpZXM7XG4gICAgICAgICAgICAgICAgaWYgKGRlc2MpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRvb2x0aXAgdG8gbWFya2VyXG4gICAgICAgICAgICAgICAgICAgIGlmIChIQVNfVE9VQ0gpXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2x5LmJpbmRQb3B1cChkZXNjKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgcG9seS5iaW5kVG9vbHRpcChkZXNjLCB7ICdkaXJlY3Rpb24nOiAndG9wJywgJ3N0aWNreSc6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIHBvbHkucHJvcGVydGllcy5kZXNjID0gZGVzYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGVmbGF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvbHkuYWRkVG8oZGVmbGF0ZUdyb3VwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vcG9seS5hZGRUbyhtYXJrZXJHcm91cCk7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckFycmF5LnB1c2gocG9seSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGZpdCBtYXAgdG8gc2hvdyBmZWF0dXJlIGNvbGxlY3Rpb25cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5maXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJib3ggPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmJveCA9IHBvbHkuZ2V0Qm91bmRzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgYm91bmRpbmcgYm94IHRvIGZpdCBhbGwgZmVhdHVyZXMgaW4gdmlld2luZyBwb3J0XG4gICAgICAgICAgICAgICAgICAgICAgICBiYm94LmV4dGVuZChwb2x5LmdldEJvdW5kcygpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBmZWF0dXJlIGNvbGxlY3Rpb24gaXMgcmVzdHJpY3RlZCB6b25lXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucmVzdHJpY3RlZClcbiAgICAgICAgICAgICAgICAgICAgX3Jlc3RyaWN0UG9seS5wdXNoKHBvbHkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKG9wdGlvbnMuZGVmbGF0ZSAhPSBudWxsKSB7XG4gICAgICAgIG1hcmtlckFycmF5LnB1c2goZGVmbGF0ZUdyb3VwKTtcbiAgICB9XG4gICAgLy9hZGQgZmVhdHVyZSBsYXllciB0byBtYXBcbiAgICBpZiAobWFya2VyR3JvdXAuYWRkTGF5ZXJzKSB7XG4gICAgICAgIC8vIGNodW5rZWRMb2FkaW5nIHJlYWxseSBpbXByb3ZlcyBwZXJmb3JtYW5jZSB3aXRoIGxhcmdlIGRhdGFzZXRzXG4gICAgICAgIG1hcmtlckdyb3VwLmFkZExheWVycyhtYXJrZXJBcnJheSwgeyBjaHVua2VkTG9hZGluZzogdHJ1ZSB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFya2VyQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG1hcmtlckdyb3VwLmFkZExheWVyKG1hcmtlckFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmFkaXVzR3JvdXApIHtcbiAgICAgICAgaWYgKHJhZGl1c0dyb3VwLmFkZExheWVycylcbiAgICAgICAgICAgIHJhZGl1c0dyb3VwLmFkZExheWVycyhyYWRpdXNBcnJheSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmFkaXVzQXJyYXkubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgcmFkaXVzR3JvdXAuYWRkTGF5ZXIocmFkaXVzQXJyYXlbaV0pO1xuICAgIH1cbiAgICAvLyBpZiBkZXNpcmVkLCBmaXQgbWFwIHRvIGZlYXR1cmVzXG4gICAgaWYgKG9wdGlvbnMuZml0ICYmIChiYm94ICE9IG51bGwpKVxuICAgICAgICBfbWFwLmZpdEJvdW5kcyhiYm94KTtcbiAgICAvLyByZXR1cm4gbGF5ZXIgZ3JvdXAocylcbiAgICBpZiAocmFkaXVzR3JvdXApIHtcbiAgICAgICAgcmV0dXJuIFttYXJrZXJHcm91cCwgcmFkaXVzR3JvdXBdO1xuICAgIH1cbiAgICBlbHNlXG4gICAgICAgIHJldHVybiBtYXJrZXJHcm91cDtcbn1cbi8vIEdlbmVyYXRlIERJViBpY29uIGRyYXdpbmcgZnVuY3Rpb24gZm9yIGNsdXN0ZXIuIERlcGVuZHMgb24gb3B0aW9ucy5jbHVzdGVyQ2xhc3NcbmZ1bmN0aW9uIG5ld0ljb25DcmVhdGVGdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChjbHVzdGVyKSB7XG4gICAgICAgIGxldCBjaGlsZENvdW50ID0gY2x1c3Rlci5nZXRDaGlsZENvdW50KCk7XG4gICAgICAgIGxldCBjID0gJyc7XG4gICAgICAgIGlmIChvcHRpb25zLmNsdXN0ZXJDbGFzcykge1xuICAgICAgICAgICAgYyA9IG9wdGlvbnMuY2x1c3RlckNsYXNzICsgJyAnICsgb3B0aW9ucy5jbHVzdGVyQ2xhc3M7XG4gICAgICAgICAgICBpZiAoY2hpbGRDb3VudCA8IDEwKSB7XG4gICAgICAgICAgICAgICAgYyArPSAnLXNtYWxsJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkQ291bnQgPCAxMDApIHtcbiAgICAgICAgICAgICAgICBjICs9ICctbWVkaXVtJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGMgKz0gJy1sYXJnZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGljb24gPSBuZXcgTC5EaXZJY29uKHtcbiAgICAgICAgICAgIGh0bWw6ICc8ZGl2PjxzcGFuPicgKyBjaGlsZENvdW50ICsgJzwvc3Bhbj48L2Rpdj4nLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnbWFya2VyLWNsdXN0ZXIgJyArIGMsXG4gICAgICAgICAgICBpY29uU2l6ZTogbmV3IEwuUG9pbnQoNDAsIDQwKVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGljb247XG4gICAgfTtcbn1cbi8vIGNyZWF0ZSByYWRpdXMgZ3JvdXAgZnJvbSBvcHRpb25zXG5mdW5jdGlvbiBnZXRPckNyZWF0ZVJhZGl1c0dyb3VwKG9wdGlvbnMpIHtcbiAgICAvLyBnZXQgb3IgY3JlYXRlIHJhZGl1c0dyb3VwXG4gICAgaWYgKG9wdGlvbnMucmFkaXVzR3JvdXApXG4gICAgICAgIHJldHVybiBvcHRpb25zLnJhZGl1c0dyb3VwO1xuICAgIGxldCBjbHVzdGVyUmFkaXVzID0gcGFyc2VGbG9hdChvcHRpb25zLmNsdXN0ZXJlZCkgfHwgODA7XG4gICAgbGV0IHJhZGl1c0dyb3VwID0gTC5tYXJrZXJDbHVzdGVyR3JvdXAoe1xuICAgICAgICBtYXhDbHVzdGVyUmFkaXVzOiBjbHVzdGVyUmFkaXVzLFxuICAgICAgICBjbHVzdGVyUGFuZTogJ292ZXJsYXlQYW5lJyxcbiAgICAgICAgJ2Rpc2FibGVDbHVzdGVyaW5nQXRab29tJzogMTgsXG4gICAgICAgIHBvbHlnb25PcHRpb25zOiB7ICdjb2xvcic6IG9wdGlvbnMuY2x1c3RlclBvbHlDb2xvciB8fCBcIiMwMDgwZmZcIiB9LFxuICAgICAgICBpY29uQ3JlYXRlRnVuY3Rpb246IG5ld0ljb25DcmVhdGVGdW5jdGlvbihvcHRpb25zKVxuICAgIH0pO1xuICAgIGlmIChvcHRpb25zLm5hbWUpXG4gICAgICAgIF9jdHJsTGF5ZXIuYWRkT3ZlcmxheShyYWRpdXNHcm91cCwgb3B0aW9ucy5yYWRpdXNHcm91cE5hbWUpO1xuICAgIF9tYXAuYWRkTGF5ZXIocmFkaXVzR3JvdXApO1xuICAgIHJldHVybiByYWRpdXNHcm91cDtcbn1cbi8vIGNyZWF0ZSBtYXJrZXJHcm91cCBmcm9tIG9wdGlvbnNcbmZ1bmN0aW9uIGdldE9yQ3JlYXRlTWFya2VyR3JvdXAob3B0aW9ucykge1xuICAgIC8vIGdldCBtYXJrZXJHcm91cCBmcm9tIG9wdGlvbnMgd2hlbiBleGlzdGluZ1xuICAgIGlmIChvcHRpb25zLm1hcmtlckdyb3VwKVxuICAgICAgICByZXR1cm4gb3B0aW9ucy5tYXJrZXJHcm91cDtcbiAgICAvL2NyZWF0ZSBuZXcgZmVhdHVyZUdyb3VwIGZvciBmZWF0dXJlIGNvbGxlY3Rpb25cbiAgICBpZiAob3B0aW9ucy5oZWF0KSB7XG4gICAgICAgIC8vIG5ldyBoZWF0bWFwXG4gICAgICAgIG9wdGlvbnMucmFkaXVzID0gb3B0aW9ucy5yYWRpdXMgfHwgMTAwO1xuICAgICAgICBvcHRpb25zLmhlYXRtYXggPSBvcHRpb25zLmhlYXRtYXggfHwgMS4wO1xuICAgICAgICAvLyB2YXIgbWFya2VyR3JvdXAgPSBuZXcgSGVhdG1hcE92ZXJsYXkoe1xuICAgICAgICAvLyBtYXhPcGFjaXR5OiAwLjUsXG4gICAgICAgIC8vIHZhbHVlRmllbGQ6ICdpbnRlbnNpdHknXG4gICAgICAgIC8vIH0pO1xuICAgICAgICAvLyBtYXhab29tIG9wdGlvbiBpcyBzZXQgdG8gbWFwIG1pbiB6b29tLiBFdmVyeXRoaW5nIGJlbG93IG1heFpvb20gY2hhbmdlcyBoZWF0bWFwIHByZXNlbnRhdGlvbiBhdCB6b29tIChpbnRlc2l0eSkuIE1heFpvb20gaXMgYSBsZWFmbGV0IGxheWVyIG9wdGlvbiwgdGhvdWdoOiBpdCBkaXNhYmxlcyBsYXllciB0b2dnbGluZyB3aGVuIHpvb20gaXMgYmVsb3cgbWF4Wm9vbS4gVGhpcyBpcyBkaXNhYmxlZCBpbiBtYXAuanMuXG4gICAgICAgIC8vX21hcC5jcmVhdGVQYW5lKCdoZWF0UGFuZScpLnN0eWxlLm9wYWNpdHkgPSAwLjU7XG4gICAgICAgIF9tYXAuY3JlYXRlUGFuZSgnaGVhdFBhbmUnKVxuICAgICAgICAgICAgLnN0eWxlLnpJbmRleCA9IDMwMDtcbiAgICAgICAgY29uc3QgY29sb3JtYXBfc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbG9ybWFwLXNlbGVjdCcpO1xuICAgICAgICB2YXIgbWFya2VyR3JvdXAgPSBMLmhlYXRMYXllcihbXSwge1xuICAgICAgICAgICAgcGFuZTogJ2hlYXRQYW5lJyxcbiAgICAgICAgICAgIHJhZGl1czogbWV0ZXJzSW5QaXhlbHMob3B0aW9ucy5yYWRpdXMpLFxuICAgICAgICAgICAgYmx1cjogbWV0ZXJzSW5QaXhlbHMob3B0aW9ucy5yYWRpdXMpIC8gMixcbiAgICAgICAgICAgIF9tYXhab29tOiBfbWFwLmdldE1pblpvb20oKSxcbiAgICAgICAgICAgIGFic19yYWRpdXM6IG9wdGlvbnMucmFkaXVzLFxuICAgICAgICAgICAgbWF4OiBvcHRpb25zLmhlYXRtYXgsXG4gICAgICAgICAgICBncmFkaWVudDogY29sb3JtYXBUb0dyYWRpZW50KGNvbG9ybWFwX3NlbGVjdC52YWx1ZSksXG4gICAgICAgICAgICBibGVuZE11bHRpcGx5OiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBtYWtlIGhlYXRtYXAgbGVnZW5kIHRvZ2dsZSB3aXRoIGxheWVyXG4gICAgICAgIGxldCBsZWdlbmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVhdF9sZWdlbmQnKTtcbiAgICAgICAgbWFya2VyR3JvdXAub24oJ2FkZCcsIF8gPT4ge1xuICAgICAgICAgICAgaWYgKGxlZ2VuZCkge1xuICAgICAgICAgICAgICAgIGxlZ2VuZC5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBtYXJrZXJHcm91cC5vbigncmVtb3ZlJywgXyA9PiB7XG4gICAgICAgICAgICBpZiAobGVnZW5kKVxuICAgICAgICAgICAgICAgIGxlZ2VuZC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG9wdGlvbnMuY2x1c3RlcmVkKSB7XG4gICAgICAgIC8vIHNwZWNpYWwgY2x1c3RlciBvcHRpb25zXG4gICAgICAgIGxldCBjbHVzdGVyUmFkaXVzID0gcGFyc2VGbG9hdChvcHRpb25zLmNsdXN0ZXJlZCkgfHwgODA7IC8vIGRlZmF1bHRcbiAgICAgICAgbGV0IGNsdXN0ZXJSYWRpdXNGY3QgPSB6b29tID0+IHsgcmV0dXJuIHpvb20gPj0gTUFYX1pPT00gPyAyNSA6IGNsdXN0ZXJSYWRpdXM7IH07IC8vIG1heCB6b29tOiByZWR1Y2UgY2x1c3RlciByYWRpdXMgdG8gMjUgcHggLyB+MTAgbVxuICAgICAgICB2YXIgbWFya2VyR3JvdXAgPSBMLm1hcmtlckNsdXN0ZXJHcm91cCh7XG4gICAgICAgICAgICBtYXhDbHVzdGVyUmFkaXVzOiBjbHVzdGVyUmFkaXVzRmN0LFxuICAgICAgICAgICAgcG9seWdvbk9wdGlvbnM6IHsgJ2NvbG9yJzogb3B0aW9ucy5jbHVzdGVyUG9seUNvbG9yIHx8IENPTE9SUy5kZWZhdWx0Q2x1c3RlciB9LFxuICAgICAgICAgICAgaWNvbkNyZWF0ZUZ1bmN0aW9uOiBuZXdJY29uQ3JlYXRlRnVuY3Rpb24ob3B0aW9ucylcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgbWFya2VyR3JvdXAgPSBMLmZlYXR1cmVHcm91cCgpO1xuICAgICAgICAvL3ZhciBtYXJrZXJHcm91cCA9IEwubWFya2VyQ2x1c3Rlckdyb3VwKHtcbiAgICAgICAgLy9kaXNhYmxlQ2x1c3RlcmluZ0F0Wm9vbTogMVxuICAgICAgICAvL30pO1xuICAgIH1cbiAgICAvLyBhZGQgdG8gbWFwIGFuZCBjb250cm9sXG4gICAgaWYgKG9wdGlvbnMubmFtZSlcbiAgICAgICAgX2N0cmxMYXllci5hZGRPdmVybGF5KG1hcmtlckdyb3VwLCBvcHRpb25zLm5hbWUpO1xuICAgIF9tYXAuYWRkTGF5ZXIobWFya2VyR3JvdXApO1xuICAgIHJldHVybiBtYXJrZXJHcm91cDtcbn1cbi8vIFVwZGF0ZSB0aGUgY29sb3JtYXAgdXNlZCBvbiB0aGUgbWFwLlxuZXhwb3J0IGZ1bmN0aW9uIHNldEhlYXRDb2xvcm1hcChjb2xvcm1hcE5hbWUpIHtcbiAgICBpZiAoY2hyb21hLmJyZXdlcltjb2xvcm1hcE5hbWVdKSB7XG4gICAgICAgIGxldCBzZWxlY3RfZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2xvcm1hcC1zZWxlY3QnKTtcbiAgICAgICAgaWYgKCFzZWxlY3RfZWxlbSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHNlbGVjdF9lbGVtLnZhbHVlICE9IGNvbG9ybWFwTmFtZSkge1xuICAgICAgICAgICAgc2VsZWN0X2VsZW0udmFsdWUgPSBjb2xvcm1hcE5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxlZ2VuZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWF0X2xlZ2VuZCcpO1xuICAgICAgICBsZXQgbGVnZW5kXzIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVhdF9sZWdlbmRfMicpO1xuICAgICAgICBsZXQgYmcgPSAnbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAnICsgY2hyb21hLmJyZXdlcltjb2xvcm1hcE5hbWVdLmpvaW4oJywnKSArICcpJztcbiAgICAgICAgbGVnZW5kLnN0eWxlLmJhY2tncm91bmQgPSBiZztcbiAgICAgICAgbGVnZW5kXzIuc3R5bGUuYmFja2dyb3VuZCA9IGJnO1xuICAgICAgICBpZiAoX2hlYXRMYXllcikge1xuICAgICAgICAgICAgX2hlYXRMYXllci5zZXRPcHRpb25zKHsgJ2dyYWRpZW50JzogY29sb3JtYXBUb0dyYWRpZW50KGNvbG9ybWFwTmFtZSkgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdub3QgYSBjb2xvcm1hcDonLCBjb2xvcm1hcE5hbWUpO1xuICAgIH1cbn1cbi8qKioqKioqKioqKioqKioqKioqKioqKiogIEV2YWx1YXRpb24gICoqKioqKioqKioqKioqKioqKioqKioqKi9cbi8vIENhbGxiYWNrIHRvIHNob3cgZXZhbHVhdGlvbiBkYXRhIG9uIG1hcC4gVXNlciBpcyBnaXZlbiBvcHRpb24gdG8gYWRkIHNwb3QgcGVybWFuZW50bHkuIENhbGxlZCBmcm9tIGZvcm0uaHRtbC5cbi8vIElucHV0OiBkYXRhIC0gc3RhbmRhcmQgZmVhdHVyZSB3aXRoIGdlb21ldHJ5IGFuZCBwcm9wZXJ0aWVzIChpbmNsdWRpbmcgZGVzY3JpcHRpb24pXG5mdW5jdGlvbiBzaG93RXZhbHVhdGlvbihkYXRhKSB7XG4gICAgLy8gYmFkIGZlYXR1cmVcbiAgICBpZiAoKCFkYXRhLmdlb21ldHJ5KSB8fCAoIWRhdGEucHJvcGVydGllcykpXG4gICAgICAgIHJldHVybjtcbiAgICAvL2lmIChERUJVRykgY29uc29sZS5sb2coZGF0YS5wcm9wZXJ0aWVzKTtcbiAgICAvL2dlbmVyYXRlIEhUTUwgcG9wdXBcbiAgICBsZXQgcG9wdXAgPSBhZGRFbGVtKFwiZXZhbF9wb3B1cFwiLCBudWxsLCBkb2N1bWVudC5ib2R5LCBcIkRJVlwiKTtcbiAgICAvL2xldCBwb3B1cEhlYWRlciA9IGFkZEVsZW0oXCJldmFsX3BvcHVwX2hlYWRlclwiLCBcIkJld2VydHVuZ1wiLCBwb3B1cCwgXCJQXCIpO1xuICAgIGxldCBwb3B1cENvbnRlbnQgPSBhZGRFbGVtKG51bGwsIG51bGwsIHBvcHVwLCBcIkRJVlwiKTtcbiAgICBsZXQgdGFibGUgPSBhZGRFbGVtKFwiZXZhbF9wb3B1cF90YWJsZVwiLCBudWxsLCBwb3B1cENvbnRlbnQsIFwiVEFCTEVcIik7XG4gICAgbGV0IHRhYmxlQm9keSA9IGFkZEVsZW0oXCJ0Ym9keVwiLCBudWxsLCB0YWJsZSwgXCJUQk9EWVwiKTtcbiAgICBsZXQgdGFibGVSb3cgPSBhZGRFbGVtKG51bGwsIG51bGwsIHRhYmxlQm9keSwgXCJUUlwiKTtcbiAgICBhZGRFbGVtKFwiZXZhbF9wb3B1cF90YWJsZV9rZXlcIiwgXCJQb3RlbnppYWxcIiwgdGFibGVSb3csIFwiVERcIik7XG4gICAgYWRkRWxlbShcImV2YWxfcG9wdXBfdGFibGVfdmFsXCIsIGRhdGEucHJvcGVydGllcy5wb3RlbnRpYWwgKyBcIiVcIiwgdGFibGVSb3csIFwiVERcIik7XG4gICAgLy8gcm93cyBvZiB0YWJsZSB3aXRoIHNpbWlsYXIgc3RydWN0dXJlLiBrZXkvdGV4dCBkaWN0aW9uYXJ5XG4gICAgbGV0IHJvd3MgPSB7IFBPSTogXCJQT0lcIiwgcmVzaWRlbnRzOiBcIkVpbndvaG5lclwiLCBMSVM6IFwiRXhpc3RpZXJlbmRlIExhZGVwdW5rdGVcIiwgQ0xJUzogXCJFaWdlbmUgU3RhbmRvcnRlXCIgfTtcbiAgICBmb3IgKGxldCByIGluIHJvd3MpIHtcbiAgICAgICAgbGV0IHRhYmxlUm93ID0gYWRkRWxlbShudWxsLCBudWxsLCB0YWJsZUJvZHksIFwiVFJcIik7XG4gICAgICAgIGFkZEVsZW0oXCJldmFsX3BvcHVwX3RhYmxlX2tleVwiLCByb3dzW3JdICsgXCIgaW5uZXJoYWxiIFwiICsgZGF0YS5wcm9wZXJ0aWVzLmRpc3RhbmNlICsgXCJtXCIsIHRhYmxlUm93LCBcIlREXCIpO1xuICAgICAgICBhZGRFbGVtKFwiZXZhbF9wb3B1cF90YWJsZV92YWxcIiwgZGF0YS5wcm9wZXJ0aWVzW3JdLCB0YWJsZVJvdywgXCJURFwiKTtcbiAgICB9XG4gICAgaWYgKCFkYXRhLnByb3BlcnRpZXMuc3RyZWV0KVxuICAgICAgICBhZGRFbGVtKG51bGwsIFwiTcO2Z2xpY2hlcndlaXNlIG5pY2h0IGluIGRlciBOw6RoZSBlaW5lciBTdHJhw59lIVwiLCBwb3B1cENvbnRlbnQsIFwiUFwiKTtcbiAgICAvLyBldmFsdWF0aW9uIGNvbmNsdXNpb24gd2l0aCBzbWlsZXkuIFVuaWNvZGUgc21pbGV5cyBpbiB0b28gaGlnaCBibG9jayAoVSsxRjY0MiBpcyBoYXBweSBmYWNlKSwgc28gcHJlZml4IGlzIG5lZWRlZC5cbiAgICBpZiAoZGF0YS5wcm9wZXJ0aWVzLnBvdGVudGlhbCA+IDY2KVxuICAgICAgICBhZGRFbGVtKFwiZXZhbF9wb3B1cF9nb29kXCIsICdQbGF0emllcnVuZzogJyArIGRhdGEucHJvcGVydGllcy5wbGFjZS5qb2luKCcgLyAnKSArICcgXFx1RDgzRFxcdURFNDInLCBwb3B1cENvbnRlbnQsIFwiUFwiKTtcbiAgICBlbHNlIGlmIChkYXRhLnByb3BlcnRpZXMucG90ZW50aWFsIDwgMzMpXG4gICAgICAgIGFkZEVsZW0oXCJldmFsX3BvcHVwX2JhZFwiLCAnUGxhdHppZXJ1bmc6ICcgKyBkYXRhLnByb3BlcnRpZXMucGxhY2Uuam9pbignIC8gJykgKyAnIFxcdUQ4M0RcXHVERTQxJywgcG9wdXBDb250ZW50LCBcIlBcIik7XG4gICAgZWxzZVxuICAgICAgICBhZGRFbGVtKFwiZXZhbF9wb3B1cF91Z2x5XCIsICdQbGF0emllcnVuZzogJyArIGRhdGEucHJvcGVydGllcy5wbGFjZS5qb2luKCcgLyAnKSArICcgXFx1RDgzRFxcdURFMTAnLCBwb3B1cENvbnRlbnQsIFwiUFwiKTtcbiAgICAvLyBhZGQgYnV0dG9ucyB3aXRoIGNhbGxiYWNrc1xuICAgIGxldCBidG5EaXYgPSBhZGRFbGVtKFwiZXZhbF9wb3B1cF9jZW50ZXJfZGl2XCIsIG51bGwsIHBvcHVwLCBcIkRJVlwiKTtcbiAgICBidG5EaXYuc3R5bGUgPSBcInRleHQtYWxpZ246Y2VudGVyO1wiO1xuICAgIGlmIChfcGVybWlzc2lvbnMubGlzQWNjZXNzID49IDIpIHtcbiAgICAgICAgbGV0IGFkZEJ0biA9IGFkZEVsZW0oXCJidXR0b24gYnRuLS1jdGEgZXZhbF9wb3B1cF9idXR0b25cIiwgbnVsbCwgYnRuRGl2LCBcIklOUFVUXCIpO1xuICAgICAgICBhZGRCdG4udHlwZSA9IFwiYnV0dG9uXCI7XG4gICAgICAgIGFkZEJ0bi52YWx1ZSA9IFwiUGxhdHppZXJlIExhZGVzdGFuZG9ydFwiO1xuICAgICAgICBhZGRCdG4udGl0bGUgPSBcIkhpZXIgZWluZW4gTGFkZXN0YW5kb3J0IHNldHplblwiO1xuICAgICAgICBMLkRvbUV2ZW50Lm9uKGFkZEJ0biwgJ2NsaWNrJywgXyA9PiB7XG4gICAgICAgICAgICBhZGRDdXN0b21DUENhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICBsYXRsbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgbGF0OiBkYXRhLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdLFxuICAgICAgICAgICAgICAgICAgICBsbmc6IGRhdGEuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF9tYXAuY2xvc2VQb3B1cCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGV0IGJldHRlckJ0biA9IGFkZEVsZW0oXCJidXR0b24gYnRuLS1jdGEgZXZhbF9wb3B1cF9idXR0b25cIiwgbnVsbCwgYnRuRGl2LCBcIklOUFVUXCIpO1xuICAgIGJldHRlckJ0bi50eXBlID0gXCJidXR0b25cIjtcbiAgICBiZXR0ZXJCdG4udmFsdWUgPSBcIkFsdGVybmF0aXZlXCI7XG4gICAgaWYgKGRhdGEucHJvcGVydGllcy5iZXR0ZXIpIHtcbiAgICAgICAgTC5Eb21FdmVudC5vbihiZXR0ZXJCdG4sICdjbGljaycsIF8gPT4ge1xuICAgICAgICAgICAgX21hcC5jbG9zZVBvcHVwKCk7XG4gICAgICAgICAgICBzd2FwKGRhdGEucHJvcGVydGllcy5iZXR0ZXIuY29vcmRpbmF0ZXMpO1xuICAgICAgICAgICAgX21hcC5vcGVuUG9wdXAoJ0Jlc3NlcmVyIFN0YW5kb3J0JywgZGF0YS5wcm9wZXJ0aWVzLmJldHRlci5jb29yZGluYXRlcyk7XG4gICAgICAgIH0pO1xuICAgICAgICBiZXR0ZXJCdG4udGl0bGUgPSBcIkFsdGVybmF0aXZlbiBTdGFuZG9ydCBpbiBkZXIgVW1nZWJ1bmcgdm9yc2NobGFnZW5cIjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGJldHRlckJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGJldHRlckJ0bi50aXRsZSA9IFwiS2VpbiBiZXNzZXJlciBTdGFuZG9ydCBpbiBkZXIgVW1nZWJ1bmcgdmVyZsO8Z2JhclwiO1xuICAgIH1cbiAgICAvLyBvcGVuIHBvcHVwXG4gICAgX21hcC5vcGVuUG9wdXAocG9wdXAsIGRhdGEuZ2VvbWV0cnkuY29vcmRpbmF0ZXMsIHsgY2xvc2VPbkNsaWNrOiBmYWxzZSB9KTtcbn1cbi8qKioqKioqKioqKioqKioqKioqKioqKiogIGZlYXR1cmVzICoqKioqKioqKioqKioqKioqKioqKioqKi9cbi8vIGxldCB1c2VyIGRvd25sb2FkIGEgdGV4dCBmaWxlXG4vLyBidWlsZCBjbGlja2FibGUgbGluayBpbiBiYWNrZ3JvdW5kXG4vLyBpbnB1dDpcbi8vIFx0c3RyaW5nQXJyYXkgLSBhcnJheSBvZiBzdHJpbmdzIHRvIGV4cG9ydC4gRWFjaCBlbGVtZW50IGlzIGEgbGluZS5cbi8vXHRtaW1ldHlwZSAtIE1JTUUgdHlwZSBvZiBibG9iLCBlLmcuICd0ZXh0L2pzb24nLCAndGV4dC9jc3YnLCAndGV4dC9wbGFpbicsIC4uLlxuLy9cdGxpbmVicmVhayAtIGN1c3RvbWl6YWJsZSBsaW5lYnJlYWsgY2hhcmFjdGVycy4gQXBwZW5kZWQgdG8gZWFjaCBsaW5lLiBEZWZhdWx0cyB0byBcXHJcXG5cbmZ1bmN0aW9uIGV4cG9ydFRleHRCbG9iKHN0cmluZ0FycmF5LCBmaWxlbmFtZSA9ICdkYXRhLnR4dCcsIG1pbWV0eXBlID0gJ3RleHQvcGxhaW4nLCBsaW5lYnJlYWsgPSAnXFxyXFxuJykge1xuICAgIC8vIGpvaW4gc3RyaW5nQXJyYXkgdG8gb25lIGxvbmcgc3RyaW5nXG4gICAgbGV0IGNoYXJzID0gc3RyaW5nQXJyYXkuam9pbihsaW5lYnJlYWspO1xuICAgIC8vIGJ1aWxkIGRvd25sb2FkYWJsZSBsaW5rXG4gICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYikge1xuICAgICAgICBsZXQgYmxvYiA9IG5ldyBCbG9iKFtlbmNvZGVVUklDb21wb25lbnQoY2hhcnMpXSwgeyB0eXBlOiBtaW1ldHlwZSB9KTtcbiAgICAgICAgd2luZG93Lm5hdmlnYXRvci5tc1NhdmVCbG9iKGJsb2IsIGZpbGVuYW1lKTsgLy8gSUU/XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgbGluayA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIC8vIGxpbmsuaHJlZiA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICAvLyB3cml0ZSB0ZXh0IHRvIGxpbmtcbiAgICAgICAgbGluay5ocmVmID0gJ2RhdGE6JyArIG1pbWV0eXBlICsgJztjaGFyc2V0PXV0Zi04LCcgKyBlbmNvZGVVUklDb21wb25lbnQoY2hhcnMpO1xuICAgICAgICBsaW5rLnRhcmdldCA9ICdfYmxhbmsnO1xuICAgICAgICBsaW5rLmRvd25sb2FkID0gZmlsZW5hbWU7XG4gICAgICAgIC8vIGFwcGVuZCBhbmQgZXhlY3V0ZVxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xuICAgICAgICBsaW5rLmNsaWNrKCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XG4gICAgfVxufVxuLy8gY2FsbGJhY2sgdG8gYWxsIGN1c3RvbSBwbGFjZWQgTElTIGFzIENTVlxuLy8gb25seSBwb3NzaWJsZSBmb3IgTElTIHJlYWQgcGVybWlzc2lvbiwgc28gcG93ZXIgdGFibGUgY2FuIGJlIHJlYWQgYXMgd2VsbFxuZXhwb3J0IGZ1bmN0aW9uIGV4cG9ydExJU2FzQ1NWKHNlcGFyYXRvciA9IFwiXFx0XCIsIGxvY2FsZSA9IFwiZGUtREVcIikge1xuICAgIGlmICghX21hcmtlcnMubGVuZ3RoKSB7XG4gICAgICAgIGFsZXJ0KFwiS2VpbmUgTGFkZXN0YW5kb3J0ZSB2b3JoYW5kZW4uXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBsaW5lcyA9IFtdO1xuICAgIC8vIHdyaXRlIGhlYWRlclxuICAgIHtcbiAgICAgICAgbGV0IGxpbmUgPSBbJ25hbWUnLCAnbGF0aXR1ZGUnLCAnbG9uZ2l0dWRlJywgJ3Bvd2VyJywgJ2FjY2Vzc19yYXRpbmcnLCAnYXJlYV9yYXRpbmcnLCAnY29tcGV0aXRpb25fcmF0aW5nJ107XG4gICAgICAgIC8vIEFkZCBjb2x1bW4gbmFtZXMgZm9yIGV2YWx1YXRpb25cbiAgICAgICAgZm9yIChsZXQgW2tleSwgZW50cnldIG9mIE9iamVjdC5lbnRyaWVzKF9tYXJrZXJzWzBdLnByb3BlcnRpZXMuZXZhbHVhdGlvbikpIHtcbiAgICAgICAgICAgIGxldCBwb3dlcnMgPSBbXTtcbiAgICAgICAgICAgIGxldCBjb3VudHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW50cnkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgZCA9IGVudHJ5W2ldO1xuICAgICAgICAgICAgICAgIHBvd2Vycy5wdXNoKGtleSArIFwia1dfXCIgKyBkLnllYXIgKyBcIl9wb3dlclwiKTtcbiAgICAgICAgICAgICAgICBjb3VudHMucHVzaChrZXkgKyBcImtXX1wiICsgZC55ZWFyICsgXCJfY291bnRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW5lID0gbGluZS5jb25jYXQocG93ZXJzLCBjb3VudHMpO1xuICAgICAgICB9XG4gICAgICAgIGxpbmUucHVzaCgnZGVzY3JpcHRpb24nKTtcbiAgICAgICAgbGluZXMucHVzaChsaW5lLmpvaW4oc2VwYXJhdG9yKSk7XG4gICAgfVxuICAgIC8vIHdyaXRlIHJvd3NcbiAgICAvLyBVc2UgbG9jYWxpemVkIG51bWJlciBmb3JtYXQgdG8gc2F0aXNmeSBFeGNlbFxuICAgIGxldCBsb2NhbGl6ZV9udW0gPSBmdW5jdGlvbiAobnVtKSB7XG4gICAgICAgIHJldHVybiBudW0udG9Mb2NhbGVTdHJpbmcobG9jYWxlLCB7IG1heGltdW1TaWduaWZpY2FudERpZ2l0czogMTAsIHVzZUdyb3VwaW5nOiBmYWxzZSB9KTtcbiAgICB9O1xuICAgIC8vIG9yZGVyIG1hcmtlcnMgYnkgaWQgYXNjXG4gICAgX21hcmtlcnMgPSBfbWFya2Vycy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLnByb3BlcnRpZXMuaWQgLSBiLnByb3BlcnRpZXMuaWQ7IH0pO1xuICAgIC8vIGN5Y2xlIHRocm91Z2ggY3VzdG9tIG1hcmtlcnMgYW5kIHN0cmluZ2lmeSB0aGVtXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfbWFya2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgbSA9IF9tYXJrZXJzW2ldO1xuICAgICAgICBsZXQgbGluZSA9IFtcbiAgICAgICAgICAgIGVzY2FwZUNzdlN0cmluZ1VnbHkobS5wcm9wZXJ0aWVzLm5hbWUpLFxuICAgICAgICAgICAgbG9jYWxpemVfbnVtKG0uZ2V0TGF0TG5nKCkubGF0KSxcbiAgICAgICAgICAgIGxvY2FsaXplX251bShtLmdldExhdExuZygpLmxuZyksXG4gICAgICAgICAgICBlc2NhcGVDc3ZTdHJpbmdVZ2x5KG0ucHJvcGVydGllcy5wb3dlcl90YWJsZS5tYXAocCA9PiB7IHJldHVybiBwLmNvdW50ICsgXCJ4XCIgKyBsb2NhbGl6ZV9udW0ocC5wb3dlcikgKyBcImtXKHhcIiArIGxvY2FsaXplX251bShwLmRlbWFuZF9mYWN0b3IpICsgXCIpXCI7IH0pLmpvaW4oJyAnKSksXG4gICAgICAgICAgICBsb2NhbGl6ZV9udW0obS5wcm9wZXJ0aWVzLnJhdGluZy5hY2Nlc3MpLFxuICAgICAgICAgICAgbG9jYWxpemVfbnVtKG0ucHJvcGVydGllcy5yYXRpbmcuYXJlYSksXG4gICAgICAgICAgICBsb2NhbGl6ZV9udW0obS5wcm9wZXJ0aWVzLnJhdGluZy5jb21wZXRpdGlvbiksXG4gICAgICAgIF07XG4gICAgICAgIC8vIEFkZCBldmFsdWF0aW9uIHZhbHVlc1xuICAgICAgICBmb3IgKGxldCBlbnRyeSBvZiBPYmplY3QudmFsdWVzKG0ucHJvcGVydGllcy5ldmFsdWF0aW9uKSkge1xuICAgICAgICAgICAgbGV0IHBvd2VycyA9IFtdO1xuICAgICAgICAgICAgbGV0IGNvdW50cyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbnRyeS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBkID0gZW50cnlbaV07XG4gICAgICAgICAgICAgICAgcG93ZXJzLnB1c2gobG9jYWxpemVfbnVtKGQucG93ZXIpKTtcbiAgICAgICAgICAgICAgICBjb3VudHMucHVzaChsb2NhbGl6ZV9udW0oZC5jb3VudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGluZSA9IGxpbmUuY29uY2F0KHBvd2VycywgY291bnRzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhcHBlbmQgZGVzY3JpcHRpb25cbiAgICAgICAgbGluZS5wdXNoKGVzY2FwZUNzdlN0cmluZ1VnbHkobS5wcm9wZXJ0aWVzLmRlc2NyaXB0aW9uKSk7XG4gICAgICAgIGxpbmVzLnB1c2gobGluZS5qb2luKHNlcGFyYXRvcikpO1xuICAgIH1cbiAgICAvLyBjcmVhdGUgYSBuaWNlIGZpbGUgbmFtZVxuICAgIGxldCBmaWxlX25hbWUgPSAnTGFkZXN0YW5kb3J0ZV9FeHBvcnQnO1xuICAgIGlmIChfcmVnaW9uICYmIF9yZWdpb24ubmFtZSkge1xuICAgICAgICBmaWxlX25hbWUgKz0gJ18nICsgc3RyaW5nVG9GaWxlTmFtZShfcmVnaW9uLm5hbWUpO1xuICAgIH1cbiAgICBmaWxlX25hbWUgKz0gJy5jc3YnO1xuICAgIC8vIGV4cG9ydFxuICAgIGV4cG9ydFRleHRCbG9iKGxpbmVzLCBmaWxlX25hbWUsICd0ZXh0L2NzdicpO1xufVxuLy8gY2FsbGJhY2sgdG8gYWxsIGN1c3RvbSBwbGFjZWQgTElTIGFzIEpTT05cbi8vIG9ubHkgcG9zc2libGUgZm9yIExJUyByZWFkIHBlcm1pc3Npb24sIHNvIHBvd2VyIHRhYmxlIGNhbiBiZSByZWFkIGFzIHdlbGxcbmV4cG9ydCBmdW5jdGlvbiBleHBvcnRMSVNhc0pTT04oKSB7XG4gICAgaWYgKCFfbWFya2Vycy5sZW5ndGgpIHtcbiAgICAgICAgYWxlcnQoXCJLZWluZSBMYWRlc3RhbmRvcnRlIHZvcmhhbmRlbi5cIik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGxpc19saXN0ID0gW107XG4gICAgLy8gb3JkZXIgbWFya2VycyBieSBpZCBhc2NcbiAgICBfbWFya2VycyA9IF9tYXJrZXJzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEucHJvcGVydGllcy5pZCAtIGIucHJvcGVydGllcy5pZDsgfSk7XG4gICAgLy8gY3ljbGUgdGhyb3VnaCBjdXN0b20gbWFya2VycyBhbmQgc3RyaW5naWZ5IHRoZW1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IF9tYXJrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBtID0gX21hcmtlcnNbaV07XG4gICAgICAgIGxldCBsaXMgPSB7XG4gICAgICAgICAgICBcInR5cGVcIjogXCJGZWF0dXJlXCIsXG4gICAgICAgICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICAgICAgICAgICdpZCc6IG0ucHJvcGVydGllcy5pZCxcbiAgICAgICAgICAgICAgICAndHlwZSc6IG0ucHJvcGVydGllc1sncHVibGljX3R5cGUnXSxcbiAgICAgICAgICAgICAgICAnbmFtZSc6IG0ucHJvcGVydGllcy5uYW1lLFxuICAgICAgICAgICAgICAgICdkZXNjcmlwdGlvbic6IG0ucHJvcGVydGllcy5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAnZmlsZXMnOiBtLnByb3BlcnRpZXMuaW1hZ2VzLm1hcChpID0+IHsgcmV0dXJuIG5ldyBVUkwoaS51cmwsIHdpbmRvdy5sb2NhdGlvbi5ocmVmKTsgfSksXG4gICAgICAgICAgICAgICAgJ3Bvd2VyX3RhYmxlJzogbS5wcm9wZXJ0aWVzLnBvd2VyX3RhYmxlLFxuICAgICAgICAgICAgICAgICdjaGVja2xpc3QnOiBtLnByb3BlcnRpZXMuY2hlY2tsaXN0LFxuICAgICAgICAgICAgICAgICdyYXRpbmcnOiBtLnByb3BlcnRpZXMucmF0aW5nLFxuICAgICAgICAgICAgICAgICdzZWFyY2gnOiBtLnByb3BlcnRpZXMuc2VhcmNoLFxuICAgICAgICAgICAgICAgICdldmFsdWF0aW9uJzogbS5wcm9wZXJ0aWVzLmV2YWx1YXRpb24sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJnZW9tZXRyeVwiOiB7XG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUG9pbnRcIixcbiAgICAgICAgICAgICAgICBcImNvb3JkaW5hdGVzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgbS5nZXRMYXRMbmcoKS5sbmcsXG4gICAgICAgICAgICAgICAgICAgIG0uZ2V0TGF0TG5nKCkubGF0XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBsaXNfbGlzdC5wdXNoKGxpcyk7XG4gICAgfVxuICAgIGxldCBqc29uID0ge1xuICAgICAgICBcInR5cGVcIjogXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICAgICAgICBcIm5hbWVcIjogX3JlZ2lvbi5uYW1lLFxuICAgICAgICBcInVybFwiOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgICAgXCJ0aW1lc3RhbXBcIjogRGF0ZS5ub3coKSxcbiAgICAgICAgXCJjcnNcIjogeyBcInR5cGVcIjogXCJuYW1lXCIsIFwicHJvcGVydGllc1wiOiB7IFwibmFtZVwiOiBcInVybjpvZ2M6ZGVmOmNyczpPR0M6MS4zOkNSUzg0XCIgfSB9LFxuICAgICAgICBcImZlYXR1cmVzXCI6IGxpc19saXN0XG4gICAgfTtcbiAgICBsZXQganNvbl9zdHIgPSBKU09OLnN0cmluZ2lmeShqc29uLCBudWxsLCAyKTtcbiAgICAvLyBjcmVhdGUgYSBuaWNlIGZpbGUgbmFtZVxuICAgIGxldCBmaWxlX25hbWUgPSAnTGFkZXN0YW5kb3J0ZV9FeHBvcnQnO1xuICAgIGlmIChfcmVnaW9uICYmIF9yZWdpb24ubmFtZSkge1xuICAgICAgICBmaWxlX25hbWUgKz0gJ18nICsgc3RyaW5nVG9GaWxlTmFtZShfcmVnaW9uLm5hbWUpO1xuICAgIH1cbiAgICBmaWxlX25hbWUgKz0gJy5nZW9qc29uJztcbiAgICBleHBvcnRUZXh0QmxvYihbanNvbl9zdHJdLCBmaWxlX25hbWUsICd0ZXh0L2pzb24nKTtcbn1cbi8vIEV4cG9ydCBzaG93biBwb3RlbnRpYWwgdG8ganNvbiBmaWxlXG5leHBvcnQgZnVuY3Rpb24gZXhwb3J0UG90ZW50aWFsKCkge1xuICAgIGlmICghX2hlYXRMYXllciB8fCAhX2hlYXRMYXllci5fbGF0bG5ncykge1xuICAgICAgICBhbGVydChcIktlaW4gUG90ZW50aWFsIHp1bSBFeHBvcnRpZXJlbiB2b3JoYW5kZW4uXFxuU3RhcnRlIGRhZsO8ciB2b3JoZXIgZWluZSBCZXJlY2hudW5nIVwiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxldCBwb2ludHMgPSBfaGVhdExheWVyLl9sYXRsbmdzO1xuICAgIGxldCBnZW9qc29uID0geyBcInR5cGVcIjogXCJGZWF0dXJlQ29sbGVjdGlvblwiLFxuICAgICAgICBcImZlYXR1cmVzXCI6IFtdXG4gICAgfTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgcG9pbnQgPSB7IFwidHlwZVwiOiBcIkZlYXR1cmVcIixcbiAgICAgICAgICAgIFwiZ2VvbWV0cnlcIjogeyBcInR5cGVcIjogXCJQb2ludFwiLCBcImNvb3JkaW5hdGVzXCI6IFtwb2ludHNbaV1bMV0sIHBvaW50c1tpXVswXV0gfSxcbiAgICAgICAgICAgIFwicHJvcGVydGllc1wiOiB7IFwicG90ZW50aWFsXCI6IHBvaW50c1tpXVsyXSB9XG4gICAgICAgIH07XG4gICAgICAgIGdlb2pzb24uZmVhdHVyZXMucHVzaChwb2ludCk7XG4gICAgfVxuICAgIGxldCBqc29uX3N0ciA9IEpTT04uc3RyaW5naWZ5KGdlb2pzb24sIG51bGwsIDIpO1xuICAgIGV4cG9ydFRleHRCbG9iKFtqc29uX3N0cl0sICdleHBvcnRfcG90ZW50aWFsLmdlb2pzb24nLCAndGV4dC9qc29uJyk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5pbXBvcnQgeyByZW1vdmVMYXllckZyb21NYXAsIH0gZnJvbSBcIi4vQUhQXCI7XG5pbXBvcnQgeyByZW1vdmVSZXN0cmljdFBvbHksIH0gZnJvbSBcIi4vbWFwXCI7XG4vKiogUmVtb3ZlIGxheWVyKHMpICoqL1xuLy8gY2FsbGJhY2sgZm9yIGNvbnRleHQgbWVudSBlbnRyeTogcmVtb3ZlIGFsbCBvdmVybGF5cyBmcm9tIG1hcCBhbmQgbGF5ZXIgY29udHJvbFxuLy8gQ0NQOiBjdXN0b20gY2hhcmdpbmcgcG9pbnRzLiBJZiBzZXQsIGN1c3RvbSBjaGFyZ2luZyBwb2ludHMgbGF5ZXIgaXMgcHJlc2VydmVkXG4vLyBUaGlzIG1ldGhvZCBoYXMgdG8gcmVzZXQgZ2xvYmFsIHZhcmlhYmxlcyBhcyB3ZWxsXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTGF5ZXJzKF9ldmVudCwgQ0NQKSB7XG4gICAgLy8gcmVtb3ZlIGFsbCBvdmVybGF5czogbnVtYmVyIG9mIGxheWVycyBjaGFuZ2VzIC0+IG5vIGl0ZXJhdGlvbiB1cGRhdGUgb2YgaVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgX2N0cmxMYXllci5fbGF5ZXJzLmxlbmd0aDspIHtcbiAgICAgICAgbGV0IGwgPSBfY3RybExheWVyLl9sYXllcnNbaV07XG4gICAgICAgIGlmICghbC5vdmVybGF5KVxuICAgICAgICAgICAgaSsrOyAvLyBza2lwIG5vbi1vdmVybGF5c1xuICAgICAgICBlbHNlIGlmIChsLmxheWVyID09PSBfbWFya2VyTGF5ZXIpXG4gICAgICAgICAgICBpKys7IC8vIHNraXAgY3VzdG9tIENQIGxheWVyIG9uIG9wdGlvblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChsLmxheWVyLmNsZWFyTGF5ZXJzKVxuICAgICAgICAgICAgICAgIGwubGF5ZXIuY2xlYXJMYXllcnMoKTtcbiAgICAgICAgICAgIF9jdHJsTGF5ZXIucmVtb3ZlTGF5ZXIobC5sYXllcik7XG4gICAgICAgICAgICBfbWFwLnJlbW92ZUxheWVyKGwubGF5ZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChfaGVhdExheWVyKSB7XG4gICAgICAgIF9oZWF0TGF5ZXIgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoIUNDUClcbiAgICAgICAgX21hcC5yZW1vdmVMYXllcihfbWFya2VyTGF5ZXIpO1xuICAgIHdoaWxlIChfcmVzdHJpY3RQb2x5Lmxlbmd0aClcbiAgICAgICAgcmVtb3ZlUmVzdHJpY3RQb2x5KF9yZXN0cmljdFBvbHkucG9wKCkpO1xuICAgIC8vIHJlbW92ZSBBSFAgZGF0YSBsYXllcnNcbiAgICBPYmplY3Qua2V5cyhfQUhQTGF5ZXJzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGtleSk7XG4gICAgICAgIHJlbW92ZUxheWVyRnJvbU1hcChpbnB1dCk7XG4gICAgfSk7XG4gICAgLy8gZGlzYWJsZSBjb21wdXRhdGlvbiBzYXZlXG4gICAgY29uc3Qgc2F2ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicXVlcnlzYXZlXCIpO1xuICAgIGlmIChzYXZlQnRuKSB7XG4gICAgICAgIHNhdmVCdG4uc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgIHNhdmVCdG4udmFsdWUgPSBcIlwiO1xuICAgIH1cbn1cbi8vIHJlbW92ZSBzaW5nbGUgbGF5ZXIgYnkgbGF5ZXIgbmFtZSBvciByZWZlcmVuY2VcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVMYXllcihsYXllcikge1xuICAgIGlmICh0eXBlb2YgbGF5ZXIgPT09ICdzdHJpbmcnKVxuICAgICAgICBsYXllciA9IGdldExheWVyRnJvbU5hbWUobGF5ZXIpO1xuICAgIGlmICghbGF5ZXIpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAobGF5ZXIuY2xlYXJMYXllcnMpXG4gICAgICAgIGxheWVyLmNsZWFyTGF5ZXJzKCk7XG4gICAgX2N0cmxMYXllci5yZW1vdmVMYXllcihsYXllcik7XG4gICAgX21hcC5yZW1vdmVMYXllcihsYXllcik7XG4gICAgLy8gY3VzdG9tIG1hcmtlciBsYXllciBkZWxldGVkPyBIaWRlIENDUCBmcm9tIG1hcFxuICAgIGlmIChsYXllciA9PT0gX21hcmtlckxheWVyKSB7XG4gICAgICAgIF9tYXAucmVtb3ZlTGF5ZXIoX21hcmtlckxheWVyKTtcbiAgICB9XG4gICAgLy8gaGVhdCBsYXllciBkZWxldGVkP1xuICAgIGlmIChfaGVhdExheWVyICYmIGxheWVyLl9sZWFmbGV0X2lkID09PSBfaGVhdExheWVyLl9sZWFmbGV0X2lkKSB7XG4gICAgICAgIF9oZWF0TGF5ZXIgPSBudWxsO1xuICAgIH1cbn1cbi8vIGdldCBsYXllciBmcm9tIGxheWVyIG5hbWUgaW4gbGF5ZXIgY29udHJvbCBtZW51XG5leHBvcnQgZnVuY3Rpb24gZ2V0TGF5ZXJGcm9tTmFtZShsYXllck5hbWUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IF9jdHJsTGF5ZXIuX2xheWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgbCA9IF9jdHJsTGF5ZXIuX2xheWVyc1tpXTtcbiAgICAgICAgaWYgKGwub3ZlcmxheSAmJiAobC5uYW1lID09PSBsYXllck5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbC5sYXllcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbiIsIid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IERFQlVHLCBQUkVDSVNJT04sIE1BWF9aT09NLCBDT0xPUlMsIH0gZnJvbSBcIi4vbWFwXCI7XG5pbXBvcnQgeyBvYmoyRmVhdHVyZUFycmF5LCBzaG93UmVzdWx0IH0gZnJvbSBcIi4vZmVhdHVyZXNcIjtcbmltcG9ydCB7IHJlbmRlckNoYXQgfSBmcm9tIFwiLi9jaGF0XCI7XG5pbXBvcnQgeyByZW5kZXJTaXRlTWFuYWdlclRhYmxlLCB9IGZyb20gXCIuL3RhYmxlXCI7XG5pbXBvcnQgeyBhZGRFbGVtLCBmZXRjaFBvc3QsIGZpbGVuYW1lV2l0aG91dFJhbmQsIGdldENNSXRlbUJ5TGFiZWwsIGdldExhdExuZ0Zyb21TdHJpbmcsIGdlb0pTT05kdW1wcywgcm91bmRUb1N0ciwgc2V0UHJvZ3Jlc3NiYXJWYWx1ZSwgfSBmcm9tIFwiLi91dGlsc1wiO1xuLy8gcmVzZXQgaGlkZGVuIExJUyBmb3JtIGZpZWxkcy4gUmV0dXJucyBoYW5kbGUgdG8gTElTIGZvcm0uXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRMSVNGb3JtKCkge1xuICAgIGxldCBsaXNmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaXNmb3JtXCIpO1xuICAgIGlmIChsaXNmb3JtICYmIGxpc2Zvcm0uZWxlbWVudHMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsaXNmb3JtLmVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBlbGVtZW50IDA6IGNzcmYgY29va2llXG4gICAgICAgICAgICBsZXQgaW5wdXQgPSBsaXNmb3JtLmVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKGlucHV0LnR5cGUgPT0gXCJoaWRkZW5cIilcbiAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxpc2Zvcm07XG59XG4vKmNhbGxiYWNrIGZvciBjb250ZXh0IG1lbnUgZW50cnk6IGFkZCBjdXN0b20gY2hhcmdpbmcgcG9pbnQgdG8gbWFwIGFuZCBEamFuZ28gREIgd2l0aCBnaXZlbiBwcm9wZXJ0aWVzXG4gICAgcHJvcGVydHkgb3B0aW9uczpcbiAgICAgICAgcmVnaW9uOiBpZCwgZGVmYXVsdHMgdG8gY3VycmVudGx5IHNlbGVjdGVkIHJlZ2lvblxuICAgICAgICBvc21faWQ6IHN0cmluZywgb3B0aW9uYWxcbiAgICBjYWxsYmFjayBhcmd1bWVudCBlIG5lZWRzIGxhdGxuZyBmaWVsZFxuKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRDdXN0b21DUENhbGxiYWNrKGUpIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gZS5wcm9wZXJ0aWVzIHx8IHt9O1xuICAgIC8vIHBvcHVsYXRlIGZvcm1cbiAgICBsZXQgbGlzZm9ybSA9IHJlc2V0TElTRm9ybSgpO1xuICAgIGlmICghbGlzZm9ybSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGxpc2Zvcm0uZ2VvbS52YWx1ZSA9IGdlb0pTT05kdW1wcyhlLmxhdGxuZyk7XG4gICAgbGlzZm9ybS5vc21faWQudmFsdWUgPSBwcm9wZXJ0aWVzLm9zbV9pZCB8fCAnJztcbiAgICBmZXRjaFBvc3QoJ2xpcy9jcmVhdGUvJywgJ2xpc2Zvcm0nLCAxMDAwMClcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pXG4gICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICBsZXQgbGlzID0gZGF0YS5jdXN0b21MSVM7XG4gICAgICAgIGxldCBuZWFyYnkgPSBkYXRhLm5lYXJieSB8fCBbXTtcbiAgICAgICAgaWYgKGxpcykge1xuICAgICAgICAgICAgc2hvd1Jlc3VsdChkYXRhKTtcbiAgICAgICAgICAgIF9yZWdpb24uY3VzdG9tTElTLnB1c2gobGlzKTtcbiAgICAgICAgICAgIC8vIGVuYWJsZSBjbGlja2luZyBvbiBtYXJrZXJcbiAgICAgICAgICAgIGxldCBtYXJrZXIgPSBfbWFya2Vycy5maW5kKG0gPT4geyByZXR1cm4gbS5wcm9wZXJ0aWVzLmlkID09IGxpcy5pZDsgfSk7XG4gICAgICAgICAgICBpZiAobWFya2VyKVxuICAgICAgICAgICAgICAgIG1hcmtlci5vbignY2xpY2snLCBfID0+IHsgb3Blbkxpc01vZGFsKGxpcy5pZCk7IH0pO1xuICAgICAgICAgICAgLy8gY2FuIG5ldyBsaXMgYmUgcGxhY2VkP1xuICAgICAgICAgICAgbGV0IGN1c3RvbUxpc0Rpc2FibGVkID0gX3JlZ2lvbi5saXNMaW1pdCAhPT0gbnVsbCAmJiBfbWFya2Vycy5sZW5ndGggPj0gX3JlZ2lvbi5saXNMaW1pdDtcbiAgICAgICAgICAgIC8vIGZpbmQgY29udGV4dCBtZW51IGVudHJ5IGJ5IHN0cmluZywgbWF5IGRpc2FibGUgaXRcbiAgICAgICAgICAgIF9tYXAuY29udGV4dG1lbnUuc2V0RGlzYWJsZWQoZ2V0Q01JdGVtQnlMYWJlbChcIlBsYXR6aWVyZSBMYWRlc3RhbmRvcnRcIiksIGN1c3RvbUxpc0Rpc2FibGVkKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5lYXJieS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gcmVzZXQgZXZhbHVhdGlvbiBvZiBhbGwgbmVhcmJ5IG1hcmtlcnNcbiAgICAgICAgICAgIGxldCBuZWFyYnlNYXJrZXIgPSBfbWFya2Vycy5maW5kKG0gPT4geyByZXR1cm4gbS5wcm9wZXJ0aWVzLmlkID09IG5lYXJieVtpXTsgfSk7XG4gICAgICAgICAgICBpZiAobmVhcmJ5TWFya2VyKVxuICAgICAgICAgICAgICAgIG5lYXJieU1hcmtlci5wcm9wZXJ0aWVzLmV2YWx1YXRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGFsZXJ0KGRhdGEubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbn1cbi8vIFJlbmRlciBldmVudCBsb2cgbWVzc2FnZXMgaW4gTElTIG1vZGFsXG5mdW5jdGlvbiByZW5kZXJMaXNFdmVudExvZyhsaXNfaWQpIHtcbiAgICByZW5kZXJDaGF0KF9jaGF0X21lc3NhZ2VzLCAnbGlzLWV2ZW50LWxvZy1tZXNzYWdlcycsIG0gPT4geyByZXR1cm4gbS5MSVMgPT0gbGlzX2lkOyB9LCBcImxpc1wiKTtcbn1cbi8vIEZpbGwgTElTIG1vZGFsIHBvcHVwIHdpdGggYWxsIGluZm9zIGZyb20gbWFya2VyLlxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUxpc01vZGFsKG1hcmtlcikge1xuICAgIC8vIHJlc2V0IGxpc2Zvcm1cbiAgICBsZXQgbGlzZm9ybSA9IHJlc2V0TElTRm9ybSgpO1xuICAgIGxldCBsaXNfaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpc19pZFwiKTtcbiAgICBpZiAoIShtYXJrZXIgJiYgbGlzZm9ybSAmJiBsaXNfaWQpKVxuICAgICAgICByZXR1cm47XG4gICAgbGlzX2lkLnZhbHVlID0gbWFya2VyLnByb3BlcnRpZXMuaWQ7XG4gICAgLy8gc2V0IExJUyBuYW1lXG4gICAgdXBkYXRlTGlzTmFtZShtYXJrZXIucHJvcGVydGllcy5uYW1lLCBtYXJrZXIucHJvcGVydGllcy5sb2NrZWQpO1xuICAgIC8vIHVwZGF0ZSAocG90ZW50aWFsbHkgZWRpdGFibGUpIGNvb3JkcyBpbnB1dFxuICAgIHVwZGF0ZUxpc1Bvc2l0aW9uRmllbGQobWFya2VyLmdldExhdExuZygpLCBtYXJrZXIucHJvcGVydGllcy5sb2NrZWQpO1xuICAgIC8vIHNldCBMSVMgdHlwZVxuICAgIGxldCByYWRpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGlzLXR5cGUtXCIgKyBtYXJrZXIucHJvcGVydGllcy5wdWJsaWNfdHlwZSk7XG4gICAgaWYgKHJhZGlvKVxuICAgICAgICByYWRpby5jaGVja2VkID0gdHJ1ZTtcbiAgICAvLyBMSVMgc3VydmV5XG4gICAgdXBkYXRlTGlzU3VydmV5KF9yZWdpb24ubGlzX3N1cnZleSwgbWFya2VyLnByb3BlcnRpZXMuc3VydmV5KTtcbiAgICAvLyBzZXQgTElTIGltYWdlc1xuICAgIHVwZGF0ZUxpc0ltYWdlcyhtYXJrZXIucHJvcGVydGllcy5pbWFnZXMpO1xuICAgIC8vIHBvd2VyX3RhYmxlXG4gICAgdXBkYXRlTGlzUG93ZXJUYWJsZShtYXJrZXIucHJvcGVydGllcy5wb3dlcl90YWJsZSB8fCBbXSk7XG4gICAgLy8gY2hlY2tsaXN0XG4gICAgdXBkYXRlTGlzQ2hlY2tsaXN0KG1hcmtlci5wcm9wZXJ0aWVzLmNoZWNrbGlzdCB8fCBbXSk7XG4gICAgLy8gZXZlbnQgbG9nXG4gICAgcmVuZGVyTGlzRXZlbnRMb2cobWFya2VyLnByb3BlcnRpZXMuaWQpO1xuICAgIC8vIHNldCBpbnZpdGUgbGlua1xuICAgIGxldCBpbnZpdGVBbmNob3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlkX2ludml0ZVwiKTtcbiAgICBpZiAoaW52aXRlQW5jaG9yKSB7XG4gICAgICAgIGxldCB1cmwgPSBuZXcgVVJMKGludml0ZUFuY2hvci5ocmVmKTtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2xpcycsIG1hcmtlci5wcm9wZXJ0aWVzLmlkKTtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ25leHQnLCAnbWFwJyk7XG4gICAgICAgIGludml0ZUFuY2hvci5ocmVmID0gdXJsLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIC8vIGRlc2NyaXB0aW9uXG4gICAgaWYgKF9zaW1wbGVtZGUpIHtcbiAgICAgICAgbGV0IGRlc2NfdGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGlzLWRlc2NyaXB0aW9uLXRleHRhcmVhXCIpO1xuICAgICAgICBfc2ltcGxlbWRlLnZhbHVlKG1hcmtlci5wcm9wZXJ0aWVzLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgZGVzY190ZXh0LnZhbHVlID0gbWFya2VyLnByb3BlcnRpZXMuZGVzY3JpcHRpb247XG4gICAgICAgIF9zaW1wbGVtZGUuY29kZW1pcnJvci5yZWZyZXNoKCk7XG4gICAgfVxuICAgIC8vIGRpc3BsYXkgbG9ja2VkIHN0YXR1cywgYWxsb3cgKHVuKWxvY2tpbmdcbiAgICB1cGRhdGVMaXNMb2NrKG1hcmtlcik7XG4gICAgdXBkYXRlTGlzUmF0aW5nKG1hcmtlci5wcm9wZXJ0aWVzLnJhdGluZyk7XG4gICAgLy8gZXZhbHVhdGlvbiByZXN1bHRzXG4gICAgdXBkYXRlTGlzRXZhbHVhdGlvbihtYXJrZXIucHJvcGVydGllcyk7XG4gICAgLy8gbm8gY2hhbmdlcyB5ZXQ6IHJlc2V0IGRpcnR5IGJpdHNcbiAgICBtYXJrQ2xlYW4oKTtcbn1cbi8vIG1hcmsgcHJvcGVydHkgYXMgY2hhbmdlZCAoZGlydHkpXG5leHBvcnQgZnVuY3Rpb24gbWFya0RpcnR5KGl0ZW0pIHtcbiAgICBsZXQgYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkaXJ0eS1cIiArIGl0ZW0pO1xuICAgIGlmIChib3gpXG4gICAgICAgIGJveC5jaGVja2VkID0gdHJ1ZTtcbn1cbi8vIG1hcmsgTElTIGFzIHVuY2hhbmdlZCAoY2xlYW4pOiB1bnNlbGVjdCBhbGwgY2hlY2tib3hlc1xuZnVuY3Rpb24gbWFya0NsZWFuKCkge1xuICAgIGxldCBkaXJ0eV9ib3hlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2Noay1kaXJ0eScpO1xuICAgIGZvciAobGV0IGJveCBvZiBkaXJ0eV9ib3hlcylcbiAgICAgICAgYm94LmNoZWNrZWQgPSBmYWxzZTtcbn1cbi8vIHNhdmUgY2hhbmdlcyB3aGVuIGNsb3NpbmcgbW9kYWwgdmlld1xuJCgnI2xpcy1tb2RhbCcpLm9uKCdjbG9zZWQuemYucmV2ZWFsJywgc2F2ZUxpc0NoYW5nZXMpO1xuLy8gc2VuZCBMSVMgZGF0YSB0byBiYWNrZW5kIHdoZW4gaXQgaGFzIGNoYW5nZWQgKGNoZWNrIGRpcnR5IGJpdClcbmV4cG9ydCBmdW5jdGlvbiBzYXZlTGlzQ2hhbmdlcygpIHtcbiAgICAvL2xldCBmb3JtOiBIVE1MRm9ybUVsZW1lbnQgPSByZXNldExJU0Zvcm0oKTsgLy8gZG9uJ3QgcmVzZXQgZm9ybTogb3ZlcndyaXRlcyBoaWRkZW4gbmFtZSBmaWVsZFxuICAgIGxldCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaXNmb3JtXCIpO1xuICAgIC8vIGZvcm0gYW5kIGlkIGhhdmUgdG8gYmUgcHJlc2VudFxuICAgIGxldCBsaXNfaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpc19pZFwiKTtcbiAgICBpZiAoIShmb3JtICYmIGxpc19pZCkpXG4gICAgICAgIHJldHVybjtcbiAgICAvLyBmaW5kIG91dCBpZiBjaGFuZ2VzIHdlcmUgbWFkZVxuICAgIGxldCBkaXJ0eSA9IGZhbHNlO1xuICAgIGxldCBkaXJ0eV9uYW1lcyA9IFsnbmFtZScsICdwb3NpdGlvbicsICd0eXBlJywgJ2xpc3QnLCAncG93ZXInLCAncmF0aW5nJ107XG4gICAgLy8gbG9vcCBvdmVyIGRpcnR5IGJpdHNcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpcnR5X25hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBuYW1lID0gZGlydHlfbmFtZXNbaV07XG4gICAgICAgIGxldCBib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRpcnR5LVwiICsgbmFtZSk7XG4gICAgICAgIGlmIChib3ggJiYgYm94LmNoZWNrZWQpIHtcbiAgICAgICAgICAgIC8vIGJpdCBzZXRcbiAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3Bvc2l0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IHVwZGF0ZWQgcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgbGV0IGxhdGxuZyA9IGdldExhdExuZ0Zyb21TdHJpbmcoZm9ybS5wb3NpdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGZvcm0uZ2VvbS52YWx1ZSA9IGdlb0pTT05kdW1wcyhsYXRsbmcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdsaXN0JzpcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2V0IHVwZGF0ZWQgY2hlY2tsaXN0XG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGVja2xpc3QgPSBnZXRMaXNDaGVja2xpc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgZm9ybS5jaGVja2xpc3QudmFsdWUgPSBKU09OLnN0cmluZ2lmeShjaGVja2xpc3QpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdwb3dlcic6XG4gICAgICAgICAgICAgICAgICAgIC8vIHdyaXRlIG91dCB1cGRhdGVkIHBvd2VyIHRhYmxlXG4gICAgICAgICAgICAgICAgICAgIGZvcm0ucG93ZXJfdGFibGUudmFsdWUgPSBKU09OLnN0cmluZ2lmeShldmFsTGlzUG93ZXJUYWJsZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncmF0aW5nJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gd3JpdGUgb3V0IHJhdGluZ3NcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJhdGluZ192YWx1ZXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgY2F0ZWdvcnkgb2YgW1wiYWNjZXNzXCIsIFwiYXJlYVwiLCBcImNvbXBldGl0aW9uXCJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYXRlZ29yeSArIFwiLXJhdGluZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmdfdmFsdWVzW2NhdGVnb3J5XSA9IGlucHV0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvcm0ucmF0aW5nLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkocmF0aW5nX3ZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIG5vIGNoYW5nZXMgbWFkZTogbm8gbmVlZCB0byBzYXZlXG4gICAgaWYgKCFkaXJ0eSlcbiAgICAgICAgcmV0dXJuO1xuICAgIC8vIG1hcmsgYXMgY2xlYW4gYWdhaW5cbiAgICBtYXJrQ2xlYW4oKTtcbiAgICAvLyBzZW5kIGZvcm0uIFRpbWVvdXQ6IDMwc1xuICAgIGZldGNoUG9zdCgnbGlzLycgKyBsaXNfaWQudmFsdWUgKyAnL3VwZGF0ZS8nLCBcImxpc2Zvcm1cIiwgMzAwMDApXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KVxuICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgbGV0IG1hcmtlciA9IF9tYXJrZXJzLmZpbmQobSA9PiB7IHJldHVybiBtLnByb3BlcnRpZXMuaWQgPT0gbGlzX2lkLnZhbHVlOyB9KTtcbiAgICAgICAgaWYgKG1hcmtlcikge1xuICAgICAgICAgICAgbGV0IGxpc19pbmZvID0gZGF0YS5jdXN0b21MSVM7XG4gICAgICAgICAgICBsZXQgbmVhcmJ5ID0gZGF0YS5uZWFyYnkgfHwgW107XG4gICAgICAgICAgICAvLyB1cGRhdGUgY3VycmVudCBMSVMgd2l0aCByZXR1cm5lZCBpbmZvXG4gICAgICAgICAgICBsZXQgZmVhdHVyZSA9IG9iajJGZWF0dXJlQXJyYXkobGlzX2luZm8pWzBdO1xuICAgICAgICAgICAgbWFya2VyLnNldExhdExuZyhmZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzKTsgLy8gc2V0IHBvc2l0aW9uIG9uIG1hcFxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihtYXJrZXIucHJvcGVydGllcywgZmVhdHVyZS5wcm9wZXJ0aWVzKTsgLy8gY29weSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAvLyByZXNldCBldmFsdWF0aW9uIG9mIGFsbCBuZWFyYnkgbWFya2Vyc1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWFyYnkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgbmVhcmJ5TWFya2VyID0gX21hcmtlcnMuZmluZChtID0+IHsgcmV0dXJuIG0ucHJvcGVydGllcy5pZCA9PSBuZWFyYnlbaV07IH0pO1xuICAgICAgICAgICAgICAgIGlmIChuZWFyYnlNYXJrZXIpXG4gICAgICAgICAgICAgICAgICAgIG5lYXJieU1hcmtlci5wcm9wZXJ0aWVzLmV2YWx1YXRpb24gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdXBkYXRlIHNpdGUgbWFuYWdlclxuICAgICAgICAgICAgcmVuZGVyU2l0ZU1hbmFnZXJUYWJsZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJtYXJrZXIgbm90IGZvdW5kIGZyb20gcmVzcG9uc2U6XCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgIH1cbiAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbn1cbi8qIE9wZW4gdGhlIExJUyBtb2RhbCB3aXRoIGRhdGEgZnJvbSBMSVMgd2l0aCBsaXNfaWQuXG4gKlxuICogb3Blbl90YWI6IE9wZW4gdGhlIGFjY29yZGlvbiB0YWIgd2l0aCB0aGUgZ2l2ZW4ganF1ZXJ5IHNlbGVjdG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gb3Blbkxpc01vZGFsKGxpc19pZCwgb3Blbl90YWIgPSBudWxsKSB7XG4gICAgbGV0IG1hcmtlciA9IF9tYXJrZXJzLmZpbmQobSA9PiB7IHJldHVybiBtLnByb3BlcnRpZXMuaWQgPT0gbGlzX2lkOyB9KTtcbiAgICBpZiAobWFya2VyKSB7XG4gICAgICAgIHVwZGF0ZUxpc01vZGFsKG1hcmtlcik7XG4gICAgICAgIC8vIG9wZW4gbW9kYWwgd2luZG93XG4gICAgICAgICQoJyNsaXMtbW9kYWwnKS5mb3VuZGF0aW9uKCdvcGVuJyk7XG4gICAgICAgIC8vIG9wZW4gYWNjb3JkaW9uIHRhYlxuICAgICAgICBpZiAodHlwZW9mIG9wZW5fdGFiID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAkKCcjbGlzX21vZGFsX2FjY29yZGlvbicpLmZvdW5kYXRpb24oJ2Rvd24nLCAkKG9wZW5fdGFiKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9zaW1wbGVtZGUpIHtcbiAgICAgICAgICAgIF9zaW1wbGVtZGUudG9nZ2xlUHJldmlldygpO1xuICAgICAgICAgICAgX3NpbXBsZW1kZS50b2dnbGVQcmV2aWV3KCk7XG4gICAgICAgICAgICBfc2ltcGxlbWRlLmNvZGVtaXJyb3IucmVmcmVzaCgpO1xuICAgICAgICAgICAgLy8gZW50ZXIgZWRpdCBtb2RlIHdoZW4gZGVzY3JpcHRpb24gaXMgZW1wdHlcbiAgICAgICAgICAgIGlmICghbWFya2VyLnByb3BlcnRpZXMuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KF8gPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3NpbXBsZW1kZS5pc1ByZXZpZXdBY3RpdmUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3NpbXBsZW1kZS50b2dnbGVQcmV2aWV3KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc2ltcGxlbWRlLmNvZGVtaXJyb3IucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIGFkZHMgY3VzdG9tIGNoYXJnaW5nIHBvaW50IHRvIG1hcEpTT05cbi8vIGRhdGE6IG1hcmtlciBhbmQgZmVhdHVyZSBwcm9wZXJ0aWVzIChhdCBsZWFzdCBpZCBmcm9tIERCIHF1ZXJ5KVxuZXhwb3J0IGZ1bmN0aW9uIGFkZEN1c3RvbUNQVG9NYXAoZGF0YSkge1xuICAgIHtcbiAgICAgICAgY29uc3QgbWFya2VyID0gZGF0YS5tYXJrZXI7XG4gICAgICAgIG1hcmtlci5wcm9wZXJ0aWVzID0gZGF0YS5wcm9wZXJ0aWVzO1xuICAgICAgICBpZiAoIW1hcmtlci5wcm9wZXJ0aWVzLmltYWdlcykge1xuICAgICAgICAgICAgbWFya2VyLnByb3BlcnRpZXMuaW1hZ2VzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIG1hcmtlciB0byBjdXN0b20gbWFya2VyIGFycmF5XG4gICAgICAgIF9tYXJrZXJzLnB1c2gobWFya2VyKTtcbiAgICB9XG4gICAgLy8gbW91c2VvdmVyOiBzaG93IHNlYXJjaCBwb3lsZ29uXG4gICAgZGF0YS5tYXJrZXIub24oJ21vdXNlb3ZlcicsIF8gPT4ge1xuICAgICAgICBpZiAoZGF0YS5tYXJrZXIuc2VhcmNoUG9seSlcbiAgICAgICAgICAgIF9tYXAuYWRkTGF5ZXIoZGF0YS5tYXJrZXIuc2VhcmNoUG9seSk7XG4gICAgfSk7XG4gICAgZGF0YS5tYXJrZXIub24oJ21vdXNlb3V0JywgXyA9PiB7XG4gICAgICAgIGlmIChkYXRhLm1hcmtlci5zZWFyY2hQb2x5KVxuICAgICAgICAgICAgX21hcC5yZW1vdmVMYXllcihkYXRhLm1hcmtlci5zZWFyY2hQb2x5KTtcbiAgICB9KTtcbiAgICBkYXRhLm1hcmtlci5vbignbW92ZXN0YXJ0JywgXyA9PiB7XG4gICAgICAgIGRhdGEubWFya2VyLl9vcmlnaW4gPSBkYXRhLm1hcmtlci5nZXRMYXRMbmcoKTtcbiAgICB9KTtcbiAgICAvLyBjYWxsYmFjayBmb3IgZHJhZ2dpbmc6IHVwZGF0ZSBEQiBnZW9tXG4gICAgZGF0YS5tYXJrZXIub24oJ21vdmVlbmQnLCBfID0+IHtcbiAgICAgICAgbGV0IGxpc2Zvcm0gPSByZXNldExJU0Zvcm0oKTtcbiAgICAgICAgaWYgKGxpc2Zvcm0pXG4gICAgICAgICAgICBsaXNmb3JtLmdlb20udmFsdWUgPSBnZW9KU09OZHVtcHMoZGF0YS5tYXJrZXIuZ2V0TGF0TG5nKCkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGZldGNoUG9zdCgnbGlzLycgKyBkYXRhLnByb3BlcnRpZXMuaWQgKyAnL3VwZGF0ZS8nLCAnbGlzZm9ybScsIDEwMDAwKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgbGV0IG5lYXJieSA9IHJlc3VsdC5uZWFyYnkgfHwgW107XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5lYXJieS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIHJlc2V0IGV2YWx1YXRpb24gb2YgYWxsIG5lYXJieSBtYXJrZXJzXG4gICAgICAgICAgICAgICAgbGV0IG5lYXJieU1hcmtlciA9IF9tYXJrZXJzLmZpbmQobSA9PiB7IHJldHVybiBtLnByb3BlcnRpZXMuaWQgPT0gbmVhcmJ5W2ldOyB9KTtcbiAgICAgICAgICAgICAgICBpZiAobmVhcmJ5TWFya2VyKVxuICAgICAgICAgICAgICAgICAgICBuZWFyYnlNYXJrZXIucHJvcGVydGllcy5ldmFsdWF0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgZGF0YS5tYXJrZXIuc2V0TGF0TG5nKGRhdGEubWFya2VyLl9vcmlnaW4pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIGdvIHRvIG1hcmtlciBhbmQgbGV0IGl0IGJvdW5jZSBhIGJpdFxuZXhwb3J0IGZ1bmN0aW9uIGhpZ2hsaWdodENDUChpZCkge1xuICAgIGxldCBpZF9maWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGlzX2lkXCIpO1xuICAgIGlmIChpZF9maWVsZClcbiAgICAgICAgaWQgPSBpZCB8fCBpZF9maWVsZC52YWx1ZTtcbiAgICBsZXQgbWFya2VyID0gX21hcmtlcnMuZmluZChtID0+IHsgcmV0dXJuIG0ucHJvcGVydGllcy5pZCA9PSBpZDsgfSk7XG4gICAgaWYgKCFtYXJrZXIpXG4gICAgICAgIHJldHVybjsgLy8gem9vbSB0byByZWdpb24/IHVzZXIgZmVlZGJhY2s/XG4gICAgX21hcC5mbHlUbyhtYXJrZXIuZ2V0TGF0TG5nKCksIE1BWF9aT09NKTtcbiAgICAvLyBhbmltYXRlIG1hcmtlclxuICAgIEwuRG9tVXRpbC5hZGRDbGFzcyhtYXJrZXIuX2ljb24sIFwiYm91bmNlXCIpO1xuICAgIHNldFRpbWVvdXQoXyA9PiB7IEwuRG9tVXRpbC5yZW1vdmVDbGFzcyhtYXJrZXIuX2ljb24sIFwiYm91bmNlXCIpOyB9LCAzMDAwKTtcbn1cbi8vIGJlZ2luIGRyYXcgbW9kZTogbGV0IHVzZXIgZGVmaW5lIHBvbHlnb24gYXJvdW5kIExJU1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFNlYXJjaFBvbHkoZSkge1xuICAgIF9tYXAucG0uZW5hYmxlRHJhdygnUG9seScsIHtcbiAgICAgICAgYWxsb3dTZWxmSW50ZXJzZWN0aW9uOiBmYWxzZSxcbiAgICAgICAgc25hcHBhYmxlOiB0cnVlLFxuICAgICAgICBzbmFwRGlzdGFuY2U6IDIwLFxuICAgICAgICB0b29sdGlwczogZmFsc2UsXG4gICAgICAgIHRlbXBsaW5lU3R5bGU6IHsgY29sb3I6IENPTE9SUy5zZWFyY2hQb2x5Z29uIH0sXG4gICAgICAgIGhpbnRsaW5lU3R5bGU6IHsgY29sb3I6IENPTE9SUy5zZWFyY2hQb2x5Z29uLCBkYXNoQXJyYXk6IFs1LCA1XSwgfSxcbiAgICAgICAgcGF0aE9wdGlvbnM6IHtcbiAgICAgICAgICAgIGludGVyYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbG9yOiBDT0xPUlMuc2VhcmNoUG9seWdvbixcbiAgICAgICAgICAgIGZpbGxDb2xvcjogQ09MT1JTLnNlYXJjaFBvbHlnb24sXG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogMC40XG4gICAgICAgIH0sXG4gICAgICAgIGN1cnNvck1hcmtlcjogdHJ1ZVxuICAgIH0pO1xuICAgIF9kcmF3aW5nTW9kZSA9IHsgXCJzZWFyY2hcIjogZS5yZWxhdGVkVGFyZ2V0IH07XG4gICAgX21hcC5nZXRDb250YWluZXIoKS5mb2N1cygpOyAvLyBmb2N1cyBvbiBtYXAgdG8gbGlzdGVuIGZvciBrZXkgZXZlbnRzXG59XG4vLyByZW1vdmUgc2VhcmNoIHBvbHlnb24gZnJvbSBMSVMuIFVwZGF0ZSBpbiBiYWNrZW5kIGFzIHdlbGwuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlU2VhcmNoUG9seShlKSB7XG4gICAgLy8gc2VuZCB0byBiYWNrZW5kXG4gICAgbGV0IGxpc2Zvcm0gPSByZXNldExJU0Zvcm0oKTtcbiAgICBpZiAobGlzZm9ybSlcbiAgICAgICAgbGlzZm9ybS5zZWFyY2gudmFsdWUgPSBcInJlbW92ZWRcIjtcbiAgICBlbHNlXG4gICAgICAgIHJldHVybjtcbiAgICBmZXRjaFBvc3QoJ2xpcy8nICsgZS5yZWxhdGVkVGFyZ2V0LnByb3BlcnRpZXMuaWQgKyAnL3VwZGF0ZS8nLCAnbGlzZm9ybScsIDEwMDAwKS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgcmVzcG9uc2UuanNvbigpLnRoZW4oX2RhdGEgPT4ge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIG9uIG1hcFxuICAgICAgICAgICAgX21hcC5yZW1vdmVMYXllcihlLnJlbGF0ZWRUYXJnZXQuc2VhcmNoUG9seSk7XG4gICAgICAgICAgICAvLyBhZGp1c3QgY29udGV4dCBtZW51XG4gICAgICAgICAgICBlLnJlbGF0ZWRUYXJnZXQub3B0aW9ucy5jb250ZXh0bWVudUl0ZW1zWzBdID0ge1xuICAgICAgICAgICAgICAgIHRleHQ6IFwiQmVzdGltbWUgU3VjaHJhdW1cIixcbiAgICAgICAgICAgICAgICBpY29uQ2xzOiBcImlvbiBpb24tbWQtY3JlYXRlXCIsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGFkZFNlYXJjaFBvbHlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyB1bmxpbmsgcG9seWdvbiBsYXllciBmcm9tIG1hcmtlclxuICAgICAgICAgICAgZS5yZWxhdGVkVGFyZ2V0LnNlYXJjaFBvbHkgPSBudWxsO1xuICAgICAgICAgICAgLy8gdXBkYXRlIGN1c3RvbUxJUyBjb250YWluZXJcbiAgICAgICAgICAgIC8vT2JqZWN0LmFzc2lnbihfcmVnaW9uLmN1c3RvbUxJU1tfcmVnaW9uLmN1c3RvbUxJUy5maW5kSW5kZXgobGlzID0+IGxpcy5pZCA9PT0gX2RhdGEuaWQpXSwgX2RhdGEpO1xuICAgICAgICB9KTtcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICBhbGVydChcIlN1Y2hyYXVtIGtvbm50ZSBuaWNodCBnZWzDtnNjaHQgd2VyZGVuLlwiKTtcbiAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbn1cbi8vIGNhbGxiYWNrIGZvciBjb250ZXh0IG1lbnU6IHJlbW92ZSB0YXJnZXRlZCBjaGFyZ2luZyBwb2ludC5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDdXN0b21DUENhbGxiYWNrKG1hcmtlcikge1xuICAgIC8vIHJlbW92ZSBmcm9tIERCLCBidXQgYXNrIHVzZXIgZmlyc3RcbiAgICBsZXQgbGlzZm9ybSA9IHJlc2V0TElTRm9ybSgpO1xuICAgIGlmIChsaXNmb3JtICYmIGNvbmZpcm0oXCJTaW5kIFNpZSBzaWNoZXIsIGRhc3MgZGllc2VyIFB1bmt0IGdlbMO2c2NodCB3ZXJkZW4gc29sbD9cIikpIHtcbiAgICAgICAgZmV0Y2hQb3N0KCdsaXMvJyArIG1hcmtlci5wcm9wZXJ0aWVzLmlkICsgXCIvZGVsZXRlL1wiLCAnbGlzZm9ybScsIDEwMDAwKS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ3VzdG9tQ1BGcm9tTWFwKG1hcmtlcik7XG4gICAgICAgICAgICAgICAgLy8gdXNlciB0aGF0IGNhbiBkZWxldGUgTElTIGNhbiBhbHNvIGNyZWF0ZSBMSVNcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBuZXcgTElTIGNhbiBiZSBwbGFjZWRcbiAgICAgICAgICAgICAgICBsZXQgY3VzdG9tTGlzRGlzYWJsZWQgPSBfcmVnaW9uLmxpc0xpbWl0ICE9PSBudWxsICYmIF9tYXJrZXJzLmxlbmd0aCA+PSBfcmVnaW9uLmxpc0xpbWl0O1xuICAgICAgICAgICAgICAgIC8vIGZpbmQgY29udGV4dCBtZW51IGVudHJ5IGJ5IHN0cmluZywgbWF5IGVuYWJsZSBpdFxuICAgICAgICAgICAgICAgIF9tYXAuY29udGV4dG1lbnUuc2V0RGlzYWJsZWQoZ2V0Q01JdGVtQnlMYWJlbChcIlBsYXR6aWVyZSBMYWRlc3RhbmRvcnRcIiksIGN1c3RvbUxpc0Rpc2FibGVkKTtcbiAgICAgICAgICAgICAgICBsZXQgbmVhcmJ5ID0gcmVzdWx0Lm5lYXJieSB8fCBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5lYXJieS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAvLyByZXNldCBldmFsdWF0aW9uIG9mIGFsbCBuZWFyYnkgbWFya2Vyc1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmVhcmJ5TWFya2VyID0gX21hcmtlcnMuZmluZChtID0+IHsgcmV0dXJuIG0ucHJvcGVydGllcy5pZCA9PSBuZWFyYnlbaV07IH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmVhcmJ5TWFya2VyKVxuICAgICAgICAgICAgICAgICAgICAgICAgbmVhcmJ5TWFya2VyLnByb3BlcnRpZXMuZXZhbHVhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBpZiAoREVCVUcpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuO1xufVxuLy8gcmVtb3ZlIHVzZXItcGxhY2VkIExJUyBmcm9tIG1hcmtlciBsYXllci4gRG9lcyBub3QgcmVtb3ZlIExJUyBmcm9tIERCICh1c2UgcmVtb3ZlQ3VzdG9tQ1BDYWxsYmFjayBpbnN0ZWFkKVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUN1c3RvbUNQRnJvbU1hcChtYXJrZXIpIHtcbiAgICAvLyByZW1vdmUgbWFya2VyIGZyb20gbGF5ZXJcbiAgICBpZiAoX21hcmtlckxheWVyKVxuICAgICAgICBfbWFya2VyTGF5ZXIucmVtb3ZlTGF5ZXIobWFya2VyKTtcbiAgICAvLyByZW1vdmUgbWFya2VyIGZyb20gY3VzdG9tIG1hcmtlciBhcnJheVxuICAgIF9tYXJrZXJzID0gX21hcmtlcnMuZmlsdGVyKG0gPT4geyByZXR1cm4gbS5fbGVhZmxldF9pZCAhPSBtYXJrZXIuX2xlYWZsZXRfaWQ7IH0pO1xuICAgIG1hcmtlci5yZW1vdmUoKTtcbn1cbi8vIHVwZGF0ZSBmaWVsZCBhdCB0b3Agb2YgTElTIG1vZGFsXG5mdW5jdGlvbiB1cGRhdGVMaXNOYW1lKG5hbWUsIGxvY2tlZCkge1xuICAgIGxldCBuYW1lU3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaWRfbGlzbmFtZVwiKTtcbiAgICBsZXQgbmFtZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpZF9saXNuYW1lX2lucHV0XCIpO1xuICAgIGxldCBuYW1lRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaWRfbGlzbmFtZV9lZGl0XCIpO1xuICAgIC8vIG9sZCAoZWRpdGVkKSBuYW1lIG1heSBzdGlsbCBiZSBpbiBiYWNrZ3JvdW5kIC0+IHJldmVydCBjaGFuZ2VzXG4gICAgaWYgKG5hbWVTcGFuICYmIG5hbWVJbnB1dCAmJiAobmFtZUlucHV0LnR5cGUgIT09IFwiaGlkZGVuXCIpKSB7XG4gICAgICAgIG5hbWVJbnB1dC50eXBlID0gXCJoaWRkZW5cIjtcbiAgICAgICAgbmFtZVNwYW4uc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgfVxuICAgIC8vIHNldCBtYXJrZXIgbmFtZSBhcyB0aXRsZSBvZiB3aW5kb3dcbiAgICBpZiAobmFtZVNwYW4pXG4gICAgICAgIG5hbWVTcGFuLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBpZiAobmFtZVNwYW4gJiYgbmFtZUVkaXQgJiYgbmFtZUlucHV0KSB7XG4gICAgICAgIC8vIGNhbid0IGVkaXQgbG9ja2VkIExJU1xuICAgICAgICBuYW1lRWRpdC5zdHlsZS52aXNpYmlsaXR5ID0gbG9ja2VkID8gXCJoaWRkZW5cIiA6IFwiaW5pdGlhbFwiO1xuICAgICAgICAvLyBjbGljayBvbiBlZGl0IGljb25cbiAgICAgICAgbmFtZUVkaXQub25jbGljayA9IF8gPT4ge1xuICAgICAgICAgICAgaWYgKG5hbWVJbnB1dC50eXBlID09PSBcImhpZGRlblwiKSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gaW5wdXQ6IGNyZWF0ZSBpbnB1dCBhbmQgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBuYW1lU3Bhbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7IC8vIGhpZGUgdGl0bGVcbiAgICAgICAgICAgICAgICBuYW1lSW5wdXQudHlwZSA9IFwiXCI7IC8vIHNob3cgaW5wdXRcbiAgICAgICAgICAgICAgICBuYW1lSW5wdXQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICBuYW1lSW5wdXQudmFsdWUgPSBuYW1lO1xuICAgICAgICAgICAgICAgIG5hbWVJbnB1dC5vbmNoYW5nZSA9IF8gPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBuYW1lIGNoYW5nZWQ6IG1hcmsgTElTIGFzIGRpcnR5XG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lSW5wdXQudmFsdWUgIT0gbmFtZVNwYW4udGV4dENvbnRlbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrRGlydHkoJ25hbWUnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzcGxheSBuZXcgbmFtZVxuICAgICAgICAgICAgICAgICAgICBuYW1lU3Bhbi50ZXh0Q29udGVudCA9IG5hbWVJbnB1dC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgbmFtZVNwYW4uc3R5bGUuZGlzcGxheSA9IFwiXCI7IC8vIHNob3cgdGl0bGVcbiAgICAgICAgICAgICAgICAgICAgbmFtZUlucHV0LnR5cGUgPSBcImhpZGRlblwiOyAvLyBoaWRlIGlucHV0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGVkaXQgYnV0dG9uIGNsaWNrZWQgd2hpbGUgZWRpdGluZzogYXBwbHkgY2hhbmdlc1xuICAgICAgICAgICAgICAgIG5hbWVJbnB1dC5vbmNoYW5nZShudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyB1cGRhdGUgcG9zaXRpb24gZmllbGRcbmZ1bmN0aW9uIHVwZGF0ZUxpc1Bvc2l0aW9uRmllbGQobGF0bG5nLCBsb2NrZWQpIHtcbiAgICAvLyB1cGRhdGUgZ29vZ2xlIG1hcHMgbGlua1xuICAgIGxldCBnbWFwc19saW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnb29nbGVfbWFwc19saW5rXCIpO1xuICAgIGdtYXBzX2xpbmsuaHJlZiA9ICdodHRwOi8vbWFwcy5nb29nbGUuY29tL21hcHM/dD1rJnE9bG9jOicgKyBsYXRsbmcubGF0LnRvRml4ZWQoNikgKyAnKycgKyBsYXRsbmcubG5nLnRvRml4ZWQoNik7XG4gICAgbGV0IGNvb3JkU3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaWRfbGlzY29vcmRzXCIpO1xuICAgIGxldCBjb29yZElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpZF9saXNjb29yZHNfaW5wdXRcIik7XG4gICAgbGV0IGNvb3JkRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaWRfbGlzY29vcmRzX2VkaXRcIik7XG4gICAgLy8gb2xkIChlZGl0ZWQpIHBvc2l0aW9uIG1heSBzdGlsbCBiZSBpbiBiYWNrZ3JvdW5kIC0+IHJldmVydCBjaGFuZ2VzXG4gICAgaWYgKGNvb3JkU3BhbiAmJiBjb29yZElucHV0ICYmIChjb29yZElucHV0LnR5cGUgIT09IFwiaGlkZGVuXCIpKSB7XG4gICAgICAgIGNvb3JkSW5wdXQudHlwZSA9IFwiaGlkZGVuXCI7XG4gICAgICAgIGNvb3JkU3Bhbi5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICB9XG4gICAgLy8gc2hvdyBtYXJrZXIgcG9zaXRpb24gaW4gaHVtYW4tcmVhZGFibGUgZm9ybVxuICAgIGxldCBsYXQgPSBNYXRoLmFicyhsYXRsbmcubGF0KS50b0ZpeGVkKFBSRUNJU0lPTik7XG4gICAgbGF0ICs9IGxhdGxuZy5sYXQgPCAwID8gXCLCsFNcIiA6IFwiwrBOXCI7XG4gICAgbGV0IGxuZyA9IE1hdGguYWJzKGxhdGxuZy5sbmcpLnRvRml4ZWQoUFJFQ0lTSU9OKTtcbiAgICBsbmcgKz0gbGF0bG5nLmxuZyA8IDAgPyBcIsKwV1wiIDogXCLCsE9cIjtcbiAgICBjb29yZFNwYW4udGV4dENvbnRlbnQgPSBsYXQgKyBcIjsgXCIgKyBsbmc7XG4gICAgY29vcmRTcGFuLnN0eWxlLmNvbG9yID0gXCJ1bnNldFwiOyAvLyByZXNldCBhbnkgZXJyb3IgY29sb3JpbmdcbiAgICBpZiAoY29vcmRTcGFuICYmIGNvb3JkRWRpdCAmJiBjb29yZElucHV0KSB7XG4gICAgICAgIC8vIGNhbid0IGVkaXQgbG9ja2VkIExJU1xuICAgICAgICBjb29yZEVkaXQuc3R5bGUudmlzaWJpbGl0eSA9IGxvY2tlZCA/IFwiaGlkZGVuXCIgOiBcImluaXRpYWxcIjtcbiAgICAgICAgLy8gY2xpY2sgb24gZWRpdCBpY29uXG4gICAgICAgIGNvb3JkRWRpdC5vbmNsaWNrID0gXyA9PiB7XG4gICAgICAgICAgICBpZiAoY29vcmRJbnB1dC50eXBlID09PSBcImhpZGRlblwiKSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gaW5wdXQ6IHNob3cgaW5wdXQsIGNyZWF0ZSBjYWxsYmFja1xuICAgICAgICAgICAgICAgIGNvb3JkU3Bhbi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7IC8vIGhpZGUgc3BhblxuICAgICAgICAgICAgICAgIGNvb3JkSW5wdXQudHlwZSA9IFwiXCI7IC8vIHNob3cgaW5wdXRcbiAgICAgICAgICAgICAgICBjb29yZElucHV0LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgY29vcmRJbnB1dC52YWx1ZSA9IGNvb3JkU3Bhbi50ZXh0Q29udGVudDtcbiAgICAgICAgICAgICAgICBjb29yZElucHV0Lm9uY2hhbmdlID0gXyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRyeSB0byBwYXJzZSBlbnRlcmVkIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRMYXRMbmdGcm9tU3RyaW5nKGNvb3JkSW5wdXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRTcGFuLnN0eWxlLmNvbG9yID0gXCJ1bnNldFwiOyAvLyByZXNldCBhbnkgZXJyb3IgY29sb3JcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FuJ3QgcGFyc2U6IHJlc2V0IGZpZWxkLCBtYXJrIGFzIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29yZElucHV0LnZhbHVlID0gY29vcmRTcGFuLnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRTcGFuLnN0eWxlLmNvbG9yID0gQ09MT1JTLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvb3JkIGNoYW5nZWQ6IG1hcmsgTElTIGFzIGRpcnR5XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb29yZElucHV0LnZhbHVlICE9IGNvb3JkU3Bhbi50ZXh0Q29udGVudClcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtEaXJ0eSgncG9zaXRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgY29vcmRTcGFuLnRleHRDb250ZW50ID0gY29vcmRJbnB1dC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29vcmRTcGFuLnN0eWxlLmRpc3BsYXkgPSBcIlwiOyAvLyBzaG93IHRpdGxlXG4gICAgICAgICAgICAgICAgICAgIGNvb3JkSW5wdXQudHlwZSA9IFwiaGlkZGVuXCI7IC8vIGhpZGUgaW5wdXRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZWRpdCBidXR0b24gY2xpY2tlZCB3aGlsZSBlZGl0aW5nOiBhcHBseSBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgY29vcmRJbnB1dC5vbmNoYW5nZShudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyBkaXNwbGF5IGxvY2sgc3RhdHVzLCBhbGxvdyAodW4pbG9ja2luZ1xuZnVuY3Rpb24gdXBkYXRlTGlzTG9jayhtYXJrZXIpIHtcbiAgICBsZXQgbG9ja0ljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpcy1sb2NrXCIpO1xuICAgIGlmICghbG9ja0ljb24pXG4gICAgICAgIHJldHVybjtcbiAgICBsZXQgbG9ja0ljb25zID0gW1wiaW9uLW1kLXVubG9ja1wiLCBcImlvbi1tZC1sb2NrXCJdO1xuICAgIGxvY2tJY29uLmNsYXNzTmFtZSA9IFwibGlzLWxvY2sgaWNvbiBcIiArIGxvY2tJY29uc1ttYXJrZXIucHJvcGVydGllcy5sb2NrZWQgKyAwXTtcbiAgICBsb2NrSWNvbi5vbmNsaWNrID0gXyA9PiB7XG4gICAgICAgIC8vIGNhbid0IHVubG9jayB3aGlsZSBldmFsdWF0aW9uIGlzIGluIHByb2Nlc3NcbiAgICAgICAgaWYgKG1hcmtlci5wcm9wZXJ0aWVzLmxvY2tlZCAmJiBfcmVnaW9uLmxpc19ldmFsdWF0aW9uLnJ1bm5pbmcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIFBPU1QgY2hhbmdlOiByZS11c2UgTElTIGZvcm1cbiAgICAgICAgbGV0IHRva2VuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpc2Zvcm0nKS5jc3JmbWlkZGxld2FyZXRva2VuLnZhbHVlO1xuICAgICAgICBsZXQgZm9ybV9kYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgIGZvcm1fZGF0YS5hcHBlbmQoXCJsb2NrXCIsICghbWFya2VyLnByb3BlcnRpZXMubG9ja2VkKSArIFwiXCIpO1xuICAgICAgICBmb3JtX2RhdGEuYXBwZW5kKFwiY3NyZm1pZGRsZXdhcmV0b2tlblwiLCB0b2tlbik7XG4gICAgICAgIGZldGNoUG9zdCgnbGlzLycgKyBtYXJrZXIucHJvcGVydGllcy5pZCArICcvdXBkYXRlLycsIGZvcm1fZGF0YSlcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgLy8gTG9jayBzdGF0dXMgYWZmZWN0cyBtYXAgZGlzcGxheSAtPiByZWRyYXcgb24gbWFwLlxuICAgICAgICAgICAgLy8gVGhpcyBpbnZhbGlkYXRlcyBtYXJrZXIgcmVmZXJlbmNlLCBzbyBjbG9zZSBtb2RhbCB2aWV3XG4gICAgICAgICAgICBsZXQgbWFya2VyZGF0YSA9IHJlc3VsdC5jdXN0b21MSVM7XG4gICAgICAgICAgICAkKFwiI2xpcy1tb2RhbFwiKS5mb3VuZGF0aW9uKFwiY2xvc2VcIik7XG4gICAgICAgICAgICBtYXJrZXIucmVtb3ZlRnJvbShfbWFwKTtcbiAgICAgICAgICAgIG1hcmtlci5yZW1vdmVGcm9tKF9tYXJrZXJMYXllcik7XG4gICAgICAgICAgICBfbWFya2VycyA9IF9tYXJrZXJzLmZpbHRlcihsID0+IGwuX2xlYWZsZXRfaWQgIT0gbWFya2VyLmxlYWZsZXRJRCk7XG4gICAgICAgICAgICBzaG93UmVzdWx0KHsgXCJjdXN0b21MSVNcIjogbWFya2VyZGF0YSB9KTtcbiAgICAgICAgICAgIGZvciAobGV0IG0gb2YgX21hcmtlcnMpIC8vIHNldCBjb3JyZWN0IElEIGZvciBvcGVuaW5nXG4gICAgICAgICAgICAgICAgbS5vbignY2xpY2snLCBfID0+IHsgb3Blbkxpc01vZGFsKG0ucHJvcGVydGllcy5pZCk7IH0pO1xuICAgICAgICAgICAgX21hcmtlcnMgPSBfbWFya2VyTGF5ZXIuZ2V0TGF5ZXJzKCk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgICBpZiAoREVCVUcpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICAvLyBmYWlsOiBub3RpZnkgdXNlclxuICAgICAgICAgICAgYWxlcnQoXCJBa3Rpb24gbmljaHQgbcO2Z2xpY2guIEZpbmRldCBnZXJhZGUgZWluZSBCZXJlY2hudW5nIHN0YXR0P1wiKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbi8vICoqKioqKioqKioqKioqKiogZXZhbHVhdGlvbiAqKioqKioqKioqKioqKioqIC8vXG5mdW5jdGlvbiBzaG93UmF0aW5nKGNhdGVnb3J5LCB2YWx1ZSkge1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDU7IGkrKykge1xuICAgICAgICBsZXQgc3RhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhdGVnb3J5ICsgXCItcmF0aW5nLVwiICsgaSk7XG4gICAgICAgIGlmICghc3RhcilcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAoaSA8PSB2YWx1ZSkge1xuICAgICAgICAgICAgc3Rhci5jbGFzc0xpc3QucmVtb3ZlKCdpb24tbWQtc3Rhci1vdXRsaW5lJyk7XG4gICAgICAgICAgICBzdGFyLmNsYXNzTGlzdC5hZGQoJ2lvbi1tZC1zdGFyJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdGFyLmNsYXNzTGlzdC5yZW1vdmUoJ2lvbi1tZC1zdGFyJyk7XG4gICAgICAgICAgICBzdGFyLmNsYXNzTGlzdC5hZGQoJ2lvbi1tZC1zdGFyLW91dGxpbmUnKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZUxpc1JhdGluZyhyYXRpbmdzKSB7XG4gICAgLy8gdXBkYXRlIHJhdGluZ1xuICAgIGZvciAobGV0IGNhdGVnb3J5IGluIHJhdGluZ3MpIHtcbiAgICAgICAgbGV0IHJhdGluZyA9IHJhdGluZ3NbY2F0ZWdvcnldO1xuICAgICAgICBzaG93UmF0aW5nKGNhdGVnb3J5LCByYXRpbmcpO1xuICAgICAgICAvLyBpbnRlcmFjdGl2aXR5XG4gICAgICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhdGVnb3J5ICsgXCItcmF0aW5nXCIpO1xuICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2F0ZWdvcnkgKyBcIi1yYXRpbmctZGl2XCIpO1xuICAgICAgICBpZiAoIWlucHV0IHx8ICFkaXYpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgaW5wdXQudmFsdWUgPSByYXRpbmc7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDUgJiYgX3Blcm1pc3Npb25zLmV2YWx1YXRlQ3VzdG9tTGlzID49IDI7IGkrKykge1xuICAgICAgICAgICAgbGV0IHN0YXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYXRlZ29yeSArIFwiLXJhdGluZy1cIiArIGkpO1xuICAgICAgICAgICAgaWYgKCFzdGFyKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgc3Rhci5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcbiAgICAgICAgICAgIHN0YXIub25jbGljayA9IF8gPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpICE9IHJhdGluZykge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IGkgKyBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBtYXJrRGlydHkoXCJyYXRpbmdcIik7XG4gICAgICAgICAgICAgICAgICAgIHNob3dSYXRpbmcoY2F0ZWdvcnksIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzdGFyLm9ubW91c2VvdmVyID0gXyA9PiB7XG4gICAgICAgICAgICAgICAgc2hvd1JhdGluZyhjYXRlZ29yeSwgaSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGRpdi5vbm1vdXNlbGVhdmUgPSBfID0+IHsgc2hvd1JhdGluZyhjYXRlZ29yeSwgaW5wdXQudmFsdWUpOyB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZUxpc0V2YWx1YXRpb24ocHJvcGVydGllcykge1xuICAgIC8vIGZpbGwgTElTIGV2YWx1YXRpb24gdGFibGVcbiAgICBsZXQgZXZhbF9kaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlzLWV2YWwtd3JhcHBlci1kaXYnKTtcbiAgICBpZiAoZXZhbF9kaXYpIHtcbiAgICAgICAgaWYgKCFwcm9wZXJ0aWVzLmV2YWx1YXRpb24pIHtcbiAgICAgICAgICAgIC8vIGhpZGUgZXZhbHVhdGlvbiB0YWJsZSBpZiBubyBldmFsdWF0aW9uIGZvciB0aGlzIExJUyBpcyBmb3VuZFxuICAgICAgICAgICAgZXZhbF9kaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGV2YWx1YXRpb24gdGFibGUgaXMgdmlzaWJsZVxuICAgICAgICAgICAgZXZhbF9kaXYuc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IGV2YWxfZmllbGRzID0gWyd5ZWFyJywgJ3Njb3JlX3BvcHVsYXRpb24nLCAnc2NvcmVfcG9pJywgJ3Njb3JlX3RyYWZmaWMnLCAncG93ZXInLCAnY291bnQnXTtcbiAgICBsZXQgbmVhcmJ5X2ZpZWxkcyA9IFsncG9wJywgJ2luY29tZScsICdncmVlbicsICdwb2knLCAndHJhZmZpYycsICdsaXMnXTtcbiAgICBsZXQgaGlnaHdheV9maWVsZHMgPSBbJ21vdG9yd2F5JywgJ3RydW5rJywgJ3ByaW1hcnknLCAnc2Vjb25kYXJ5J107XG4gICAgbGV0IGRuZXR6X2ZpZWxkcyA9IFsnc2VhcmNoX2FyZWFfaWQnLCAnbG9zX2lkJywgJ3JlZ2lvbl9uYW1lX2Z1bGwnLCAnY2F0ZWdvcnlfZnVsbCddO1xuICAgIGZvciAobGV0IGtleSBvZiBfcmVnaW9uLmxpc19ldmFsdWF0aW9uLnR5cGVzIHx8IFtdKSB7XG4gICAgICAgIC8vIGZpbGwgZXZhbHVhdGlvbiB0YWJsZVxuICAgICAgICBsZXQgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlzLWV2YWwtdGFibGUnICsga2V5KTtcbiAgICAgICAgaWYgKCF0YWJsZSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBsZXQgZXZhbHVhdGlvbiA9IHByb3BlcnRpZXMuZXZhbHVhdGlvbltrZXldO1xuICAgICAgICBpZiAoZXZhbF9maWVsZHMubGVuZ3RoICE9IHRhYmxlLnJvd3NbMF0uY2VsbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIndpZHRoIG1pc21hdGNoOiBcIiArIGV2YWxfZmllbGRzLmxlbmd0aCArIFwiIHZzIFwiICsgdGFibGUucm93c1swXS5jZWxscy5sZW5ndGgpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJvZHkgPSB0YWJsZS50Qm9kaWVzWzBdO1xuICAgICAgICAvLyByZXNldCB0YWJsZSBib2R5XG4gICAgICAgIGJvZHkuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggaW4gZXZhbHVhdGlvbikge1xuICAgICAgICAgICAgLy8gaW5kZXggaXMgc3RyaW5nOiBjYXJlZnVsIHdpdGggYXJpdGhtZXRpY1xuICAgICAgICAgICAgbGV0IHJvdyA9IGJvZHkuaW5zZXJ0Um93KC0xKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZXZhbF9maWVsZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSByb3VuZFRvU3RyKGV2YWx1YXRpb25baW5kZXhdW2V2YWxfZmllbGRzW2pdXSwgMCk7XG4gICAgICAgICAgICAgICAgYWRkRWxlbShcIlwiLCB2YWx1ZSwgcm93LCBcIlREXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSBpbmZvIHNwYW5zXG4gICAgICAgIGxldCBleF9saXNfc3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXhpc3RpbmdfbGlzX3NwYW5fXCIgKyBrZXkpO1xuICAgICAgICBpZiAoZXhfbGlzX3NwYW4pIHtcbiAgICAgICAgICAgIGlmIChldmFsdWF0aW9uLmxlbmd0aClcbiAgICAgICAgICAgICAgICBleF9saXNfc3Bhbi5pbm5lclRleHQgPSByb3VuZFRvU3RyKGV2YWx1YXRpb25bMF0uc2NvcmVfZXhpc3RpbmdfbGlzICogMTAwLjAsIDApICsgJyUnO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGV4X2xpc19zcGFuLmlubmVyVGV4dCA9ICctJztcbiAgICAgICAgfVxuICAgICAgICAvLyB1cGRhdGUgcHJveGltaXR5IGluZm9cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWFyYnlfZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZmllbGQgPSBuZWFyYnlfZmllbGRzW2ldO1xuICAgICAgICAgICAgbGV0IGluZm8gPSB7fTtcbiAgICAgICAgICAgIGxldCByYWRpdXNfc3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmFkaXVzX1wiICsgZmllbGQgKyBcIl9zcGFuX1wiICsga2V5KTtcbiAgICAgICAgICAgIGxldCB2YWx1ZV9zcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2YWx1ZV9cIiArIGZpZWxkICsgXCJfc3Bhbl9cIiArIGtleSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGluZm8gPSBwcm9wZXJ0aWVzLmV2YWx1YXRpb24uaW5mby5zY2VuYXJpb3Nba2V5XVtmaWVsZF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoXykgeyB9XG4gICAgICAgICAgICBpZiAocmFkaXVzX3NwYW4pXG4gICAgICAgICAgICAgICAgcmFkaXVzX3NwYW4uaW5uZXJUZXh0ID0gaW5mby5yYWRpdXMgfHwgJy0nO1xuICAgICAgICAgICAgaWYgKHZhbHVlX3NwYW4pXG4gICAgICAgICAgICAgICAgdmFsdWVfc3Bhbi5pbm5lclRleHQgPSBpbmZvLnZhbHVlIHx8ICctJztcbiAgICAgICAgfVxuICAgICAgICAvLyB1cGRhdGUgbmVhcmVzdCBoaWdod2F5IGluZm9cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoaWdod2F5X2ZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGZpZWxkID0gaGlnaHdheV9maWVsZHNbaV07XG4gICAgICAgICAgICBsZXQgaW5mbyA9IHt9O1xuICAgICAgICAgICAgbGV0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZhbHVlX25lYXJlc3RfaGlnaHdheV9cIiArIGZpZWxkICsgXCJfXCIgKyBrZXkpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpbmZvID0gcHJvcGVydGllcy5ldmFsdWF0aW9uLmluZm8uaGlnaHdheXNbZmllbGRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF8pIHsgfVxuICAgICAgICAgICAgaWYgKGVsZW0pIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5mbykge1xuICAgICAgICAgICAgICAgICAgICBsZXQga20gPSBpbmZvLmRpc3RhbmNlIC8gMTAwMC4wO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGVjaW1hbHMgPSBNYXRoLm1pbigzLCBNYXRoLm1heCgwLCA1IC0gTWF0aC5sb2cxMChpbmZvLmRpc3RhbmNlKSkpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dCA9IHJvdW5kVG9TdHIoa20sIGRlY2ltYWxzKSArICcga20nO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mby5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dCArICcgKCcgKyBpbmZvLm5hbWUgKyAnKSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxlbS5pbm5lclRleHQgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5pbm5lclRleHQgPSAnLSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSBkbmV0eiBpbmZvXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZG5ldHpfZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZmllbGQgPSBkbmV0el9maWVsZHNbaV07XG4gICAgICAgICAgICBsZXQgaW5mbyA9IG51bGw7XG4gICAgICAgICAgICBsZXQgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXZhbHVhdGlvbl9cIiArIGZpZWxkICsgXCJfXCIgKyBrZXkpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpbmZvID0gcHJvcGVydGllcy5ldmFsdWF0aW9uLmluZm8uZG5ldHpfc2VhcmNoX2FyZWFbZmllbGRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF8pIHsgfVxuICAgICAgICAgICAgaWYgKGVsZW0pIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5mbykge1xuICAgICAgICAgICAgICAgICAgICBlbGVtLmlubmVyVGV4dCA9IGluZm87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbGVtLmlubmVyVGV4dCA9ICctJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyAqKioqKioqKioqKioqKioqIGRlc2NyaXB0aW9uIGFuZCBjaGF0ICoqKioqKioqKioqKioqKiogLy9cbi8vIENhbGxiYWNrIHdoZW4gc29tZW9uZSB3cm90ZSBhIG5ldyBMSVMgZGVzY3JpcHRpb24uXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlTmV3TGlzRGVzY3JpcHRpb24oKSB7XG4gICAgbGV0IGxpc19pZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGlzX2lkXCIpO1xuICAgIGxldCBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlzLWRlc2NyaXB0aW9uLXN1Ym1pdC1idG4nKTtcbiAgICBsZXQgdGV4dGFyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlzLWRlc2NyaXB0aW9uLXRleHRhcmVhJyk7XG4gICAgaWYgKCFsaXNfaWQgfHwgIXRleHRhcmVhIHx8ICFidXR0b24pIHtcbiAgICAgICAgcmV0dXJuOyAvL29vcHNcbiAgICB9XG4gICAgLy8gVGhpcyBpcyBuZWVkZWQgYmVjYXVzZSB2YWx1ZSBpcyBlbXB0eSB3aGVuIGVkaXRpbmcgd2l0aCBzaW1wbGVtZGUuLi5cbiAgICB0ZXh0YXJlYS52YWx1ZSA9IF9zaW1wbGVtZGUudmFsdWUoKTtcbiAgICBidXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIGZldGNoUG9zdCgnbGlzLycgKyBsaXNfaWQudmFsdWUgKyAnL3VwZGF0ZS8nLCBcImxpcy1kZXNjcmlwdGlvbi1mb3JtXCIsIDMwMDAwKVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICBsZXQgbWFya2VyID0gX21hcmtlcnMuZmluZChtID0+IHsgcmV0dXJuIG0ucHJvcGVydGllcy5pZCA9PSBsaXNfaWQudmFsdWU7IH0pO1xuICAgICAgICBpZiAobWFya2VyKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgY3VycmVudCBMSVMgd2l0aCByZXR1cm5lZCBpbmZvXG4gICAgICAgICAgICBsZXQgZmVhdHVyZSA9IG9iajJGZWF0dXJlQXJyYXkoZGF0YS5jdXN0b21MSVMpWzBdO1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihtYXJrZXIucHJvcGVydGllcywgZmVhdHVyZS5wcm9wZXJ0aWVzKTsgLy8gY29weSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAvLyBzZXQgcHJldmlldyBtb2RlIGZvciBtYXJrZG93biBlZGl0b3JcbiAgICAgICAgICAgIGlmICghX3NpbXBsZW1kZS5pc1ByZXZpZXdBY3RpdmUoKSkge1xuICAgICAgICAgICAgICAgIF9zaW1wbGVtZGUudG9nZ2xlUHJldmlldygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH0pO1xufVxuLy8gQ2FsbGJhY2sgd2hlbiBzb21lb25lIHdyb3RlIGEgbmV3IG1lc3NhZ2UgaW4gTElTIGNoYXQuXG4vLyBTZW5kIHRvIGJhY2tlbmQsIHNob3cgaW4gZnJvbnRlbmQuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlTmV3TGlzTWVzc2FnZSgpIHtcbiAgICBsZXQgbGlzZm9ybSA9IHJlc2V0TElTRm9ybSgpO1xuICAgIGxldCBsaXNfaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpc19pZFwiKTtcbiAgICBsZXQgYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ldy1saXMtbWVzc2FnZS1zdWJtaXQtYnRuJyk7XG4gICAgbGV0IG1lc3NhZ2VfYXJlYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXctbGlzLW1lc3NhZ2UtdGV4dCcpO1xuICAgIGlmICghbGlzZm9ybSB8fCAhbGlzX2lkIHx8ICFtZXNzYWdlX2FyZWEgfHwgIWJ1dHRvbikge1xuICAgICAgICByZXR1cm47IC8vb29wc1xuICAgIH1cbiAgICBidXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIGZldGNoUG9zdCgnbGlzLycgKyBsaXNfaWQudmFsdWUgKyAnL21lc3NhZ2UvbmV3LycsIFwibmV3LWxpcy1tZXNzYWdlLWZvcm1cIiwgMzAwMDApXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgICAgLnRoZW4obXNnID0+IHtcbiAgICAgICAgX2NoYXRfbWVzc2FnZXMgPSBtc2c7XG4gICAgICAgIHJlbmRlckxpc0V2ZW50TG9nKHBhcnNlSW50KGxpc19pZC52YWx1ZSwgMTApKTtcbiAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KS5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgbWVzc2FnZV9hcmVhLnZhbHVlID0gXCJcIjtcbiAgICAgICAgYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfSk7XG59XG4vLyAqKioqKioqKioqKioqKioqIGNoZWNrbGlzdCAqKioqKioqKioqKioqKioqIC8vXG4vLyBjcmVhdGUgbmV3IGNoZWNrbGlzdCBpdGVtIHdpdGggZ2l2ZW4gaXRlbSBkaWN0aW9uYXJ5XG4vLyBtZW1iZXJzIG9mIGl0ZW0gbWF5IGJlIGxhYmVsLCBjaGVja2VkLCBkZWZhdWx0LCB1c2VyIGFuZCBtb2RpZmllZCAtIG5vbmUgaXMgcmVxdWlyZWQgKGUuZy4gZW1wdHkgaXRlbSlcbmZ1bmN0aW9uIGNyZWF0ZUxpc0NoZWNrbGlzdEl0ZW0oaXRlbSkge1xuICAgIC8vIGdldCBjb250YWluaW5nIGNoZWNrbGlzdCBkaXZcbiAgICBsZXQgY2hlY2tsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaXMtY2hlY2tsaXN0XCIpO1xuICAgIGlmICghY2hlY2tsaXN0KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAvLyBjcmVhdGUgY2VsbFxuICAgIGxldCBjZWxsID0gYWRkRWxlbShcImNlbGwgY2hlY2tsaXN0X19pdGVtXCIsIG51bGwsIG51bGwsIFwiRElWXCIpO1xuICAgIGxldCBpc0RlZmF1bHQgPSBCb29sZWFuKGl0ZW0uZGVmYXVsdCk7XG4gICAgaWYgKGlzRGVmYXVsdClcbiAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKFwiY2hlY2tsaXN0X19pdGVtLS1kZWZhdWx0XCIpO1xuICAgIGVsc2VcbiAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKFwiY2hlY2tsaXN0X19pdGVtLS1jdXN0b21cIik7XG4gICAgLy8gY3JlYXRlIGRpdiBjb250YWluaW5nIGNoZWNrYm94LCBsYWJlbCBhbmQgaW5mb2JveFxuICAgIGxldCBjaGVja0RpdiA9IGFkZEVsZW0oXCJjaGVja2xpc3RfX2NoZWNrYm94XCIsIG51bGwsIGNlbGwsIFwiRElWXCIpO1xuICAgIGxldCBjaGVja2JveCA9IG51bGw7XG4gICAgLy8gY3JlYXRlIGNoZWNrYm94XG4gICAgY2hlY2tib3ggPSBhZGRFbGVtKFwibGlzLWNoZWNrYm94XCIsIG51bGwsIGNoZWNrRGl2LCBcImlucHV0XCIpO1xuICAgIGNoZWNrYm94LnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgY2hlY2tib3guY2hlY2tlZCA9IEJvb2xlYW4oaXRlbS5jaGVja2VkKTtcbiAgICBjaGVja2JveC5pZCA9IFwiY2hlY2tib3hfXCIgKyBjaGVja2xpc3QuY2hpbGRFbGVtZW50Q291bnQ7XG4gICAgY2hlY2tib3guZGlzYWJsZWQgPSBfcGVybWlzc2lvbnMuY2hlY2tsaXN0QWNjZXNzIDwgMjtcbiAgICBjaGVja2JveC5vbmNsaWNrID0gXyA9PiB7XG4gICAgICAgIG1hcmtEaXJ0eSgnbGlzdCcpOyAvLyBtYWRlIGNoYW5nZSAtPiBtYXJrIGFzIGNoYW5nZWRcbiAgICAgICAgdXBkYXRlQ2hlY2tsaXN0UHJvZ3Jlc3NCYXIoKTsgLy8gcmVkcmF3IHByb2dyZXNzIGJhclxuICAgIH07XG4gICAgLy8gY3JlYXRlIGxhYmVsIGZvciBjaGVja2JveFxuICAgIGxldCBsYWJlbCA9IGl0ZW0ubGFiZWwgfHwgXCJcIjtcbiAgICBsZXQgY2hlY2tsYmwgPSBhZGRFbGVtKG51bGwsIGxhYmVsLCBjaGVja0RpdiwgXCJsYWJlbFwiKTtcbiAgICBjaGVja2xibC5odG1sRm9yID0gY2hlY2tib3ggPyBjaGVja2JveC5pZCA6IG51bGw7XG4gICAgY2hlY2tsYmwuc2V0QXR0cmlidXRlKFwiaXNkZWZhdWx0XCIsIGlzRGVmYXVsdC50b1N0cmluZygpKTtcbiAgICBjaGVja2xibC50aXRsZSA9IGxhYmVsO1xuICAgIC8vIGNyZWF0ZSBpbmZvIGRpdiBmb3IgY2hlY2tib3ggKHVzZXIsIGxhc3QgZWRpdClcbiAgICBsZXQgdXNlciA9IGl0ZW0udXNlcjsgLy8gdXNlciBmaXJzdC9sYXN0IG5hbWUuIE1heSBiZSBudWxsL3VuZGVmaW5lZFxuICAgIGxldCBtb2RpZmllZCA9IGl0ZW0ubW9kaWZpZWQ7IC8vIFVOSVggdGltZXN0YW1wLiBNYXkgYmUgbnVsbC91bmRlZmluZWRcbiAgICBpZiAodXNlcikge1xuICAgICAgICBsZXQgaW5mb2RpdiA9IGFkZEVsZW0oXCJpY29uIGljb24tLXNtYWxsIGlvbi1tZC1pbmZvcm1hdGlvbi1jaXJjbGVcIiwgbnVsbCwgY2hlY2tEaXYsIFwiaVwiKTtcbiAgICAgICAgaW5mb2Rpdi50aXRsZSA9IFwiTGV0enRlIMOEbmRlcnVuZyB2b24gXCIgKyB1c2VyO1xuICAgICAgICBpZiAobW9kaWZpZWQpIHtcbiAgICAgICAgICAgIC8vIGhhdmUgZnVuIHdpdGggdGltZXN0YW1wcyBhbmQgZGlmZmVyZW50IHRpbWUgZm9ybWF0c1xuICAgICAgICAgICAgLy8gRGphbmdvIFRTOiB1bml4IGluIGZ1bGwgc2Vjb25kcywgSlM6IG1pbGxpc2Vjb25kc1xuICAgICAgICAgICAgbGV0IG1vZERhdGUgPSBuZXcgRGF0ZShtb2RpZmllZCAqIDEwMDApO1xuICAgICAgICAgICAgLy8gaXMgbW9kaWZpZWQgZnJvbSB0b2RheT9cbiAgICAgICAgICAgIGlmIChuZXcgRGF0ZSgpLnRvRGF0ZVN0cmluZygpID09PSBtb2REYXRlLnRvRGF0ZVN0cmluZygpKSB7XG4gICAgICAgICAgICAgICAgLy8gbW9kaWZpZWQgdG9kYXk6IHNob3cgdGltZVxuICAgICAgICAgICAgICAgIGluZm9kaXYudGl0bGUgKz0gXCIgdW0gXCIgKyBtb2REYXRlLnRvTG9jYWxlVGltZVN0cmluZyhcImRlXCIpLnN1YnN0cigwLCA1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG5vdCBtb2RpZmllZCB0b2RheTogc2hvdyBkYXRlXG4gICAgICAgICAgICAgICAgaW5mb2Rpdi50aXRsZSArPSBcIiBhbSBcIiArIG1vZERhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKFwiZGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFpc0RlZmF1bHQgJiYgKF9wZXJtaXNzaW9ucy5jaGVja2xpc3RBY2Nlc3MgPj0gMikpIHtcbiAgICAgICAgLy8gbm9uLWRlZmF1bHQ6IG1ha2UgZWRpdGFibGUgYW5kIHJlbW92YWJsZVxuICAgICAgICAvLyBjcmVhdGUgaW5wdXQgYm94IHRvIHJlcGxhY2UgbGFiZWxcbiAgICAgICAgbGV0IGNoZWNrSW5wdXQgPSBhZGRFbGVtKFwiXCIsIFwiXCIsIG51bGwsIFwiaW5wdXRcIik7XG4gICAgICAgIC8vIGNyZWF0ZSBlZGl0IGljb25cbiAgICAgICAgbGV0IGVkaXREaXYgPSBhZGRFbGVtKFwiaWNvbiBpY29uLS1zbWFsbCBpb24tbWQtY3JlYXRlXCIsIG51bGwsIGNoZWNrRGl2LCBcImlcIik7XG4gICAgICAgIC8vIGlzIHRoaXMgaXRlbSBpbiBlZGl0YWJsZSBzdGF0ZT9cbiAgICAgICAgbGV0IGVkaXRTdGF0ZSA9IGZhbHNlO1xuICAgICAgICBlZGl0RGl2Lm9uY2xpY2sgPSBfID0+IHtcbiAgICAgICAgICAgIGlmICghZWRpdFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVwbGFjZSBsYWJlbCB3aXRoIHRleHQgaW5wdXQgKHNhbWUgY29udGVudClcbiAgICAgICAgICAgICAgICBjaGVja0Rpdi5yZXBsYWNlQ2hpbGQoY2hlY2tJbnB1dCwgY2hlY2tsYmwpO1xuICAgICAgICAgICAgICAgIGNoZWNrSW5wdXQudmFsdWUgPSBjaGVja2xibC50ZXh0Q29udGVudDtcbiAgICAgICAgICAgICAgICBjaGVja0lucHV0LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgZWRpdFN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjaGVja0lucHV0Lm9uY2hhbmdlID0gXyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpbmlzaGVkIGVkaXRpbmcgLT4gcmVwbGFjZSB0ZXh0IGlucHV0IHdpdGggbGFiZWxcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrbGJsLnRleHRDb250ZW50ICE9IGNoZWNrSW5wdXQudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrRGlydHkoJ2xpc3QnKTsgLy8gbWFkZSBjaGFuZ2UgLT4gZW5hYmxlIHNhdmluZ1xuICAgICAgICAgICAgICAgICAgICBjaGVja2xibC50ZXh0Q29udGVudCA9IGNoZWNrSW5wdXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRGl2LnJlcGxhY2VDaGlsZChjaGVja2xibCwgY2hlY2tJbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRTdGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjaGVja2xibC50aXRsZSA9IGNoZWNrSW5wdXQudmFsdWU7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGNsaWNrZWQgb24gZWRpdCBidXR0b24gd2hpbGUgZWRpdGluZzogZmluaXNoZWQgZWRpdGluZ1xuICAgICAgICAgICAgICAgIGNoZWNrSW5wdXQub25jaGFuZ2UobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIGRlbGV0ZSBidXR0b246IGRlbGV0ZSBjZWxsXG4gICAgICAgIC8vIGNyZWF0ZSBkZWxldGUgaWNvblxuICAgICAgICBsZXQgZGVsRGl2ID0gYWRkRWxlbShcImNoZWNrbGlzdF9fZGVsZXRlXCIsIG51bGwsIGNlbGwsIFwiRElWXCIpO1xuICAgICAgICBhZGRFbGVtKFwiaWNvbiBpY29uLS1tZWRpdW0gaW9uLW1kLWNsb3NlXCIsIG51bGwsIGRlbERpdiwgXCJpXCIpO1xuICAgICAgICBkZWxEaXYub25jbGljayA9IF8gPT4ge1xuICAgICAgICAgICAgY2hlY2tsaXN0LnJlbW92ZUNoaWxkKGNlbGwpO1xuICAgICAgICAgICAgbWFya0RpcnR5KCdsaXN0Jyk7IC8vIG1hZGUgY2hhbmdlIC0+IGVuYWJsZSBzYXZpbmdcbiAgICAgICAgICAgIHVwZGF0ZUNoZWNrbGlzdFByb2dyZXNzQmFyKCk7IC8vIHJlZHJhdyBwcm9ncmVzcyBiYXJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGNlbGw7XG59XG4vLyByZWRyYXcgbW9kYWwgTElTIHZpZXcgY2hlY2tsaXN0XG5mdW5jdGlvbiB1cGRhdGVMaXNDaGVja2xpc3QoY2hlY2tsaXN0KSB7XG4gICAgbGV0IGNoZWNrRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaXMtY2hlY2tsaXN0XCIpO1xuICAgIGlmICghY2hlY2tEaXYpXG4gICAgICAgIHJldHVybjtcbiAgICAvLyBlbXB0eSBjaGVja2xpc3RcbiAgICBjaGVja0Rpdi5pbm5lckhUTUwgPSBcIlwiO1xuICAgIC8vIHJlLWJ1aWxkIGNoZWNrbGlzdCBpdGVtc1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hlY2tsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjZWxsID0gY3JlYXRlTGlzQ2hlY2tsaXN0SXRlbShjaGVja2xpc3RbaV0pO1xuICAgICAgICBjaGVja0Rpdi5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICB9XG4gICAgLy8gc2V0IHByb2dyZXNzIGJhclxuICAgIHVwZGF0ZUNoZWNrbGlzdFByb2dyZXNzQmFyKCk7XG59XG4vLyBhZGQgbmV3IGVtcHR5IGl0ZW0gdG8gTElTIGNoZWNrbGlzdFxuZXhwb3J0IGZ1bmN0aW9uIGFkZE5ld0xpc0NoZWNrbGlzdEl0ZW0oKSB7XG4gICAgbGV0IGNoZWNrbGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGlzLWNoZWNrbGlzdFwiKTtcbiAgICBpZiAoIWNoZWNrbGlzdClcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCBjZWxsID0gY3JlYXRlTGlzQ2hlY2tsaXN0SXRlbSh7fSk7XG4gICAgY2hlY2tsaXN0LmFwcGVuZENoaWxkKGNlbGwpO1xuICAgIC8vIG9wZW4gaW5wdXQgZm9yIGNlbGwgdG8gZWRpdCAtPiBzaW11bGF0ZSBjbGljayBvbiBlZGl0IGJ1dHRvblxuICAgIGNlbGwuZmlyc3RDaGlsZC5jaGlsZHJlblsyXS5jbGljaygpO1xuICAgIC8vIG1hZGUgY2hhbmdlOiByZWRyYXcgcHJvZ3Jlc3MgYmFyLCBlbmFibGUgc2F2ZVxuICAgIHVwZGF0ZUNoZWNrbGlzdFByb2dyZXNzQmFyKCk7XG4gICAgbWFya0RpcnR5KCdsaXN0Jyk7XG59XG4vLyB0aGUgY3VycmVudCBMSVMgY2hlY2tsaXN0IGFzIGFycmF5IG9mIGRpY3RzIGZvciBlYXNlIG9mIHRyYW5zcG9ydGF0aW9uXG5mdW5jdGlvbiBnZXRMaXNDaGVja2xpc3QoKSB7XG4gICAgbGV0IGNoZWNrbGlzdCA9IFtdO1xuICAgIGxldCBjaGVja0xpc3REaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlzLWNoZWNrbGlzdCcpO1xuICAgIC8vIGxvb3Agb3ZlciBjaGVja2xpc3QgaXRlbXNcbiAgICBmb3IgKGxldCBpID0gMDsgY2hlY2tMaXN0RGl2ICYmIChpIDwgY2hlY2tMaXN0RGl2LmNoaWxkRWxlbWVudENvdW50KTsgaSsrKSB7XG4gICAgICAgIGxldCBjZWxsID0gY2hlY2tMaXN0RGl2LmNoaWxkcmVuW2ldO1xuICAgICAgICBsZXQgY2hlY2tEaXYgPSBjZWxsLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGxldCBjaGVja2JveCA9IGNoZWNrRGl2LmZpcnN0Q2hpbGQ7XG4gICAgICAgIGxldCBsYWJlbCA9IGNoZWNrRGl2LmNoaWxkcmVuWzFdO1xuICAgICAgICBpZiAobGFiZWwudGV4dENvbnRlbnQgIT0gXCJcIikge1xuICAgICAgICAgICAgY2hlY2tsaXN0LnB1c2goe1xuICAgICAgICAgICAgICAgICdsYWJlbCc6IGxhYmVsLnRleHRDb250ZW50LFxuICAgICAgICAgICAgICAgICdkZWZhdWx0JzogbGFiZWwuZ2V0QXR0cmlidXRlKFwiaXNkZWZhdWx0XCIpID09PSBcInRydWVcIixcbiAgICAgICAgICAgICAgICAnY2hlY2tlZCc6IGNoZWNrYm94LmNoZWNrZWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGVja2xpc3Q7XG59XG4vLyB1cGRhdGUgd2lkdGggb2YgY2hlY2tsaXN0IHByb2dyZXNzIGJhclxuZnVuY3Rpb24gdXBkYXRlQ2hlY2tsaXN0UHJvZ3Jlc3NCYXIoKSB7XG4gICAgbGV0IHByb2dyZXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoZWNrbGlzdC1wcm9ncmVzcy1iYXInKTtcbiAgICBpZiAoIXByb2dyZXNzKSAvLyBjYW4ndCB1cGRhdGUgbm9uLWV4aXN0ZW50IHByb2dyZXNzIGJhclxuICAgICAgICByZXR1cm47XG4gICAgLy8gZ2V0IGFsbCBjaGVja2JveGVzIGJ5IHNwZWNpYWwgY2xhc3NcbiAgICBsZXQgY2hlY2tib3hlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJsaXMtY2hlY2tib3hcIik7XG4gICAgLy8gZ2V0IG51bWJlciBvZiBjaGVja2VkIGJveGVzXG4gICAgbGV0IHBlcmNlbnQgPSAwO1xuICAgIGZvciAobGV0IGJveCBvZiBjaGVja2JveGVzKVxuICAgICAgICBwZXJjZW50ICs9IGJveC5jaGVja2VkID8gMSA6IDA7XG4gICAgaWYgKGNoZWNrYm94ZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgcHJvZ3Jlc3Muc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibGlzLWNoZWNrbGlzdC1ub2l0ZW1zXCIpWzBdLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcHJvZ3Jlc3Muc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJsaXMtY2hlY2tsaXN0LW5vaXRlbXNcIilbMF0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgICAvLyBjYWxjdWxhdGUgZnJhY3Rpb24gb2YgY2hlY2tlZCBib3hlc1xuICAgIHBlcmNlbnQgPSBwZXJjZW50ID8gcGVyY2VudCAqIDEwMCAvIGNoZWNrYm94ZXMubGVuZ3RoIDogMDtcbiAgICAvLyByZWRyYXcgcHJvZ3Jlc3MgYmFyICh3aWR0aCwgY2FwdGlvbilcbiAgICBzZXRQcm9ncmVzc2JhclZhbHVlKHByb2dyZXNzLCBNYXRoLnJvdW5kKHBlcmNlbnQpKTtcbn1cbi8vICoqKioqKioqKioqKioqKiogcG93ZXIgdGFibGUgKioqKioqKioqKioqKioqKiAvL1xuLy8gcmVtYWtlIHBvd2VyIHRhYmxlXG5mdW5jdGlvbiB1cGRhdGVMaXNQb3dlclRhYmxlKHBvd2VyX3RhYmxlKSB7XG4gICAgLy8gZW1wdHkgcG93ZXIgdGFibGVcbiAgICByZW1vdmVMaXNQb3dlclRhYmxlUm93cygpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG93ZXJfdGFibGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gYWRkIGEgcm93IGZvciBlYWNoIGVudHJ5XG4gICAgICAgIGFkZExpc1Bvd2VyVGFibGVSb3cocG93ZXJfdGFibGVbaV0uaWQsIHBvd2VyX3RhYmxlW2ldLmNvdW50LCBwb3dlcl90YWJsZVtpXS5wb3dlciwgcG93ZXJfdGFibGVbaV0uZGVtYW5kX2ZhY3Rvcik7XG4gICAgfVxufVxuLy8gcmVtb3ZlIGFsbCByb3dzIGZyb20gcG93ZXIgdGFibGVcbmZ1bmN0aW9uIHJlbW92ZUxpc1Bvd2VyVGFibGVSb3dzKCkge1xuICAgIGxldCB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXMtcG93ZXItdGFibGUnKTtcbiAgICBpZiAoIXRhYmxlKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3Qgcm93Y291bnQgPSB0YWJsZS5yb3dzLmxlbmd0aDtcbiAgICAvLyByZW1vdmUgYWxsIHVzZXItY3JlYXRlZCByb3dzIC0+IGhlYWRlciBhbmQgZm9vdGVyIHJvd3MgYXJlIHJldGFpbmVkXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgKyAyIDwgcm93Y291bnQ7IGkrKykge1xuICAgICAgICB0YWJsZS5kZWxldGVSb3coMSk7IC8vIGRlbGV0ZSBjdXJyZW50IChzZWNvbmQpIHJvd1xuICAgIH1cbiAgICAvLyBjaGFuZ2UgLT4gZXZhbHVhdGVcbiAgICBldmFsTGlzUG93ZXJUYWJsZSgpO1xufVxuLy8gYWRkIHNpbmdsZSByb3cgaW4gcG93ZXIgdGFibGUuIE1heSBnaXZlIGRlZmF1bHRzIGZvciBmaWVsZHMuXG4vLyBUaGlzIGRvZXMgbm90IGNvbnN0aXR1dGUgYSBjaGFuZ2UgYW5kIGRvZXMgbm90IGVuYWJsZSBzYXZpbmcuXG5leHBvcnQgZnVuY3Rpb24gYWRkTGlzUG93ZXJUYWJsZVJvdyhpZCwgY291bnQsIHBvd2VyLCBkZW1hbmRfZmFjdG9yKSB7XG4gICAgbGV0IHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpcy1wb3dlci10YWJsZScpO1xuICAgIGlmICghdGFibGUpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIC8vIGFkZCBuZXcgcm93IGF0IGJvdHRvbVxuICAgIGxldCByb3cgPSB0YWJsZS50Qm9kaWVzWzBdLmluc2VydFJvdygtMSk7XG4gICAgLy8gYWRkIHRhYmxlIGRhdGEgZWxlbWVudCBmb3IgaGlkZGVuIGlkXG4gICAgbGV0IHRkMCA9IGFkZEVsZW0oXCJcIiwgXCJcIiwgcm93LCBcIlREXCIpO1xuICAgIHRkMC5oaWRkZW4gPSB0cnVlO1xuICAgIGxldCByb3dfaWQgPSBhZGRFbGVtKFwiXCIsIFwiXCIsIHRkMCwgXCJESVZcIik7XG4gICAgcm93X2lkLmhpZGRlbiA9IHRydWU7XG4gICAgcm93X2lkLnRleHRDb250ZW50ID0gU3RyaW5nKGlkKTsgLy8gaWQgbWF5IGJlIHVuZGVmaW5lZFxuICAgIC8vIGFkZCB0YWJsZSBkYXRhIGVsZW1lbnQgZm9yIG51bWJlciBvZiBDUFxuICAgIGxldCB0ZDEgPSBhZGRFbGVtKFwiXCIsIFwiXCIsIHJvdywgXCJURFwiKTtcbiAgICBsZXQgbnVtYmVyID0gYWRkRWxlbShcIlwiLCBcIlwiLCB0ZDEsIFwiSU5QVVRcIik7XG4gICAgbnVtYmVyLnR5cGUgPSBcIm51bWJlclwiO1xuICAgIG51bWJlci5taW4gPSBcIjFcIjtcbiAgICBudW1iZXIubWF4ID0gXCI5OTlcIjtcbiAgICBudW1iZXIudmFsdWUgPSAoY291bnQgfHwgMSkgKyBcIlwiO1xuICAgIG51bWJlci5zaXplID0gNDtcbiAgICBudW1iZXIuZGlzYWJsZWQgPSBfcGVybWlzc2lvbnMubGlzQWNjZXNzIDwgMjtcbiAgICBudW1iZXIub25jaGFuZ2UgPSBfID0+IHtcbiAgICAgICAgbnVtYmVyLnZhbHVlID0gTWF0aC5taW4oTWF0aC5tYXgobnVtYmVyLnZhbHVlLCBudW1iZXIubWluKSwgbnVtYmVyLm1heCkgKyBcIlwiO1xuICAgICAgICBldmFsTGlzUG93ZXJUYWJsZSgpO1xuICAgIH07XG4gICAgLy8gYWRkIHRhYmxlIGRhdGEgZWxlbWVudCBmb3IgcG93ZXIgKGRyb3Bkb3duIG1lbnUpXG4gICAgbGV0IHRkMiA9IGFkZEVsZW0oXCJcIiwgXCJcIiwgcm93LCBcIlREXCIpO1xuICAgIGxldCBzZWxlY3QgPSBhZGRFbGVtKFwiXCIsIFwiXCIsIHRkMiwgXCJTRUxFQ1RcIik7XG4gICAgcG93ZXIgPSBwb3dlciB8fCAxMTtcbiAgICBzZWxlY3QubmFtZSA9IFwicG93ZXItdmFsdWVcIjtcbiAgICAvL3NlbGVjdC5zdHlsZS5mbG9hdCA9IFwibGVmdFwiOyAvLyBDU1NcbiAgICBzZWxlY3Quc3R5bGUud2lkdGggPSBcIjgwJVwiO1xuICAgIGxldCBvcHRpb25zID0gWzMuNywgMTEsIDIyLCA0MywgNTAsIDYwLCAxNTAsIDIwMCwgMjUwLCAzMDAsIDMyMCwgMzUwLCA0NTBdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgb3B0aW9uID0gYWRkRWxlbShcIlwiLCBvcHRpb25zW2ldICsgXCJcIiwgc2VsZWN0LCBcIk9QVElPTlwiKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gb3B0aW9uc1tpXSArIFwiXCI7XG4gICAgICAgIGlmIChvcHRpb25zW2ldID09IHBvd2VyKVxuICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgc2VsZWN0LmRpc2FibGVkID0gX3Blcm1pc3Npb25zLmxpc0FjY2VzcyA8IDI7XG4gICAgc2VsZWN0Lm9uY2hhbmdlID0gXyA9PiB7XG4gICAgICAgIGV2YWxMaXNQb3dlclRhYmxlKCk7XG4gICAgfTtcbiAgICAvLyBTUEFOIGZvciBcImtXXCJcbiAgICBsZXQga3dTcGFuID0gYWRkRWxlbShcIlwiLCBcIiBrV1wiLCB0ZDIsIFwiU1BBTlwiKTtcbiAgICBrd1NwYW4uc3R5bGUubGluZUhlaWdodCA9IFwiMi41cmVtXCI7XG4gICAgLy8gYWRkIHRhYmxlIGVsZW1lbnQgZm9yIGNvbmN1cnJlbmN5IGZhY3RvclxuICAgIGxldCB0ZDMgPSBhZGRFbGVtKFwiXCIsIFwiXCIsIHJvdywgXCJURFwiKTtcbiAgICBsZXQgZmFjdG9yID0gYWRkRWxlbShcIlwiLCBcIlwiLCB0ZDMsIFwiSU5QVVRcIik7XG4gICAgZmFjdG9yLnR5cGUgPSBcIm51bWJlclwiO1xuICAgIGZhY3Rvci5taW4gPSBcIjAuMVwiO1xuICAgIGZhY3Rvci5tYXggPSBcIjEuMFwiO1xuICAgIGZhY3Rvci5zdGVwID0gXCIwLjAxXCI7XG4gICAgZmFjdG9yLnNpemUgPSA0O1xuICAgIGZhY3Rvci52YWx1ZSA9IChkZW1hbmRfZmFjdG9yIHx8IDEuMCkgKyBcIlwiO1xuICAgIGZhY3Rvci5kaXNhYmxlZCA9IF9wZXJtaXNzaW9ucy5saXNBY2Nlc3MgPCAyO1xuICAgIGZhY3Rvci5vbmNoYW5nZSA9IF8gPT4ge1xuICAgICAgICBmYWN0b3IudmFsdWUgPSBNYXRoLm1pbihNYXRoLm1heChmYWN0b3IudmFsdWUsIGZhY3Rvci5taW4pLCBmYWN0b3IubWF4KSArIFwiXCI7XG4gICAgICAgIGV2YWxMaXNQb3dlclRhYmxlKCk7XG4gICAgfTtcbiAgICAvLyBhZGQgdGFibGUgZWxlbWVudCBmb3Igc3VtXG4gICAgYWRkRWxlbShcIlwiLCBcIiAtIFwiLCByb3csIFwiVERcIik7IC8vIHVzZWQgbGF0ZXIgdG8gZGlzcGxheSBzdW0gb2Ygcm93XG4gICAgLy8gYWRkIHRhYmxlIGVsZW1lbnQgZm9yIHJlbW92YWwgYnV0dG9uXG4gICAgbGV0IGNlbGwgPSByb3cuaW5zZXJ0Q2VsbCgtMSk7XG4gICAgaWYgKF9wZXJtaXNzaW9ucy5saXNBY2Nlc3MgPj0gMikge1xuICAgICAgICAvLyBpbnNlcnQgZGVsZXRlIGJ1dHRvblxuICAgICAgICBsZXQgZGVsX2J0biA9IGFkZEVsZW0oXCJkZWxldGUtYnV0dG9uXCIsIFwiXCIsIGNlbGwsIFwiQlVUVE9OXCIpO1xuICAgICAgICBkZWxfYnRuLnRpdGxlID0gXCJaZWlsZSBlbnRmZXJuZW5cIjtcbiAgICAgICAgZGVsX2J0bi5vbmNsaWNrID0gXyA9PiB7XG4gICAgICAgICAgICB0YWJsZS5kZWxldGVSb3cocm93LnJvd0luZGV4KTtcbiAgICAgICAgICAgIGV2YWxMaXNQb3dlclRhYmxlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGFkZEVsZW0oXCJpY29uIGlvbi1tZC1yZW1vdmUtY2lyY2xlLW91dGxpbmVcIiwgXCJcIiwgZGVsX2J0biwgXCJJXCIpO1xuICAgIH1cbiAgICAvLyB0YWJsZSBmaW5pc2hlZCAtPiB3cml0ZSBvdXQgc3VtbWFyeSBvZiB0YWJsZVxuICAgIGV2YWxMaXNQb3dlclRhYmxlKCk7XG4gICAgcmV0dXJuIHJvdztcbn1cbi8vIHdyaXRlIHN1bW1hcnkgb2YgdGFibGVcbmV4cG9ydCBmdW5jdGlvbiBldmFsTGlzUG93ZXJUYWJsZSgpIHtcbiAgICBsZXQgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlzLXBvd2VyLXRhYmxlJyk7XG4gICAgbGV0IHBvd2VyX2FyciA9IFtdO1xuICAgIGlmICghdGFibGUpXG4gICAgICAgIHJldHVybiBwb3dlcl9hcnI7XG4gICAgbGV0IGNvdW50X3N1bSA9IDA7XG4gICAgbGV0IHBvd2VyX3N1bSA9IDAuMDtcbiAgICBjb25zdCByb3djb3VudCA9IHRhYmxlLnJvd3MubGVuZ3RoO1xuICAgIC8vIHNraXAgZmlyc3QgYW5kIGxhc3Qgcm93IChoZWFkZXIgYW5kIGZvb3RlcilcbiAgICBmb3IgKGxldCByb3cgPSAxOyByb3cgKyAxIDwgcm93Y291bnQ7IHJvdysrKSB7XG4gICAgICAgIGxldCBpZCA9IE51bWJlcih0YWJsZS5yb3dzW3Jvd10uY2VsbHNbMF0uY2hpbGRyZW5bMF0udGV4dENvbnRlbnQpO1xuICAgICAgICBsZXQgY291bnQgPSBOdW1iZXIodGFibGUucm93c1tyb3ddLmNlbGxzWzFdLmNoaWxkcmVuWzBdLnZhbHVlKTtcbiAgICAgICAgbGV0IHBvd2VyID0gTnVtYmVyKHRhYmxlLnJvd3Nbcm93XS5jZWxsc1syXS5jaGlsZHJlblswXS52YWx1ZSk7XG4gICAgICAgIGxldCBkZW1hbmRfZmFjdG9yID0gTnVtYmVyKHRhYmxlLnJvd3Nbcm93XS5jZWxsc1szXS5jaGlsZHJlblswXS52YWx1ZSk7XG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4oY291bnQpIHx8IE51bWJlci5pc05hTihwb3dlcikgfHwgTnVtYmVyLmlzTmFOKGRlbWFuZF9mYWN0b3IpKSB7XG4gICAgICAgICAgICAvLyBpbnZhbGlkIGVudHJ5OiBpZ25vcmUgcm93IHJlc3VsdFxuICAgICAgICAgICAgdGFibGUucm93c1tyb3ddLmNlbGxzWzNdLnRleHRDb250ZW50ID0gJy0nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdmFsaWQgZW50cmllczogYWRkIHRvIGNoYXJnaW5nIHBvaW50IHBvd2VyXG4gICAgICAgICAgICBsZXQgcm93UG93ZXIgPSBjb3VudCAqIHBvd2VyICogZGVtYW5kX2ZhY3RvcjtcbiAgICAgICAgICAgIGNvdW50X3N1bSArPSBjb3VudDtcbiAgICAgICAgICAgIHBvd2VyX3N1bSArPSByb3dQb3dlcjtcbiAgICAgICAgICAgIC8vIGRpc3BsYXkgcm93IHJlc3VsdFxuICAgICAgICAgICAgdGFibGUucm93c1tyb3ddLmNlbGxzWzRdLnRleHRDb250ZW50ID0gcm91bmRUb1N0cihyb3dQb3dlciwgMikgKyAnIGtXJztcbiAgICAgICAgICAgIHBvd2VyX2Fyci5wdXNoKHtcbiAgICAgICAgICAgICAgICBcImlkXCI6IGlkLFxuICAgICAgICAgICAgICAgIFwiY291bnRcIjogY291bnQsXG4gICAgICAgICAgICAgICAgXCJwb3dlclwiOiBwb3dlcixcbiAgICAgICAgICAgICAgICBcImRlbWFuZF9mYWN0b3JcIjogZGVtYW5kX2ZhY3RvcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGRpc3BsYXkgY2hhcmdpbmcgcG9pbnQgcG93ZXIgaW4gZm9vdGVyXG4gICAgdGFibGUucm93c1tyb3djb3VudCAtIDFdLmNlbGxzWzBdLnRleHRDb250ZW50ID0gY291bnRfc3VtICsgJyc7XG4gICAgdGFibGUucm93c1tyb3djb3VudCAtIDFdLmNlbGxzWzJdLnRleHRDb250ZW50ID0gcm91bmRUb1N0cihwb3dlcl9zdW0sIDIpICsgJyBrVyc7XG4gICAgLy8gYW55IGV2YWx1YXRpb24gY29tZXMgYWZ0ZXIgY2hhbmdlIC0+IGVuYWJsZSBzYXZpbmdcbiAgICAvLyBJbml0aWFsIGV2YWx1YXRpb24gKHdoZW4gdmlldyBpcyBvcGVuZWQpIGlzIGV4ZWN1dGVkIGJlZm9yZSBzYXZlIGRpc2FibGVcbiAgICBtYXJrRGlydHkoJ3Bvd2VyJyk7XG4gICAgLy8gZG9uJ3Qgd3JpdGUgYmFjayByZXN1bHRzIHlldCAoZG9uJ3QgaGF2ZSBtYXJrZXIgYW55d2F5KSwgbGV0IHVzZXIgc2F2ZVxuICAgIHJldHVybiBwb3dlcl9hcnI7XG59XG4vLyAqKioqKioqKioqKioqKioqIExJUyBzdXJ2ZXkgICoqKioqKioqKioqKioqKiogLy9cbmZ1bmN0aW9uIHVwZGF0ZUxpc1N1cnZleShsaXNfc3VydmV5LCBsaXNfc3VydmV5X2RhdGEpIHtcbiAgICBsaXNfc3VydmV5X2RhdGEgPSBsaXNfc3VydmV5X2RhdGEgfHwge307XG4gICAgbGV0IG1haW5fZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaXMtc3VydmV5LWRpdlwiKTtcbiAgICBpZiAoIW1haW5fZGl2KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbWFpbl9kaXYuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAvLyBidWlsZCB0YWJzXG4gICAgbGV0IHRhYnMgPSB7fTtcbiAgICB7XG4gICAgICAgIGxldCB0YWJfaGVhZGVyID0gYWRkRWxlbShcInRhYnNcIiwgXCJcIiwgbWFpbl9kaXYsIFwidWxcIik7XG4gICAgICAgIHRhYl9oZWFkZXIuZGF0YXNldC50YWJzID0gXCJcIjtcbiAgICAgICAgdGFiX2hlYWRlci5kYXRhRGVlcExpbmsgPSBmYWxzZTtcbiAgICAgICAgdGFiX2hlYWRlci5pZCA9IFwibGlzLXN1cnZleS10YWJzXCI7XG4gICAgICAgIGxldCB0YWJfY29udGVudCA9IGFkZEVsZW0oXCJ0YWJzLWNvbnRlbnRcIiwgXCJcIiwgbWFpbl9kaXYsIFwiZGl2XCIpO1xuICAgICAgICB0YWJfY29udGVudC5kYXRhc2V0LnRhYnNDb250ZW50ID0gXCJsaXMtc3VydmV5LXRhYnNcIjtcbiAgICAgICAgbGV0IGZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCB0YWIgb2YgKGxpc19zdXJ2ZXkudGFicyB8fCBbXSkpIHtcbiAgICAgICAgICAgIGxldCB0aXRsZSA9IGFkZEVsZW0oXCJ0YWJzLXRpdGxlXCIsIFwiXCIsIHRhYl9oZWFkZXIsIFwibGlcIik7XG4gICAgICAgICAgICBsZXQgYSA9IGFkZEVsZW0oXCJcIiwgdGFiLmxhYmVsLCB0aXRsZSwgJ2EnKTtcbiAgICAgICAgICAgIGEuaHJlZiA9IFwiI2xpcy1zdXJ2ZXktdGFiLVwiICsgdGFiLmtleTtcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gYWRkRWxlbShcInRhYnMtcGFuZWxcIiwgXCJcIiwgdGFiX2NvbnRlbnQsIFwiZGl2XCIpO1xuICAgICAgICAgICAgY29udGVudC5pZCA9IFwibGlzLXN1cnZleS10YWItXCIgKyB0YWIua2V5O1xuICAgICAgICAgICAgdGFic1t0YWIua2V5XSA9IGNvbnRlbnQ7XG4gICAgICAgICAgICBpZiAoZmlyc3QpIHtcbiAgICAgICAgICAgICAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKFwiaXMtYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LmFkZChcImlzLWFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5ldyBGb3VuZGF0aW9uLlRhYnMoJCgnI2xpcy1zdXJ2ZXktdGFicycpKTtcbiAgICB9XG4gICAgbGV0IHVzZWRfa2V5cyA9IHt9O1xuICAgIC8vIGFkZCBlbGVtZW50cyAoaW5wdXQgZmllbGRzIGFuZCBvdGhlcnMpXG4gICAgZm9yIChjb25zdCBlbGVtIG9mIChsaXNfc3VydmV5LmVsZW1zIHx8IFtdKSkge1xuICAgICAgICBpZiAoZWxlbS50eXBlID09PSBcImNhcHRpb25cIikge1xuICAgICAgICAgICAgYWRkRWxlbShcImxpcy1zdXJ2ZXktY2FwdGlvblwiLCBlbGVtLmxhYmVsLCB0YWJzW2VsZW0udGFiXSB8fCBtYWluX2RpdiwgXCJkaXZcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB0eXBlID09PSBcImlucHV0XCIgaXMgaW1wbGljaXRcbiAgICAgICAgICAgIGxldCBmaWVsZF9kaXYgPSBhZGRFbGVtKFwibGlzLXN1cnZleS1pbnB1dC1kaXZcIiwgXCJcIiwgdGFic1tlbGVtLnRhYl0gfHwgbWFpbl9kaXYsIFwiZGl2XCIpO1xuICAgICAgICAgICAgbGV0IGZpZWxkX2xhYmVsID0gYWRkRWxlbShcIlwiLCBlbGVtLmxhYmVsLCBmaWVsZF9kaXYsIFwibGFiZWxcIik7XG4gICAgICAgICAgICBsZXQgZmllbGRfaW5wdXQgPSBhZGRFbGVtKFwibGlzLXN1cnZleS1pbnB1dFwiLCBcIlwiLCBmaWVsZF9sYWJlbCwgZWxlbS50eXBlID09PSBcInRleHRhcmVhXCIgPyBcInRleHRhcmVhXCIgOiBcImlucHV0XCIpO1xuICAgICAgICAgICAgZmllbGRfaW5wdXQuZGF0YXNldC5maWVsZEtleSA9IGVsZW0ua2V5O1xuICAgICAgICAgICAgZm9yIChjb25zdCBbYV9rZXksIGFfdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGVsZW0uYXR0cikpIHtcbiAgICAgICAgICAgICAgICBmaWVsZF9pbnB1dFthX2tleV0gPSBhX3ZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxpc19zdXJ2ZXlfZGF0YS5maWVsZHMgJiYgbGlzX3N1cnZleV9kYXRhLmZpZWxkc1tlbGVtLmtleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGZpZWxkX2lucHV0LnZhbHVlID0gbGlzX3N1cnZleV9kYXRhLmZpZWxkc1tlbGVtLmtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWVsZW0ubm9fbGluZV9icmVhaykge1xuICAgICAgICAgICAgICAgIGFkZEVsZW0oXCJcIiwgXCJcIiwgZmllbGRfZGl2LnBhcmVudEVsZW1lbnQsIFwiYnJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodXNlZF9rZXlzW2VsZW0ua2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignbGlzIHN1cnZleSBrZXkgaXMgbm90IHVuaXF1ZTogJyArIGVsZW0ua2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVzZWRfa2V5c1tlbGVtLmtleV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8gKioqKioqKioqKioqKioqKiBpbWFnZXMgKioqKioqKioqKioqKioqKiAvL1xuLy8gYWRkIGltYWdlcyB0byBMSVNcbmZ1bmN0aW9uIHVwZGF0ZUxpc0ltYWdlcyhpbWFnZXMpIHtcbiAgICBsZXQgZmlsZXNfZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaXNfZmlsZXNfY29udGFpbmVyXCIpO1xuICAgIGlmICghaW1hZ2VzIHx8ICFmaWxlc19kaXYpXG4gICAgICAgIHJldHVybjtcbiAgICBsZXQgaW1nX21vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaXMtaW1nLW1vZGFsXCIpO1xuICAgIGxldCBiaWdfaW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaXMtYmlnLWltZ1wiKTtcbiAgICBsZXQgYmlnX2ltZ19saW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaXMtYmlnLWltZy1saW5rXCIpO1xuICAgIGxldCBiaWdfaW1nX2Rvd25sb2FkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaXMtaW1nLWRvd25sb2FkXCIpO1xuICAgIGxldCBiaWdfZmlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGlzLWJpZy1maWxlXCIpO1xuICAgIGxldCBiaWdfZmlsZW5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpcy1iaWctZmlsZW5hbWVcIik7XG4gICAgbGV0IHByZXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpcy1iaWctaW1nLXByZXZcIik7XG4gICAgbGV0IG5leHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpcy1iaWctaW1nLW5leHRcIik7XG4gICAgZmlsZXNfZGl2LmlubmVySFRNTCA9IFwiXCI7XG4gICAgaWYgKGltYWdlcy5sZW5ndGggPT0gMClcbiAgICAgICAgYWRkRWxlbShcIlwiLCBcIktlaW5lIERhdGVpZW4gdm9yaGFuZGVuLlwiLCBmaWxlc19kaXYsIFwiU1BBTlwiKTtcbiAgICBsZXQgY3VycmVudF9pZHg7IC8vIGluZGV4IG9mIGN1cnJlbnRseSBvcGVuIGltYWdlXG4gICAgbGV0IGxhc3RfaWR4ID0gbnVsbDsgLy8gaW5kZXggb2YgbGFzdCBhZGRlZCBpbWFnZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCB1cmwgPSBpbWFnZXNbaV0udXJsO1xuICAgICAgICBsZXQgdGh1bWJfc21hbGxfdXJsID0gaW1hZ2VzW2ldLnRodW1iX3NtYWxsX3VybDtcbiAgICAgICAgbGV0IHRodW1iX21lZGl1bV91cmwgPSBpbWFnZXNbaV0udGh1bWJfbWVkaXVtX3VybDtcbiAgICAgICAgbGV0IG9yaWdfZmlsZW5hbWUgPSBcIlwiOyAvLyBvcmlnaW5hbCBmaWxlbmFtZSB3aXRob3V0IHJhbmRvbSBwYXJ0XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHJlZ2V4IHRoYXQgbWF0Y2hlcyB0aGUgZmlsZSBuYW1lIG9mIGEgVVJMXG4gICAgICAgICAgICBsZXQgZmlsZW5hbWVfcnggPSBuZXcgUmVnRXhwKC9bXlxcL10rJC8pO1xuICAgICAgICAgICAgb3JpZ19maWxlbmFtZSA9IHVybC5tYXRjaChmaWxlbmFtZV9yeClbMF0gfHwgXCJcIjtcbiAgICAgICAgICAgIGlmIChvcmlnX2ZpbGVuYW1lKSB7XG4gICAgICAgICAgICAgICAgb3JpZ19maWxlbmFtZSA9IGZpbGVuYW1lV2l0aG91dFJhbmQob3JpZ19maWxlbmFtZSk7XG4gICAgICAgICAgICAgICAgb3JpZ19maWxlbmFtZSA9IGRlY29kZVVSSShvcmlnX2ZpbGVuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGh1bWJfc21hbGxfdXJsKSB7IC8vIHVzZSBpc19pbWFnZSBpbnN0ZWFkP1xuICAgICAgICAgICAgbGV0IGlkID0gaW1hZ2VzW2ldLmlkO1xuICAgICAgICAgICAgbGV0IG91dGVyID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgb3V0ZXIuY2xhc3NMaXN0LmFkZCgnbGlzLWltZy10aHVtYicpO1xuICAgICAgICAgICAgbGV0IGlubmVyID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgbGV0IGltZyA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICAgIGltZy5zcmMgPSB0aHVtYl9zbWFsbF91cmw7XG4gICAgICAgICAgICBpbWcuZGF0YXNldC5pbWdpZCA9IGlkO1xuICAgICAgICAgICAgLy8gc2F2ZSBpbWFnZSBtZXRhZGF0YVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihpbWFnZXNbaV0sIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBvcmlnX2ZpbGVuYW1lLFxuICAgICAgICAgICAgICAgIHByZXY6IGxhc3RfaWR4LFxuICAgICAgICAgICAgICAgIG5leHQ6IG51bGwgLy8gaW5kZXggb2YgbmV4dCBpbWFnZSAoc2V0IHdpdGggbmV4dCBpbWFnZSwgaWYgYW55KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAobGFzdF9pZHggIT09IG51bGwpXG4gICAgICAgICAgICAgICAgaW1hZ2VzW2xhc3RfaWR4XS5uZXh0ID0gaTtcbiAgICAgICAgICAgIGxhc3RfaWR4ID0gaTtcbiAgICAgICAgICAgIG91dGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudF9pZHggPSBpO1xuICAgICAgICAgICAgICAgIGJpZ19pbWdfbGluay5ocmVmID0gdXJsO1xuICAgICAgICAgICAgICAgIGJpZ19pbWdfZG93bmxvYWQuaHJlZiA9IHVybDtcbiAgICAgICAgICAgICAgICBiaWdfaW1nX2Rvd25sb2FkLmRvd25sb2FkID0gb3JpZ19maWxlbmFtZTtcbiAgICAgICAgICAgICAgICBiaWdfaW1nLnNyYyA9IHRodW1iX21lZGl1bV91cmw7XG4gICAgICAgICAgICAgICAgYmlnX2ltZy5kYXRhc2V0LmltZ2lkID0gaWQ7XG4gICAgICAgICAgICAgICAgcHJldi5zdHlsZS52aXNpYmlsaXR5ID0gaW1hZ2VzW2ldLnByZXYgPT09IG51bGwgPyAnaGlkZGVuJyA6ICd2aXNpYmxlJztcbiAgICAgICAgICAgICAgICBuZXh0LnN0eWxlLnZpc2liaWxpdHkgPSBpbWFnZXNbaV0ubmV4dCA9PT0gbnVsbCA/ICdoaWRkZW4nIDogJ3Zpc2libGUnO1xuICAgICAgICAgICAgICAgICQoaW1nX21vZGFsKS5mb3VuZGF0aW9uKCdvcGVuJyk7XG4gICAgICAgICAgICAgICAgaW1nX21vZGFsLm9ua2V5ZG93biA9IGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiQXJyb3dMZWZ0XCIgJiYgaW1hZ2VzW2N1cnJlbnRfaWR4XS5wcmV2ICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5jbGljaygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiQXJyb3dSaWdodFwiICYmIGltYWdlc1tjdXJyZW50X2lkeF0ubmV4dCAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQuY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgJChpbWdfbW9kYWwpLmZvdW5kYXRpb24oJ2Nsb3NlJyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaW5uZXIuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgICAgICAgIG91dGVyLmFwcGVuZENoaWxkKGlubmVyKTtcbiAgICAgICAgICAgIGZpbGVzX2Rpdi5hcHBlbmRDaGlsZChvdXRlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgaWQgPSBpbWFnZXNbaV0uaWQ7XG4gICAgICAgICAgICBsZXQgb3V0ZXIgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBvdXRlci5jbGFzc0xpc3QuYWRkKCdsaXMtaW1nLXRodW1iJyk7XG4gICAgICAgICAgICBsZXQgaW5uZXIgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBsZXQgaXQgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xuICAgICAgICAgICAgaXQuY2xhc3NMaXN0LmFkZCgnaWNvbicpO1xuICAgICAgICAgICAgaXQuY2xhc3NMaXN0LmFkZCgnaW9uLW1kLWRvY3VtZW50Jyk7XG4gICAgICAgICAgICBsZXQgdHh0ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgIHR4dC5jbGFzc0xpc3QuYWRkKCd0ZXh0LWVsbGlwc2lzJyk7XG4gICAgICAgICAgICB0eHQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUob3JpZ19maWxlbmFtZSkpO1xuICAgICAgICAgICAgb3V0ZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBiaWdfZmlsZW5hbWUudGV4dENvbnRlbnQgPSBvcmlnX2ZpbGVuYW1lO1xuICAgICAgICAgICAgICAgIGJpZ19maWxlLmhyZWYgPSB1cmw7XG4gICAgICAgICAgICAgICAgYmlnX2ZpbGUuZG93bmxvYWQgPSBvcmlnX2ZpbGVuYW1lO1xuICAgICAgICAgICAgICAgIGJpZ19maWxlLmRhdGFzZXQuaW1naWQgPSBpZDtcbiAgICAgICAgICAgICAgICAkKCcjbGlzLWZpbGUtbW9kYWwnKS5mb3VuZGF0aW9uKCdvcGVuJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG91dGVyLmFwcGVuZENoaWxkKGlubmVyKTtcbiAgICAgICAgICAgIGlubmVyLmFwcGVuZENoaWxkKGl0KTtcbiAgICAgICAgICAgIGlubmVyLmFwcGVuZENoaWxkKHR4dCk7XG4gICAgICAgICAgICBmaWxlc19kaXYuYXBwZW5kQ2hpbGQob3V0ZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByZXYub25jbGljayA9IF8gPT4ge1xuICAgICAgICAvLyBzaG93IHByZXZpb3VzIGltYWdlIGluIHNhbWUgbW9kYWxcbiAgICAgICAgbGV0IHByZXZfaWR4ID0gaW1hZ2VzW2N1cnJlbnRfaWR4XS5wcmV2O1xuICAgICAgICBsZXQgcHJldl9pbWcgPSBpbWFnZXNbcHJldl9pZHhdO1xuICAgICAgICBjdXJyZW50X2lkeCA9IHByZXZfaWR4O1xuICAgICAgICAvLyB1cGRhdGUgZWxlbWVudHMgaW4gbW9kYWwgdmlld1xuICAgICAgICBiaWdfaW1nX2xpbmsuaHJlZiA9IHByZXZfaW1nLnVybDtcbiAgICAgICAgYmlnX2ltZ19kb3dubG9hZC5ocmVmID0gcHJldl9pbWcudXJsO1xuICAgICAgICBiaWdfaW1nX2Rvd25sb2FkLmRvd25sb2FkID0gcHJldl9pbWcubmFtZTtcbiAgICAgICAgYmlnX2ltZy5zcmMgPSBwcmV2X2ltZy50aHVtYl9tZWRpdW1fdXJsO1xuICAgICAgICBiaWdfaW1nLmRhdGFzZXQuaW1naWQgPSBwcmV2X2ltZy5pZDtcbiAgICAgICAgcHJldi5zdHlsZS52aXNpYmlsaXR5ID0gcHJldl9pbWcucHJldiA9PT0gbnVsbCA/ICdoaWRkZW4nIDogJ3Zpc2libGUnO1xuICAgICAgICBuZXh0LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgfTtcbiAgICBuZXh0Lm9uY2xpY2sgPSBfID0+IHtcbiAgICAgICAgLy8gc2hvdyBuZXh0IGltYWdlIGluIHNhbWUgbW9kYWxcbiAgICAgICAgbGV0IG5leHRfaWR4ID0gaW1hZ2VzW2N1cnJlbnRfaWR4XS5uZXh0O1xuICAgICAgICBsZXQgbmV4dF9pbWcgPSBpbWFnZXNbbmV4dF9pZHhdO1xuICAgICAgICBjdXJyZW50X2lkeCA9IG5leHRfaWR4O1xuICAgICAgICAvLyB1cGRhdGUgZWxlbWVudHMgaW4gbW9kYWwgdmlld1xuICAgICAgICBiaWdfaW1nX2xpbmsuaHJlZiA9IG5leHRfaW1nLnVybDtcbiAgICAgICAgYmlnX2ltZ19kb3dubG9hZC5ocmVmID0gbmV4dF9pbWcudXJsO1xuICAgICAgICBiaWdfaW1nX2Rvd25sb2FkLmRvd25sb2FkID0gbmV4dF9pbWcubmFtZTtcbiAgICAgICAgYmlnX2ltZy5zcmMgPSBuZXh0X2ltZy50aHVtYl9tZWRpdW1fdXJsO1xuICAgICAgICBiaWdfaW1nLmRhdGFzZXQuaW1naWQgPSBuZXh0X2ltZy5pZDtcbiAgICAgICAgcHJldi5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgICBuZXh0LnN0eWxlLnZpc2liaWxpdHkgPSBuZXh0X2ltZy5uZXh0ID09PSBudWxsID8gJ2hpZGRlbicgOiAndmlzaWJsZSc7XG4gICAgfTtcbn1cbi8vIFVzZXIgdXBsb2FkZWQgbmV3IGltYWdlIGZvciBMSVNcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVOZXdMaXNJbWcoKSB7XG4gICAgbGV0IGltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXMtaW1nLXByb3h5Jyk7XG4gICAgbGV0IGJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXMtYWRkLWltZy1idG4nKTtcbiAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXNmb3JtJyk7IC8vIHVzZWQgdG8gZ2V0IENTUkYgY29va2llXG4gICAgbGV0IGxpc19pZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGlzX2lkXCIpO1xuICAgIGlmICghKGZvcm0gJiYgbGlzX2lkKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCBmb3JtX2RhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAvLyBhZGQgYWxsIGZpbGVzIHVuZGVyIHNhbWUgbmFtZSB0byBmb3JtIGRhdGEgLT4gbWFrZSBsaXN0XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWcuZmlsZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIGZvcm1fZGF0YS5hcHBlbmQoXCJpbWFnZVtdXCIsIGltZy5maWxlc1tpXSk7XG4gICAgZm9ybV9kYXRhLmFwcGVuZChcImNzcmZtaWRkbGV3YXJldG9rZW5cIiwgZm9ybS5jc3JmbWlkZGxld2FyZXRva2VuLnZhbHVlKTtcbiAgICBidXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIGZldGNoUG9zdCgnbGlzLycgKyBsaXNfaWQudmFsdWUgKyAnL3VwZGF0ZS8nLCBmb3JtX2RhdGEsIDMwMDAwKVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSlcbiAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIGlmIChkYXRhLmN1c3RvbUxJUy5pbWFnZXMpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBpbWFnZXNcbiAgICAgICAgICAgIGxldCBtYXJrZXIgPSBfbWFya2Vycy5maW5kKG0gPT4geyByZXR1cm4gbS5wcm9wZXJ0aWVzLmlkID09IGRhdGEuY3VzdG9tTElTLmlkOyB9KTtcbiAgICAgICAgICAgIG1hcmtlci5wcm9wZXJ0aWVzLmltYWdlcyA9IGRhdGEuY3VzdG9tTElTLmltYWdlcztcbiAgICAgICAgICAgIHVwZGF0ZUxpc01vZGFsKG1hcmtlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YS5tZXNzYWdlKSB7XG4gICAgICAgICAgICBpZiAoREVCVUcpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIHVwZGF0ZSBmaWxlcyBmcm9tIHJlc3BvbnNlOlwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICB9XG4gICAgfSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9KTtcbn1cbi8vIFVzZXIgZGVsZXRlZCBpbWFnZSBmcm9tIExJU1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZUxJU0ZpbGUoaXNJbWFnZSkge1xuICAgIGxldCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpc2Zvcm0nKTsgLy8gdXNlZCB0byBnZXQgQ1NSRiBjb29raWVcbiAgICBsZXQgbGlzX2lkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpc19pZCcpO1xuICAgIGlmICghKGZvcm0gJiYgbGlzX2lkKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIC8vIGNyZWF0ZSBuZXcgZm9ybSBkYXRhXG4gICAgbGV0IGZvcm1fZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGxldCB0eXBlID0gaXNJbWFnZSA/IFwiaW1nXCIgOiBcImZpbGVcIjtcbiAgICBsZXQgZmlsZV9hID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaXMtYmlnLVwiICsgdHlwZSk7XG4gICAgbGV0IGJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXMtJyArIHR5cGUgKyAnLWRlbGV0ZS1idG4nKTtcbiAgICBsZXQgaW1hZ2VfaWQgPSBmaWxlX2EuZGF0YXNldC5pbWdpZDtcbiAgICBmb3JtX2RhdGEuYXBwZW5kKFwiY3NyZm1pZGRsZXdhcmV0b2tlblwiLCBmb3JtLmNzcmZtaWRkbGV3YXJldG9rZW4udmFsdWUpO1xuICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgZmV0Y2hQb3N0KCdsaXMvZGVsZXRlaW1nLycgKyBpbWFnZV9pZCArICcvJywgZm9ybV9kYXRhLCAzMDAwMClcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pXG4gICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICBpZiAoZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc3VjY2Vzc1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpcy0nICsgdHlwZSArICctY2xvc2UtYnV0dG9uJykuY2xpY2soKTtcbiAgICAgICAgICAgIGlmIChpc0ltYWdlKVxuICAgICAgICAgICAgICAgIGZpbGVfYS5zcmMgPSBcIlwiO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGZpbGVfYS5ocmVmID0gXCJcIjtcbiAgICAgICAgICAgIGxldCBtYXJrZXIgPSBfbWFya2Vycy5maW5kKG0gPT4geyByZXR1cm4gbS5wcm9wZXJ0aWVzLmlkID09IGxpc19pZC52YWx1ZTsgfSk7XG4gICAgICAgICAgICBpZiAobWFya2VyLnByb3BlcnRpZXMuaW1hZ2VzKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyLnByb3BlcnRpZXMuaW1hZ2VzID0gbWFya2VyLnByb3BlcnRpZXMuaW1hZ2VzLmZpbHRlcih4ID0+IHguaWQgIT0gaW1hZ2VfaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlTGlzTW9kYWwobWFya2VyKTtcbiAgICAgICAgfVxuICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICBpZiAoREVCVUcpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfSk7XG59XG4vLyBMSVMgc3VydmV5IHN1Ym1pdHRlZFxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUxpc1N1cnZleSgpIHtcbiAgICBsZXQgc3VydmV5X2Zvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGlzLXN1cnZleS1mb3JtJyk7XG4gICAgbGV0IGxpc19pZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXNfaWQnKTtcbiAgICBsZXQgZm9ybV9kYXRhID0gbmV3IEZvcm1EYXRhKHN1cnZleV9mb3JtKTtcbiAgICBjb25zdCBmaWVsZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdsaXMtc3VydmV5LWlucHV0Jyk7XG4gICAgbGV0IHN1cnZleV9qc29uID0geyBmaWVsZHM6IHt9IH07XG4gICAgZm9yIChsZXQgZmllbGQgb2YgZmllbGRzKSB7XG4gICAgICAgIGxldCBrZXkgPSBmaWVsZC5kYXRhc2V0LmZpZWxkS2V5O1xuICAgICAgICBsZXQgdmFsdWUgPSBmaWVsZC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1cnZleV9qc29uLmZpZWxkc1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9ybV9kYXRhLmFwcGVuZChcImxpc19zdXJ2ZXlcIiwgSlNPTi5zdHJpbmdpZnkoc3VydmV5X2pzb24pKTtcbiAgICBsZXQgYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpcy1zdXJ2ZXktc3VibWl0LWJ1dHRvbicpO1xuICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgZmV0Y2hQb3N0KCdsaXMvJyArIGxpc19pZC52YWx1ZSArICcvdXBkYXRlLycsIGZvcm1fZGF0YSwgMzAwMDApXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KVxuICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHN1Y2Nlc3NcbiAgICAgICAgICAgIGxldCBtYXJrZXIgPSBfbWFya2Vycy5maW5kKG0gPT4geyByZXR1cm4gbS5wcm9wZXJ0aWVzLmlkID09IGxpc19pZC52YWx1ZTsgfSk7XG4gICAgICAgICAgICBtYXJrZXIucHJvcGVydGllcy5zdXJ2ZXkgPSBkYXRhLmN1c3RvbUxJUy5zdXJ2ZXk7XG4gICAgICAgICAgICB1cGRhdGVMaXNNb2RhbChtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9KTtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbi8qKlxuIEBjb3B5cmlnaHQg8J+MtcKp4oy+wq7ihJdcbiBAYXV0aG9yIExvY2FsaXNlciBkZXYgdGVhbVxuKiovXG5pbXBvcnQgeyBvYmoyRmVhdHVyZUFycmF5LCBzaG93UmVzdWx0LCBzZXRIZWF0Q29sb3JtYXAsIHJldmVyc2VDb29yZGluYXRlcywgc2hvd0RhdGEsIH0gZnJvbSBcIi4vZmVhdHVyZXNcIjtcbmltcG9ydCB7IHJlbW92ZUxheWVycywgfSBmcm9tIFwiLi9sYXllclwiO1xuaW1wb3J0IHsgY3JlYXRlQ29tbWVudCwgfSBmcm9tIFwiLi9jb21tZW50X21vZGFsXCI7XG5pbXBvcnQgeyBhZGRDdXN0b21DUENhbGxiYWNrLCBvcGVuTGlzTW9kYWwsIHJlc2V0TElTRm9ybSwgcmVtb3ZlU2VhcmNoUG9seSwgcmVtb3ZlQ3VzdG9tQ1BGcm9tTWFwLCB9IGZyb20gXCIuL2xpc19tb2RhbFwiO1xuLy9pbXBvcnQge1xuLy9hZGRQb2lDYWxsYmFjayxcbi8vfSBmcm9tIFwiLi9wb2lfbW9kYWxcIjtcbmltcG9ydCB7IHJlbmRlclNpZGViYXJDaGF0LCB9IGZyb20gXCIuL2NoYXRcIjtcbmltcG9ydCB7IGluaXRTY2VuYXJpb3MsIH0gZnJvbSBcIi4vc2NlbmFyaW9cIjtcbmltcG9ydCB7IHJlbmRlclNpdGVNYW5hZ2VyVGFibGUsIH0gZnJvbSBcIi4vdGFibGVcIjtcbmltcG9ydCB7IHJlbmRlckRlYnVnSW5mbywgfSBmcm9tIFwiLi9kZWJ1Z19pbmZvXCI7XG5pbXBvcnQgeyBsb2FkQUhQRGF0YSwgfSBmcm9tIFwiLi9BSFBcIjtcbmltcG9ydCB7IGFkZEVsZW0sIGZldGNoUG9zdCwgZ2V0Q01JdGVtQnlMYWJlbCwgbWV0ZXJzSW5QaXhlbHMsIHJlcXVlc3QsIHJvdW5kVG9TdHIsIHN0cmluZ1RvRmlsZU5hbWUsIH0gZnJvbSBcIi4vdXRpbHNcIjtcbi8qKiBCYXNpY3M6IENvbnN0YW50cywgcmVkZWZpbml0aW9ucyBhbmQgaGVscGVycyAqKi9cbi8vIGNvbnN0YW50c1xuY29uc3QgTE9DQVRFX09OX0lOSVQgPSBmYWxzZTsgLy8gdHJ5IHRvIGxvY2F0ZSB1c2VyP1xuZXhwb3J0IGNvbnN0IERFQlVHID0gdHJ1ZTsgLy8gc2hvdyBkZWJ1ZyBjb25zb2xlIG91dHB1dD9cbmV4cG9ydCBjb25zdCBNQVhfWk9PTSA9IDE4OyAvLyBtYXhpbXVtIG1hcCB6b29tIChpbilcbmV4cG9ydCBjb25zdCBQUkVDSVNJT04gPSA1OyAvLyBtYXhpbXVtIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBzaG93biBmb3IgbGF0L2xuZ1xuZXhwb3J0IGNvbnN0IEhBU19UT1VDSCA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fCAhIShuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyk7XG4vLyBHZXJtYW4gcmVhZGFibGUgY29sb3JtYXAgbmFtZXNcbmNvbnN0IENPTE9STUFQU19ERSA9IFtcbiAgICBbJ0JsYXUnLCAnQmx1ZXMnXSxcbiAgICBbJ1JvdC1WaW9sZXR0JywgJ1JkUHUnXSxcbiAgICBbJ1JvdCcsICdSZWRzJ10sXG4gICAgWydWaW9sZXR0JywgJ1B1cnBsZXMnXSxcbiAgICBbJ0dyw7xuLUJsYXUnLCAnR25CdSddLFxuICAgIFsnQmxhdS1HcsO8bicsICdCdUduJ11cbl07XG5leHBvcnQgY29uc3QgQ09MT1JTID0ge1xuICAgIC8vIGN1c3RvbSBjb2xvcnNcbiAgICBib3JkZXI6ICdyZ2IoMCwgMTM1LCA4NCknLFxuICAgIHBvdGVudGlhbDogJyNmZjFhODAnLFxuICAgIExJUzogJyM4MDgwODAnLFxuICAgIHByb3Bvc2VkOiAnIzM5YmZmZicsXG4gICAgUE9JX2N1c3RvbTogJ3NreWJsdWUnLFxuICAgIFJMSV9ibHVlOiAnTWlkbmlnaHRCbHVlJyxcbiAgICBzZWFyY2hQb2x5Z29uOiAnIzA3Njg5RicsXG4gICAgaDJQb2x5Z29uOiAnIzAwOGVkZScsXG4gICAgZGVmYXVsdENsdXN0ZXI6IFwiIzAwODBmZlwiLFxuICAgIHJ1bGVyOiAneWVsbG93JyxcbiAgICByZXN0cmljdGVkOiAnI2ZmNDA0MCcsXG4gICAgZXJyb3I6ICcjRkYwMDAwJyxcbiAgICBwcm9ncmVzc0JnZDogJyMxMDREODgnLFxuICAgIHByb2dyZXNzRmdkOiAnI2ZmZmZmZicsXG4gICAgcHJvZ3Jlc3NCZ2RJbnZlcnNlOiAnI2NjZGJkYycsXG4gICAgcHJvZ3Jlc3NGZ2RJbnZlcnNlOiAnIzEwNEQ4OCcsXG59O1xuLy8gQ09SUkVDVCBXSU5ET1cgVklFV1BPUlQgVU5JVFMgT04gTU9CSUxFXG4vLyBGaXggYnVnIC0+IG1hcCBoZWlnaHQgaXMgYmlnZ2VyIHRoYW4gZXhwZWN0ZWQgb24gc21hbGxlciBzY3JlZW5zIGR1ZSB0byBicm93c2VyIGludGVycHJldGF0aW9ucyBvZiB0aGUgdmggdW5pdFxuZnVuY3Rpb24gc2V0Q29ycmVjdFZIKCkge1xuICAgIGxldCB2aCA9IHdpbmRvdy5pbm5lckhlaWdodCAqIDAuMDE7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcGZyYW1lJykuc3R5bGUuc2V0UHJvcGVydHkoJy0tdmgnLCBgJHt2aH1weGApO1xuICAgIGlmIChfbWFwKVxuICAgICAgICBfbWFwLmludmFsaWRhdGVTaXplKCk7XG59XG4vKioqKioqKioqKioqKioqKioqKioqKioqIHJlcXVlc3RzIGFuZCBmb3JtcyAqKioqKioqKioqKioqKioqKioqKioqKiovXG4vLyB3cml0ZSBoaWRkZW4gdmFsdWVzIHRvIGZvcm06IHJlc3RyaWN0ZWQgem9uZSwgY3VzdG9tIExJUywgZXZhbHVhdGlvbiBnZW9tZXRyeSAoY2FsbGVkIGJ5IGZvcm0uaHRtbCBhbmQgaXMgYSBjb250ZXh0IG1lbnUgY2FsbGJhY2sgZm9yIGV2YWx1YXRpb24pXG5mdW5jdGlvbiB3cml0ZUhpZGRlbihldmFsdWF0aW9uKSB7XG4gICAgY29uc3QgaGlkZGVuX2ZpZWxkID0gd2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZF9oaWRkZW4nKTtcbiAgICBpZiAoIWhpZGRlbl9maWVsZCkge1xuICAgICAgICAvL2FsZXJ0KFwiVXBzLiBXbyBpc3QgbWVpbiBGb3JtdWxhcj8gTGFkZSBTZWl0ZSBlcm5ldXQuLi5cIik7XG4gICAgICAgIC8vbG9jYXRpb24ucmVsb2FkKHRydWUpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBkYXRhID0ge1xuICAgICAgICAncmVzdHJpY3QnOiB1bmRlZmluZWQsXG4gICAgICAgICdldmFsdWF0aW9uJzogdW5kZWZpbmVkLFxuICAgIH07XG4gICAgaWYgKF9yZXN0cmljdFBvbHkubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyB3cml0ZSByZXN0cmljdGVkIHpvbmUgKG9ubHkgdXNlci1wbGFjZWQpXG4gICAgICAgIGRhdGEucmVzdHJpY3QgPSBfcmVzdHJpY3RQb2x5LmZpbHRlcihwID0+IHsgcmV0dXJuICFwLnByb3BlcnRpZXMgfHwgcC5wcm9wZXJ0aWVzLmRlc2MgPT09ICdWZXJib3RlbmUgWm9uZSc7IH0pLm1hcChwID0+IHsgcmV0dXJuIHAuZ2V0TGF0TG5ncygpWzBdOyB9KTtcbiAgICB9XG4gICAgaWYgKGV2YWx1YXRpb24pIHtcbiAgICAgICAgLy8gd3JpdGUgZXZhbHVhdGlvbiBnZW9tZXRyeVxuICAgICAgICBkYXRhLmV2YWx1YXRpb24gPSBldmFsdWF0aW9uLmxhdGxuZztcbiAgICB9XG4gICAgaGlkZGVuX2ZpZWxkLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG59XG4vLyBpbnRlcmNlcHQgZmFzdCBmaW5kZXIgZm9ybSBzdWJtaXQgZm9yIHVzZXIgaW50ZXJmYWNlIGxvZ2ljXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlRm9ybVN1Ym1pdChldmVudCkge1xuICAgIGxldCBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcHV0ZS1idXR0b24nKTtcbiAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wdXRhdGlvbl9mb3JtJyk7XG4gICAgbGV0IHF1ZXJ5Zm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicXVlcnlmb3JtXCIpO1xuICAgIGxldCBzYXZlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3F1ZXJ5c2F2ZScpO1xuICAgIGxldCBtZXNzYWdlX2RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlcnJvci1tZXNzYWdlJyk7XG4gICAgbGV0IHNwaW5uZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcC1zcGlubmVyXCIpO1xuICAgIC8vIHByZXBhcmUgaW4tIGFuZCBvdXRwdXQgZWxlbWVudHNcbiAgICBidXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIHNhdmVCdG4uc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgbWVzc2FnZV9kaXYudGV4dENvbnRlbnQgPSAnJztcbiAgICBzcGlubmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnJzsgLy8gZ2VuZXJpYyBsb2FkaW5nIHNwaW5uZXJcbiAgICB3cml0ZUhpZGRlbihldmVudCk7XG4gICAgLy8gcmVzZXQgZXJyb3IgZmllbGRzXG4gICAge1xuICAgICAgICB2YXIgeCA9IGZvcm0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImZvcm0tZXJyb3JcIik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgeFtpXS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICAgICAgICB4W2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLXZpc2libGUnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAkKCcjZmFzdGZpbmRlci1tb2RhbCcpLmZvdW5kYXRpb24oJ2Nsb3NlJyk7XG4gICAgZmV0Y2hQb3N0KCdjb21wdXRlTElTLycsIFwiY29tcHV0YXRpb25fZm9ybVwiLCAxMjAwMDApXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KVxuICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgaWYgKGRhdGEuYWN0aW9uICYmIGRhdGEuYWN0aW9uLmluY2x1ZGVzKCdjbGVhcl9tYXAnKSkge1xuICAgICAgICAgICAgcmVtb3ZlTGF5ZXJzKG51bGwsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLkpTT04pIHtcbiAgICAgICAgICAgIC8vIHN5bmMgY29tcHV0YXRpb24gZmluaXNoZWQ6IHNob3cgcmVzdWx0IG9uIG1hcFxuICAgICAgICAgICAgaWYgKCFkYXRhLkpTT04uZXZhbHVhdGlvbikge1xuICAgICAgICAgICAgICAgIHNhdmVCdG4uc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuICAgICAgICAgICAgICAgIHF1ZXJ5Zm9ybS5lbGVtZW50c1tcInJlc3VsdFwiXS52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KGRhdGEuSlNPTik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaG93UmVzdWx0KGRhdGEuSlNPTik7IC8vIHRoaXMgY2hhbmdlcyBkYXRhLkpTT05cbiAgICAgICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlOyAvLyBlbmFibGUgYnV0dG9uIGZvciBuZXcgY29tcHV0YXRpb25cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS50YXNrX2lkKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHVwZGF0ZVByb2dyZXNzLCAwLCBkYXRhLnRhc2tfaWQsIFwicHJvZ3Jlc3MtY2FudmFzLWNvbXB1dGVsaXNcIiwgMjAwMCwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIC8vIHN1Y2Nlc3NcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdC5ldmFsdWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBleHBvcnRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG90ZW50aWFsLWV4cG9ydC1idG4nKTtcbiAgICAgICAgICAgICAgICAgICAgc2F2ZUJ0bi5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleHBvcnRCdG4pXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBvcnRCdG4uc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lXCI7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5Zm9ybS5lbGVtZW50c1tcInJlc3VsdFwiXS52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNob3dSZXN1bHQocmVzdWx0KTsgLy8gdGhpcyBjaGFuZ2VzIHJlc3VsdFxuICAgICAgICAgICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAvLyBmYWlsXG4gICAgICAgICAgICAgICAgLy9hbGVydChcIkJlcmVjaG51bmcgZmVobGdlc2NobGFnZW5cIik7XG4gICAgICAgICAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAkKCcjZmFzdGZpbmRlci1tb2RhbCcpLmZvdW5kYXRpb24oJ29wZW4nKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgKGRhdGEubWVzc2FnZSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAvL1RPRE8gaW1wcm92ZSwgdHJhbnNsYXRlIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgICAgICBmb3IgKGxldCBlbGVtX2lkIGluIGRhdGEubWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIC8vaWYgKERFQlVHKSBjb25zb2xlLmxvZyhlbGVtX2lkKTtcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWRfJyArIGVsZW1faWQpO1xuICAgICAgICAgICAgICAgIGlucHV0LmludmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxldCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkXycgKyBlbGVtX2lkICsgJ19lcnJvcicpO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW0udGV4dENvbnRlbnQgPSBkYXRhLm1lc3NhZ2VbZWxlbV9pZF0uam9pbignICcpO1xuICAgICAgICAgICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2lzLXZpc2libGUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyAoJ0RhcyBGb3JtdWxhciBlbnRow6RsdCBGZWhsZXIgKHNpZWhlIG9iZW4pLicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGEubWVzc2FnZSkge1xuICAgICAgICAgICAgdGhyb3cgKGRhdGEubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgLy9pZiAoREVCVUcpIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIG1lc3NhZ2VfZGl2LnRleHRDb250ZW50ID0gJycgKyBlcnI7XG4gICAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAvLyByZS1vcGVuIG1vZGFsIG9uIGVycm9yXG4gICAgICAgICQoJyNmYXN0ZmluZGVyLW1vZGFsJykuZm91bmRhdGlvbignb3BlbicpO1xuICAgIH0pXG4gICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgLy8gYWx3YXlzIGhpZGUgZ2VuZXJpYyBzcGlubmVyXG4gICAgICAgIHNwaW5uZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUV4cG9ydExJU0V4Y2VsKGV2ZW50KSB7XG4gICAgbGV0IGJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXMtZXhwb3J0LWV4Y2VsLWJ1dHRvbicpO1xuICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgbGV0IGZvcm1fZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIC8vIEFkZCBDU1JGIHRva2VuXG4gICAgbGV0IHRva2VuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpc2Zvcm0nKS5jc3JmbWlkZGxld2FyZXRva2VuLnZhbHVlO1xuICAgIGZvcm1fZGF0YS5hcHBlbmQoXCJjc3JmbWlkZGxld2FyZXRva2VuXCIsIHRva2VuKTtcbiAgICAvLyBmb3IgUE9JIGluIEV4Y2VsLCBob2xkIFNoaWZ0IGtleVxuICAgIGZvcm1fZGF0YS5hcHBlbmQoXCJpbmNsdWRlX3BvaVwiLCBldmVudC5zaGlmdEtleSk7XG4gICAgLy8gQWRkIHNlbGVjdGVkIGxpcyBmcm9tIHNpdGUgbWFuYWdlciB0YWJsZVxuICAgIGlmICgkLmZuLmRhdGFUYWJsZS5pc0RhdGFUYWJsZSgnI3NpdGUtbWFuYWdlci10YWJsZScpKSB7XG4gICAgICAgIGxldCBkdCA9ICQoJyNzaXRlLW1hbmFnZXItdGFibGUnKS5EYXRhVGFibGUoKTtcbiAgICAgICAgbGV0IHNlbGVjdGVkX3Jvd3MgPSBkdC5yb3dzKHsgc2VsZWN0ZWQ6IHRydWUgfSkuZGF0YSgpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRfcm93cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgbGlzX2lkcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3RlZF9yb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGlzX2lkcy5wdXNoKHNlbGVjdGVkX3Jvd3NbaV0ubGlzX2lkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvcm1fZGF0YS5hcHBlbmQoXCJzZWxlY3RlZF9saXNcIiwgSlNPTi5zdHJpbmdpZnkobGlzX2lkcykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGZldGNoIVxuICAgIGZldGNoUG9zdCgnZXhwb3J0TElTL2V4Y2VsLycsIGZvcm1fZGF0YSwgMTIwMDAwMClcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05ldHdvcmsgcmVzcG9uc2Ugd2FzIG5vdCBvaycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAgfSlcbiAgICAgICAgLnRoZW4oYmxvYiA9PiB7XG4gICAgICAgIC8vIGNyZWF0ZSBhIG5pY2UgZmlsZSBuYW1lXG4gICAgICAgIGxldCBmaWxlX25hbWUgPSAnTGFkZXN0YW5kb3J0ZV9FeHBvcnQnO1xuICAgICAgICBpZiAoX3JlZ2lvbiAmJiBfcmVnaW9uLm5hbWUpIHtcbiAgICAgICAgICAgIGZpbGVfbmFtZSArPSAnXycgKyBzdHJpbmdUb0ZpbGVOYW1lKF9yZWdpb24ubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmlsZV9uYW1lICs9ICcueGxzeCc7XG4gICAgICAgIGZ1bmN0aW9uIGdldERvd25sb2FkKGJsb2IpIHtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSB0ZW1wb3JhcnkgbGluayBhbmQgY2xpY2sgaXQgdG8gZG93bmxvYWQgYmxvYlxuICAgICAgICAgICAgbGV0IGxpbmsgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgbGluay5ocmVmID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgICBsaW5rLnRhcmdldCA9ICdfYmxhbmsnO1xuICAgICAgICAgICAgbGluay5kb3dubG9hZCA9IGZpbGVfbmFtZTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgICAgICAgICBsaW5rLmNsaWNrKCk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspO1xuICAgICAgICB9XG4gICAgICAgIGlmIChibG9iLnR5cGUgPT09IFwiYXBwbGljYXRpb24vanNvblwiKSB7XG4gICAgICAgICAgICAvLyBhc3luYzoga2VlcCB1c2VyIGhhcHB5IHVudGlsIGV4cG9ydCBmaW5pc2hlZFxuICAgICAgICAgICAgYmxvYi50ZXh0KCkudGhlbih0ID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgdGFza19pZCA9IEpTT04ucGFyc2UodClbXCJ0YXNrX2lkXCJdO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodXBkYXRlUHJvZ3Jlc3MsIDAsIHRhc2tfaWQsIFwicHJvZ3Jlc3MtY2FudmFzLWV4cG9ydFwiLCAxMDAwLCBmdW5jdGlvbiAoaW5mbykge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdWNjZXNzXG4gICAgICAgICAgICAgICAgICAgIC8vIGRlY29kZSBiYXNlNjQgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIGxldCBiaW5hcnkgPSBhdG9iKGluZm8pO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKGJpbmFyeS5sZW5ndGgpKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5hcnkubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJbaV0gPSBiaW5hcnkuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJsb2IgPSBuZXcgQmxvYihbYnVmZmVyXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQnIH0pO1xuICAgICAgICAgICAgICAgICAgICBnZXREb3dubG9hZChibG9iKTtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmFpbFxuICAgICAgICAgICAgICAgICAgICBpZiAoREVCVUcpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGFscmVhZHkgRXhjZWwgZmlsZVxuICAgICAgICAgICAgZ2V0RG93bmxvYWQoYmxvYik7XG4gICAgICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICBpZiAoREVCVUcpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9KTtcbn1cbi8vIGhvb2sgZm9yIGFzeW5jIHRhc2suIEZ1bmN0aW9uIGZvciByZXBlYXRlZCB0aW1lb3V0IGNhbGxiYWNrXG4vLyBwb2xscyBzZXJ2ZXIgd2l0aCB0YXNrIGlkIGFmdGVyIGB0aW1lb3V0YCBtaWxsaXNlY29uZHMuXG5mdW5jdGlvbiB1cGRhdGVQcm9ncmVzcyh0YXNrSUQsIGNhbnZhc19pZCwgdGltZW91dCwgc3VjY2VzcywgZmFpbCwgaW52ZXJzZV9jb2xvcnMgPSBmYWxzZSkge1xuICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYW52YXNfaWQpO1xuICAgIHJlcXVlc3QoeyBwYXRoOiAncHJvZ3Jlc3MnLCBxdWVyeTogdGFza0lEIH0pLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2UucGVyY2VudCA8IDApIHtcbiAgICAgICAgICAgIC8vIGVycm9yXG4gICAgICAgICAgICBmYWlsKHJlc3BvbnNlLmluZm8pO1xuICAgICAgICAgICAgY2FudmFzLnBhcmVudEVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UucGVyY2VudCA9PSAwKSB7XG4gICAgICAgICAgICBjYW52YXMucGFyZW50RWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICAgICAgICAvLyBwZW5kaW5nLCBub3QgY29tcHV0aW5nIHlldFxuICAgICAgICAgICAgc2V0VGltZW91dCh1cGRhdGVQcm9ncmVzcywgdGltZW91dCwgdGFza0lELCBjYW52YXNfaWQsIHRpbWVvdXQsIHN1Y2Nlc3MsIGZhaWwsIGludmVyc2VfY29sb3JzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5wZXJjZW50IDwgMTAwKSB7XG4gICAgICAgICAgICAvLyBzdGFydGVkOiBzaG93IGNpcmN1bGFyIHByb2dyZXNzIGJhclxuICAgICAgICAgICAgbGV0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICAgICAgLy9jb250ZXh0LmxpbmVDYXAgPSBcInJvdW5kXCI7XG4gICAgICAgICAgICBsZXQgcG9zWCA9IGNhbnZhcy53aWR0aCAvIDI7XG4gICAgICAgICAgICBsZXQgcG9zWSA9IGNhbnZhcy5oZWlnaHQgLyAyO1xuICAgICAgICAgICAgbGV0IGxpbmVXaWR0aCA9IDQ7XG4gICAgICAgICAgICBsZXQgcmFkaXVzID0gY2FudmFzLndpZHRoICogMC40O1xuICAgICAgICAgICAgY2FudmFzLnBhcmVudEVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuICAgICAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAvLyBkcmF3IGZ1bGwgY2lyY2xlXG4gICAgICAgICAgICBjb250ZXh0LmFyYyhwb3NYLCBwb3NZLCByYWRpdXMgLSBsaW5lV2lkdGggLyAyLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gaW52ZXJzZV9jb2xvcnMgPyBDT0xPUlMucHJvZ3Jlc3NCZ2RJbnZlcnNlIDogQ09MT1JTLnByb2dyZXNzQmdkO1xuICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgLy8gZHJhdyBjaXJjdWxhciBwcm9ncmVzcyBiYXIgKHN0YXJ0IHRvcClcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0LmFyYyhwb3NYLCBwb3NZLCByYWRpdXMgLSBsaW5lV2lkdGggLyAyLCBNYXRoLlBJICogMjcwIC8gMTgwLCBNYXRoLlBJICogKDI3MCArIChyZXNwb25zZS5wZXJjZW50ICogMzYwIC8gMTAwKSkgLyAxODApO1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGludmVyc2VfY29sb3JzID8gQ09MT1JTLnByb2dyZXNzRmdkSW52ZXJzZSA6IENPTE9SUy5wcm9ncmVzc0ZnZDtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gbGluZVdpZHRoO1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQodXBkYXRlUHJvZ3Jlc3MsIHRpbWVvdXQsIHRhc2tJRCwgY2FudmFzX2lkLCB0aW1lb3V0LCBzdWNjZXNzLCBmYWlsLCBpbnZlcnNlX2NvbG9ycyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVzcG9uc2UucGVyY2VudCA9PSAxMDApIHtcbiAgICAgICAgICAgIC8vIGZpbmlzaGVkOiBjbGVhbiB1cCwgcmV0dXJuIHJlc3VsdFxuICAgICAgICAgICAgY2FudmFzLnBhcmVudEVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICBzdWNjZXNzKHJlc3BvbnNlLmluZm8pO1xuICAgICAgICB9XG4gICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBjYW52YXMucGFyZW50RWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgZmFpbChlcnJvcik7XG4gICAgfSk7XG59XG4vLyBTYXZlIHF1ZXJ5IGJ5IG5hbWUuXG4vL1xuLy8gQ3JlYXRlIG9yIHVwZGF0ZSBkZXNjcmlwdGlvbiBpbiBiYWNrZW5kLlxuLy8gQWRkL1JlbmFtZSBvcHRpb24gaW4gZHJvcGRvd24gbWVudS5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVRdWVyeVNhdmUoKSB7XG4gICAgbGV0IGRlc2MgPSBwcm9tcHQoXCJCZXNjaHJlaWJ1bmcgZGVyIEJlcmVjaG51bmc6XCIpO1xuICAgIGxldCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJxdWVyeWZvcm1cIik7XG4gICAgaWYgKGRlc2MgJiYgZm9ybSkge1xuICAgICAgICBmb3JtLmVsZW1lbnRzW1wiZGVzY1wiXS52YWx1ZSA9IGRlc2M7XG4gICAgICAgIC8vIFBPU1QgdG8gYmFja2VuZFxuICAgICAgICBmZXRjaFBvc3QoJ3F1ZXJ5LycsIFwicXVlcnlmb3JtXCIsIDEwMDAwKS50aGVuKHJlc3BvbnNlID0+IHsgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsgfSkudGhlbihxdWVyeSA9PiB7XG4gICAgICAgICAgICAvLyBhZGQvcmVwbGFjZSBkZXNjcmlwdGlvblxuICAgICAgICAgICAgbGV0IGxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInF1ZXJ5LXNlbGVjdFwiKTtcbiAgICAgICAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gZ2V0IG9wdGlvbiBieSBjbGFzcyBhbmQgdmFsdWVcbiAgICAgICAgICAgICAgICBsZXQgb3B0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignb3B0aW9uW3ZhbHVlPVwiJyArIHF1ZXJ5LmlkICsgJ1wiXS5xdWVyeS1vcHRpb24nKTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uKVxuICAgICAgICAgICAgICAgICAgICBvcHRpb24udGV4dCA9IHF1ZXJ5LmRlc2M7IC8vIHJlbmFtZSBvcHRpb25cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIG9wdGlvblxuICAgICAgICAgICAgICAgICAgICBsZXQgb3B0ID0gYWRkRWxlbShcInF1ZXJ5LW9wdGlvblwiLCBxdWVyeS5kZXNjLCBsaXN0LCBcIm9wdGlvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0LnZhbHVlID0gcXVlcnkuaWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gaGlkZSBidXR0b25cbiAgICAgICAgZm9ybS5lbGVtZW50c1tcInF1ZXJ5XCJdLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgICBmb3JtLmVsZW1lbnRzW1wicXVlcnlcIl0udmFsdWUgPSBcIlwiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYWxlcnQoXCJTcGVpY2hlcm4gYWJnZWJyb2NoZW4uXCIpO1xuICAgIH1cbn1cbi8vIEZldGNoIHF1ZXJ5IHJlc3VsdCBieSBpZC5cbi8vXG4vLyBlOiBzZWxlY3Rpb24gZmllbGQgd2l0aCBpZCB2YWx1ZS5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVRdWVyeUZldGNoKGUpIHtcbiAgICBpZiAoZSAmJiBlLnZhbHVlICE9IFwiMFwiKSB7XG4gICAgICAgIHJlcXVlc3Qoe1xuICAgICAgICAgICAgXCJwYXRoXCI6IFwicXVlcnlcIixcbiAgICAgICAgICAgIFwicXVlcnlcIjogXCI/aWQ9XCIgKyBlLnZhbHVlLFxuICAgICAgICAgICAgXCJ0aW1lb3V0XCI6IDUwMDAsXG4gICAgICAgICAgICBcIm1ldGhvZFwiOiBcIkdFVFwiXG4gICAgICAgIH0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICAvLyByZXF1ZXN0IHJldHVybmVkXG4gICAgICAgICAgICBpZiAoZGF0YS5hY3Rpb24gJiYgZGF0YS5hY3Rpb24uaW5jbHVkZXMoJ2NsZWFyX21hcCcpKVxuICAgICAgICAgICAgICAgIHJlbW92ZUxheWVycyhudWxsLCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChkYXRhLkpTT04pXG4gICAgICAgICAgICAgICAgc2hvd1Jlc3VsdChkYXRhLkpTT04pO1xuICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIHRlbXBvcmFyeSBsYXllciB0byBzaG93IHJhZGlpIGFyb3VuZCBwb2ludCBjbGlja2VkIGJ5IHVzZXJcbnZhciBfcmFkaWlMYXllciA9IG51bGw7XG5mdW5jdGlvbiBnZXROZWFyYnlDYWxsYmFjayhlKSB7XG4gICAgLy8gc3RhcnQgR0VUIHJlcXVlc3QgdG8gZ2V0IHBvcHVsYXRpb24sIFBPSSBhbmQgZXhpc3RpbmcgTElTIGFyb3VuZCB1c2VyIGNsaWNrZWQgbG9jYXRpb25cbiAgICBsZXQgc3Bpbm5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwLXNwaW5uZXJcIik7XG4gICAgaWYgKHNwaW5uZXIpXG4gICAgICAgIHNwaW5uZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiXCI7XG4gICAgcmVxdWVzdCh7XG4gICAgICAgIFwicGF0aFwiOiBcIm5lYXJieVwiLFxuICAgICAgICBcInF1ZXJ5XCI6IFwiP3g9XCIgKyBlLmxhdGxuZy5sbmcgKyBcIiZ5PVwiICsgZS5sYXRsbmcubGF0LFxuICAgICAgICBcInRpbWVvdXRcIjogMTAwMDAsXG4gICAgICAgIFwibWV0aG9kXCI6IFwiR0VUXCJcbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgICAvLyByZW1vdmUgb2xkIGRhdGFcbiAgICAgICAgY2xlYXJSYWRpaSgpO1xuICAgICAgICAvLyB0cmFuc3BvcnQgbW9kZSAoa2V5IGluIHJlc3BvbnNlKSwgY29sb3Igb24gbWFwIChSR0JBKSwgdGFibGUgdGl0bGVcbiAgICAgICAgY29uc3Qga2V5Y29sb3IgPSBbXG4gICAgICAgICAgICBbXCJjYXJcIiwgXCIjMmE4MGZmODBcIiwgXCJBdXRvXCJdLFxuICAgICAgICAgICAgW1wiYmlrZVwiLCBcIiM4MDgwZmY4MFwiLCBcIkZhaHJyYWRcIl0sXG4gICAgICAgICAgICBbXCJmb290XCIsIFwiIzAwMDBGRjgwXCIsIFwiRnXDn3dlZ1wiXSxcbiAgICAgICAgXTtcbiAgICAgICAgLy8gZHJhdyByYWRpaSB3aXRoIGluZm9ybWF0aW9uXG4gICAgICAgIGZvciAobGV0IGsgb2Yga2V5Y29sb3IpIHtcbiAgICAgICAgICAgIGxldCBpbmZvID0gZGF0YVtrWzBdXTtcbiAgICAgICAgICAgIC8vIGJ1aWxkIHRhYmxlXG4gICAgICAgICAgICBsZXQgdGFibGUgPSBcIlwiO1xuICAgICAgICAgICAgdGFibGUgKz0gXCI8dHI+PHRkPkVpbndvaG5lcjwvdGQ+PHRkPlwiICsgaW5mby5wb3B1bGF0aW9uICsgXCI8L3RkPjwvdHI+XCI7XG4gICAgICAgICAgICBsZXQgcG9pX2luZm8gPSBpbmZvLnBvaTtcbiAgICAgICAgICAgIGlmIChpbmZvLnBvaV9jYXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gbW91c2VvdmVyOiBtb3N0IGNvbW1vbiBjYXRlZ29yaWVzIHdpdGggY291bnRcbiAgICAgICAgICAgICAgICBwb2lfaW5mbyA9ICc8c3BhbiB0aXRsZT1cIkjDpHVmaWdzdGUgS2F0ZWdvcmllbjpcXG4nICsgaW5mby5wb2lfY2F0Lm1hcChlID0+IGUuYW1lbml0eSArICc6ICcgKyBlLmNvdW50KS5qb2luKCdcXG4nKSArICdcIiBzdHlsZT1cImJvcmRlci1ib3R0b206IDFweCBkb3R0ZWQgYmxhY2s7IGN1cnNvcjogZGVmYXVsdFwiPicgKyBwb2lfaW5mbyArICc8L3NwYW4+JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhYmxlICs9IFwiPHRyPjx0ZD5Qb2ludHMgb2YgSW50ZXJlc3Q8L3RkPjx0ZD5cIiArIHBvaV9pbmZvICsgXCI8L3RkPjwvdHI+XCI7XG4gICAgICAgICAgICBsZXQgbGlzX2luZm8gPSBpbmZvLmV4bGlzO1xuICAgICAgICAgICAgaWYgKGluZm8uZXhsaXNfcHdyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIG1vdXNlb3ZlcjogYWxsIG5lYXJieSBMSVMgcG93ZXJzIGFuZCBudW1iZXIgb2YgY29ubmVjdG9yc1xuICAgICAgICAgICAgICAgIGxpc19pbmZvID0gJzxzcGFuIHRpdGxlPVwiJyArIGluZm8uZXhsaXNfcHdyLm1hcChlID0+IGUucG93ZXIgKyAnIGtXOiAnICsgZS5jb3VudCkuam9pbignXFxuJykgKyAnXCIgc3R5bGU9XCJib3JkZXItYm90dG9tOiAxcHggZG90dGVkIGJsYWNrOyBjdXJzb3I6IGRlZmF1bHRcIj4nICsgbGlzX2luZm8gKyAnPC9zcGFuPic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YWJsZSArPSBcIjx0cj48dGQ+QmVzdGVoZW5kZSBMYWRlaW5mcmFzdHJ1a3R1cjwvdGQ+PHRkPlwiICsgbGlzX2luZm8gKyBcIjwvdGQ+PC90cj5cIjtcbiAgICAgICAgICAgIHRhYmxlID0gJzx0YWJsZSBzdHlsZT1cIndpZHRoOjEwMCU7XCI+PGNhcHRpb24+JyArIGtbMl0gK1xuICAgICAgICAgICAgICAgICcgPHNwYW4gc3R5bGU9XCJmb250LXdlaWdodDogbm9ybWFsO1wiPihSYWRpdXMgPSAnICsgaW5mby5yYWRpdXMgKyAnIG0pPC9zcGFuPicgKyAnPC9jYXB0aW9uPicgKyB0YWJsZSArICc8L3RhYmxlPic7XG4gICAgICAgICAgICBfcmFkaWlMYXllciA9IHNob3dEYXRhKFt7XG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkZlYXR1cmVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJnZW9tZXRyeVwiOiB7IHR5cGU6IFwiUG9pbnRcIiwgY29vcmRpbmF0ZXM6IFtlLmxhdGxuZy5sYXQsIGUubGF0bG5nLmxuZ10gfSxcbiAgICAgICAgICAgICAgICAgICAgXCJwcm9wZXJ0aWVzXCI6IHsgXCJkZXNjXCI6IHRhYmxlIH1cbiAgICAgICAgICAgICAgICB9XSwge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiVW1rcmVpc1wiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBrWzFdLFxuICAgICAgICAgICAgICAgIHJhZGl1czogLWluZm8ucmFkaXVzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGlmIChzcGlubmVyKVxuICAgICAgICAgICAgc3Bpbm5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICB9KTtcbn1cbi8vIHJlbW92ZSBsYXllcnMgYWRkZWQgYnkgZ2V0TmVhcmJ5Q2FsbGJhY2tcbmZ1bmN0aW9uIGNsZWFyUmFkaWkoKSB7XG4gICAgaWYgKF9yYWRpaUxheWVyKSB7XG4gICAgICAgIF9yYWRpaUxheWVyLmNsZWFyTGF5ZXJzKCk7XG4gICAgfVxufVxuLyoqIERyYXdpbmcgKiovXG4vLyBjYWxsYmFjayB0byBpbml0IGRyYXdpbmcgb2YgZm9yYmlkZGVuIHpvbmVcbmZ1bmN0aW9uIGRyYXdDYWxsYmFjayhfKSB7XG4gICAgX21hcC5wbS5lbmFibGVEcmF3KCdQb2x5Jywge1xuICAgICAgICBhbGxvd1NlbGZJbnRlcnNlY3Rpb246IGZhbHNlLFxuICAgICAgICBzbmFwcGFibGU6IGZhbHNlLFxuICAgICAgICB0b29sdGlwczogZmFsc2UsXG4gICAgICAgIHRlbXBsaW5lU3R5bGU6IHsgY29sb3I6IENPTE9SUy5yZXN0cmljdGVkIH0sXG4gICAgICAgIGhpbnRsaW5lU3R5bGU6IHsgY29sb3I6IENPTE9SUy5yZXN0cmljdGVkLCBkYXNoQXJyYXk6IFs1LCA1XSwgfSxcbiAgICAgICAgcGF0aE9wdGlvbnM6IHtcbiAgICAgICAgICAgIGNvbG9yOiBDT0xPUlMucmVzdHJpY3RlZCxcbiAgICAgICAgICAgIGZpbGxDb2xvcjogQ09MT1JTLnJlc3RyaWN0ZWQsXG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogMC40XG4gICAgICAgIH0sXG4gICAgICAgIGN1cnNvck1hcmtlcjogdHJ1ZVxuICAgIH0pO1xuICAgIF9kcmF3aW5nTW9kZSA9IHsgcmVzdHJpY3RlZDogdHJ1ZSB9O1xuICAgIF9tYXAuZ2V0Q29udGFpbmVyKCkuZm9jdXMoKTsgLy8gZm9jdXMgb24gbWFwIHRvIGxpc3RlbiBmb3Iga2V5IGV2ZW50c1xufVxuLy8gY2FsbGJhY2sgZm9yIHJlbW92aW5nIHBvbHlnb24gZnJvbSByZXN0cmljdGVkIHpvbmVzXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlUmVzdHJpY3RQb2x5KHApIHtcbiAgICBfcmVzdHJpY3RQb2x5ID0gX3Jlc3RyaWN0UG9seS5maWx0ZXIobSA9PiB7IHJldHVybiBtLl9sZWFmbGV0X2lkICE9IHAuX2xlYWZsZXRfaWQ7IH0pO1xuICAgIF9tYXAucmVtb3ZlTGF5ZXIocCk7XG59XG5mdW5jdGlvbiBzaG93UmVnaW9uKCkge1xuICAgIGxldCBib3VuZGFyeUxheWVyID0gTC5wb2x5Z29uKF9yZWdpb24uZ2VvbS5jb29yZGluYXRlcywge1xuICAgICAgICBjb2xvcjogQ09MT1JTLmJvcmRlcixcbiAgICAgICAgb3BhY2l0eTogMC41LFxuICAgICAgICBpbnRlcmFjdGl2ZTogZmFsc2UsXG4gICAgICAgIG5vQ2xpcDogdHJ1ZVxuICAgIH0pLmFkZFRvKF9tYXApO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBfbWFwLnJlbW92ZUxheWVyKGJvdW5kYXJ5TGF5ZXIpOyB9LCAzMDAwKTtcbiAgICBfbWFwLmZpdEJvdW5kcyhib3VuZGFyeUxheWVyLmdldEJvdW5kcygpKTtcbn1cbi8qKiBHZW9sb2NhdGlvbiAqKi9cbi8vIGVudHJ5IHBvaW50IGZvciBnZW9sb2NhdGlvbjogZ2V0IGN1cnJlbnQgcG9zaXRpb24gZnJvbSBicm93c2VyLiBNYXkgbmVlZCBIVFRQU1xuZnVuY3Rpb24gZ2V0TG9jYXRpb24oX2V2ZW50KSB7XG4gICAgaWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xuICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKHNob3dQb3NpdGlvbiwgc2hvd0Vycm9yKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiR2VvbG9jYXRpb24gd2lyZCBuaWNodCB2b20gQnJvd3NlciB1bnRlcnN0w7x0enQuXCIpO1xuICAgIH1cbn1cbi8vIGNhbGxiYWNrIGZvciBnZW9sb2NhdGlvbiBzdWNjZXNzOiB6b29tIHRvIHBvc2l0aW9uLCBzaG93IG1hcmtlclxuZnVuY3Rpb24gc2hvd1Bvc2l0aW9uKHBvcykge1xuICAgIF9tYXAuc2V0VmlldyhbcG9zLmNvb3Jkcy5sYXRpdHVkZSwgcG9zLmNvb3Jkcy5sb25naXR1ZGVdLCAxMik7XG4gICAgLy8gYWRkIG1hcmtlciB3aXRoIGNvbmZpZGVuY2UgcmFkaXVzIChhY2N1cmFjeSlcbiAgICB2YXIgbWFya2VyTGF5ZXIgPSBzaG93RGF0YShbe1xuICAgICAgICAgICAgZ2VvbWV0cnk6IHsgY29vcmRpbmF0ZXM6IFtwb3MuY29vcmRzLmxhdGl0dWRlLCBwb3MuY29vcmRzLmxvbmdpdHVkZV0gfSxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHsgY29sb3I6IENPTE9SUy5STElfYmx1ZSB9XG4gICAgICAgIH1dLCB7IHJhZGl1czogcG9zLmNvb3Jkcy5hY2N1cmFjeSB9KTtcbiAgICAvLyByZW1vdmUgYWZ0ZXIgNSBzZWNvbmRzXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IF9tYXAucmVtb3ZlTGF5ZXIobWFya2VyTGF5ZXIpOyB9LCAyMDAwMCk7XG59XG4vLyBjYWxsYmFjayBmb3IgZ2VvbG9jYXRpb24gZmFpbHVyZTogcHJpbnQgZXJyb3JcbmZ1bmN0aW9uIHNob3dFcnJvcihlcnJvcikge1xuICAgIHN3aXRjaCAoZXJyb3IuY29kZSkge1xuICAgICAgICBjYXNlIGVycm9yLlBFUk1JU1NJT05fREVOSUVEOlxuICAgICAgICAgICAgYWxlcnQoXCJLZWluZSBCZXJlY2h0aWd1bmcgZsO8ciBHZW9sb2NhdGlvbi5cIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBlcnJvci5QT1NJVElPTl9VTkFWQUlMQUJMRTpcbiAgICAgICAgICAgIGFsZXJ0KFwiU3RhbmRvcnRkYXRlbiBzdGVoZW4gbmljaHQgenVyIFZlcmbDvGd1bmcuXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZXJyb3IuVElNRU9VVDpcbiAgICAgICAgICAgIGFsZXJ0KFwiQW5mcmFnZSBkYXVlcnRlIHp1IGxhbmdlLlwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGVycm9yLlVOS05PV05fRVJST1I6XG4gICAgICAgICAgICBhbGVydChcIlVwcy5cIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG4vLyBDb250ZXh0IGNhbGxiYWNrOiBzaG93IGxvY2F0aW9uIFVSTCwgY29weSB0byBjbGlwYm9hcmQgb24gZGVtYW5kXG5mdW5jdGlvbiBkaXNwbGF5TG9jYXRpb24oX2V2ZW50KSB7XG4gICAgLy8gZ2V0IGN1cnJlbnQgVVJMIHdpdGhvdXQgbW9kaWZpZXJzXG4gICAgbGV0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG4gICAgaWYgKCF1cmwuZW5kc1dpdGgoXCIvXCIpKVxuICAgICAgICB1cmwgKz0gXCIvXCI7XG4gICAgLy8gZ2V0IGNvb3JkaW5hdGVzXG4gICAgbGV0IGxhdCA9IF9tYXAuZ2V0Q2VudGVyKClbJ2xhdCddO1xuICAgIGxldCBsbmcgPSBfbWFwLmdldENlbnRlcigpWydsbmcnXTtcbiAgICBsZXQgeCA9IHJvdW5kVG9TdHIobG5nLCAzKTtcbiAgICBsZXQgeSA9IHJvdW5kVG9TdHIobGF0LCAzKTtcbiAgICBsZXQgeiA9IF9tYXAuZ2V0Wm9vbSgpO1xuICAgIC8vIGFwcGVuZCBjb29yZGluYXRlcyB0byB1cmwgYXMgcGFyYW1ldGVyc1xuICAgIHVybCArPSBcIj94PVwiICsgeCArIFwiJnk9XCIgKyB5ICsgXCImej1cIiArIHo7XG4gICAgLy8gc2hvdyB1cmwgdG8gdXNlclxuICAgIGlmIChjb25maXJtKFwiS29waWVyZSBpbiBad2lzY2hlbmFibGFnZTpcXG5cIiArIHVybCkpIHtcbiAgICAgICAgLy8gY29weSB0byBjbGlwYm9hcmRcbiAgICAgICAgaWYgKGRvY3VtZW50LmV4ZWNDb21tYW5kKSB7XG4gICAgICAgICAgICBsZXQgZHVtbXkgPSBhZGRFbGVtKCcnLCB1cmwsIGRvY3VtZW50LmJvZHksICd0ZXh0YXJlYScpO1xuICAgICAgICAgICAgZHVtbXkuc2VsZWN0KCk7XG4gICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZChcImNvcHlcIik7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGR1bW15KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBhbGVydChcIktvcGllcmVuIHdpcmQgbmljaHQgdm9tIEJyb3dzZXIgdW50ZXJzdMO8dHp0LlwiKTtcbiAgICB9XG59XG4vKioqKioqKioqKioqIFRFU1QgKioqKioqKioqKioqKiovXG5mdW5jdGlvbiB0ZXN0KF9ldmVudCkge1xuICAgICQoJyN0YWItc2l0ZS1tYW5hZ2VyJylbMF0uZmlyc3RFbGVtZW50Q2hpbGQuY2xpY2soKTtcbiAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzLWNhbnZhcy1leHBvcnQnKTtcbiAgICBsZXQgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgY29udGV4dC5saW5lQ2FwID0gXCJyb3VuZFwiO1xuICAgIGxldCBwb3NYID0gY2FudmFzLndpZHRoIC8gMjtcbiAgICBsZXQgcG9zWSA9IGNhbnZhcy5oZWlnaHQgLyAyO1xuICAgIGxldCBsaW5lV2lkdGggPSA0O1xuICAgIGNhbnZhcy5wYXJlbnRFbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICBsZXQgdGltZSA9IDMwMDA7XG4gICAgZm9yIChsZXQgcHJvZ3Jlc3MgPSAwOyBwcm9ncmVzcyA8IDEwMDsgcHJvZ3Jlc3MgKz0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApKSB7XG4gICAgICAgIHNldFRpbWVvdXQoXyA9PiB7XG4gICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCAyICogcG9zWCwgMiAqIHBvc1kpO1xuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIC8vIGRyYXcgZnVsbCBjaXJjbGVcbiAgICAgICAgICAgIGNvbnRleHQuYXJjKHBvc1gsIHBvc1ksIHBvc1ggLSBsaW5lV2lkdGggLyAyLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gQ09MT1JTLnByb2dyZXNzRmdkO1xuICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgLy8gZHJhdyBjaXJjdWxhciBwcm9ncmVzcyBiYXIgKHN0YXJ0IHRvcClcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0LmFyYyhwb3NYLCBwb3NZLCBwb3NYIC0gbGluZVdpZHRoIC8gMiwgTWF0aC5QSSAqIDI3MCAvIDE4MCwgTWF0aC5QSSAqICgyNzAgKyAocHJvZ3Jlc3MgKiAzNjAgLyAxMDApKSAvIDE4MCk7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gQ09MT1JTLnByb2dyZXNzQmdkO1xuICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICB9LCB0aW1lICogcHJvZ3Jlc3MgLyAxMDApO1xuICAgIH1cbiAgICBzZXRUaW1lb3V0KF8gPT4ge1xuICAgICAgICBjYW52YXMucGFyZW50RWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgICQoJyN0YWItc2l0ZS1tYW5hZ2VyJylbMF0uZmlyc3RFbGVtZW50Q2hpbGQuY2xpY2soKTtcbiAgICB9LCB0aW1lKTtcbn1cbi8qKioqKioqKioqKiogRVhQT1JUOiBpbml0ICoqKioqKioqKioqKioqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVNYXAoKSB7XG4gICAgaWYgKF9yZWdpb24gJiYgX3JlZ2lvbi5nZW9tKSB7XG4gICAgICAgIHJldmVyc2VDb29yZGluYXRlcyhfcmVnaW9uLmdlb20pO1xuICAgIH1cbiAgICAoZnVuY3Rpb24gKGxlYWZsZXQpIHtcbiAgICAgICAgLy8gY3VzdG9tIGNvbG9yZWQgbWFwIGljb25cbiAgICAgICAgbGVhZmxldC5jb2xvckljb24gPSBjb2xvciA9PiB7XG4gICAgICAgICAgICBjb2xvciA9IGNvbG9yIHx8ICcjRkZGRkZGJztcbiAgICAgICAgICAgIGNvbnN0IGRpdiA9IGxlYWZsZXQuZGl2SWNvbih7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnJyxcbiAgICAgICAgICAgICAgICBpY29uQW5jaG9yOiBbMCwgMjRdLFxuICAgICAgICAgICAgICAgIGxhYmVsQW5jaG9yOiBbLTYsIDBdLFxuICAgICAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMCwgLTM2XSxcbiAgICAgICAgICAgICAgICBodG1sOiAnPHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAnICsgY29sb3IgKyAnOyB3aWR0aDogMnJlbTsgaGVpZ2h0OiAycmVtOyBkaXNwbGF5OiBibG9jazsgbGVmdDogLTFyZW07IHRvcDogLTFyZW07IHBvc2l0aW9uOiByZWxhdGl2ZTsgYm9yZGVyLXJhZGl1czogMnJlbSAycmVtIDA7IHRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTsgYm9yZGVyOiAxcHggc29saWQgIzAwMDAwMFwiLz4nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBkaXY7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGN1c3RvbSBpbWFnZSBtYXAgaWNvblxuICAgICAgICBsZWFmbGV0LkltYWdlSWNvbiA9IGljb25PcHRpb25zID0+IHtcbiAgICAgICAgICAgIGlmIChpY29uT3B0aW9ucyBpbnN0YW5jZW9mIEFycmF5KSAvLyBpY29uICsgc2hhZG93XG4gICAgICAgICAgICAgICAgdmFyIGljb24gPSBsZWFmbGV0Lmljb24oe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBpY29uVXJsOiBpY29uT3B0aW9uc1swXSxcbiAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFs0MCwgMzNdLFxuICAgICAgICAgICAgICAgICAgICBpY29uQW5jaG9yOiBbMjAsIDMzXSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxBbmNob3I6IFswLCAtMTBdLFxuICAgICAgICAgICAgICAgICAgICBwb3B1cEFuY2hvcjogWzAsIC0yNV0sXG4gICAgICAgICAgICAgICAgICAgIHNoYWRvd1VybDogaWNvbk9wdGlvbnNbMV0sXG4gICAgICAgICAgICAgICAgICAgIHNoYWRvd1NpemU6IFs0MSwgNDFdLFxuICAgICAgICAgICAgICAgICAgICBzaGFkb3dBbmNob3I6IFsxMywgNDFdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBlbHNlIGlmIChpY29uT3B0aW9ucyBpbnN0YW5jZW9mIE9iamVjdCkgeyAvLyBmaWxlLCBoZWlnaHQsIHdpZHRoIGFzIG1lbWJlcnNcbiAgICAgICAgICAgICAgICB2YXIgaWNvbiA9IGxlYWZsZXQuaWNvbih7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJycsXG4gICAgICAgICAgICAgICAgICAgIGljb25Vcmw6IGljb25PcHRpb25zLmZpbGUsXG4gICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbaWNvbk9wdGlvbnMud2lkdGgsIGljb25PcHRpb25zLmhlaWdodF1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpY29uO1xuICAgICAgICB9O1xuICAgIH0pKEwpO1xuICAgIGxldCBjdXN0b21MaXNEaXNhYmxlZCA9IF9wZXJtaXNzaW9ucy5saXNBY2Nlc3MgPCAyIHx8XG4gICAgICAgIChfcmVnaW9uLmxpc0xpbWl0ICE9PSBudWxsICYmIF9yZWdpb24uY3VzdG9tTElTLmxlbmd0aCA+PSBfcmVnaW9uLmxpc0xpbWl0KSB8fFxuICAgICAgICBfcmVnaW9uLmxpc19ldmFsdWF0aW9uLnJ1bm5pbmc7XG4gICAgLy8gc2V0IHVwIG1hcFxuICAgIF9tYXAgPSBMLm1hcCgnbWFwZnJhbWUnLCB7XG4gICAgICAgIC8vIGNvbnRleHRtZW51XG4gICAgICAgIGNvbnRleHRtZW51OiB0cnVlLFxuICAgICAgICBjb250ZXh0bWVudUl0ZW1zOiBbe1xuICAgICAgICAgICAgICAgIHRleHQ6ICdIaWVyIGVpbmVuIEtvbW1lbnRhciBzZXR6ZW4nLFxuICAgICAgICAgICAgICAgIGljb25DbHM6IFwiaW9uIGlvbi1tZC1jaGF0Ym94ZXNcIixcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogY3JlYXRlQ29tbWVudCxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZDogX3Blcm1pc3Npb25zLmNoYXRBY2Nlc3MgPCAyXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdGV4dDogJ1dvIGJpbiBpY2g/JyxcbiAgICAgICAgICAgICAgICBpY29uQ2xzOiBcImlvbiBpb24tbWQtbG9jYXRlXCIsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGdldExvY2F0aW9uXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdGV4dDogJ0dlbmVyaWVyZSBMaW5rJyxcbiAgICAgICAgICAgICAgICBpY29uQ2xzOiBcImlvbiBpb24tbWQtY29weVwiLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBkaXNwbGF5TG9jYXRpb25cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0ZXh0OiAnTGVlcmUgS2FydGUnLFxuICAgICAgICAgICAgICAgIGljb25DbHM6IFwiaW9uIGlvbi1tZC10cmFzaFwiLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiByZW1vdmVMYXllcnMsXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ6IF9wZXJtaXNzaW9ucy5jb21wdXRhdGlvbiA9PSAwXG4gICAgICAgICAgICB9XSxcbiAgICAgICAgem9vbUNvbnRyb2w6IHRydWUgLy8gc2hvdyB6b29tIGNvbnRyb2xcbiAgICB9KTtcbiAgICBpZiAoIV9oMmFjdGl2YXRlZCB8fCBfcGVybWlzc2lvbnMubGlzQWNjZXNzID4gMCkge1xuICAgICAgICAvLyBMSVMgcHJvamVjdFxuICAgICAgICBfbWFwLmNvbnRleHRtZW51Lmluc2VydEl0ZW0oe1xuICAgICAgICAgICAgdGV4dDogJ1BsYXR6aWVyZSBMYWRlc3RhbmRvcnQnLFxuICAgICAgICAgICAgaWNvbkNsczogXCJpb24gaW9uLW1kLXBpblwiLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGFkZEN1c3RvbUNQQ2FsbGJhY2ssXG4gICAgICAgICAgICBkaXNhYmxlZDogY3VzdG9tTGlzRGlzYWJsZWRcbiAgICAgICAgfSwgMCk7XG4gICAgICAgIC8vX21hcC5jb250ZXh0bWVudS5pbnNlcnRJdGVtKHtcbiAgICAgICAgLy90ZXh0OiAnQmV3ZXJ0ZSBTdGFuZG9ydCcsXG4gICAgICAgIC8vaWNvbkNsczogXCJpb24gaW9uLW1kLXRodW1icy11cFwiLFxuICAgICAgICAvL2NhbGxiYWNrOiBoYW5kbGVGb3JtU3VibWl0LFxuICAgICAgICAvL2Rpc2FibGVkOiBfcGVybWlzc2lvbnMuY29tcHV0YXRpb248MlxuICAgICAgICAvL30sIDEpO1xuICAgICAgICBfbWFwLmNvbnRleHRtZW51Lmluc2VydEl0ZW0oe1xuICAgICAgICAgICAgdGV4dDogJ1dhcyBpc3QgaW4gZGVyIE7DpGhlPycsXG4gICAgICAgICAgICBpY29uQ2xzOiBcImlvbiBpb24tbWQtc2VhcmNoXCIsXG4gICAgICAgICAgICBjYWxsYmFjazogZ2V0TmVhcmJ5Q2FsbGJhY2ssXG4gICAgICAgICAgICBkaXNhYmxlZDogIV9wZXJtaXNzaW9ucy5zaXRlTWFuYWdlclxuICAgICAgICB9LCAyKTtcbiAgICAgICAgX21hcC5jb250ZXh0bWVudS5pbnNlcnRJdGVtKHtcbiAgICAgICAgICAgIHRleHQ6ICdaZWljaG5lIHZlcmJvdGVuZSBab25lJyxcbiAgICAgICAgICAgIGljb25DbHM6IFwiaW9uIGlvbi1tZC1jcmVhdGVcIixcbiAgICAgICAgICAgIGNhbGxiYWNrOiBkcmF3Q2FsbGJhY2ssXG4gICAgICAgICAgICBkaXNhYmxlZDogX3Blcm1pc3Npb25zLmNvbXB1dGF0aW9uIDwgMlxuICAgICAgICB9LCAzKTtcbiAgICAgICAgLypcbiAgICAgICAgX21hcC5jb250ZXh0bWVudS5pbnNlcnRJdGVtKHtcbiAgICAgICAgICAgIC8vIHVuc3VwcG9ydGVkIG9wdGlvblxuICAgICAgICAgICAgdGV4dDogJ1BsYXR6aWVyZSBQT0knLFxuICAgICAgICAgICAgaWNvbkNsczogXCJpb24gaW9uLW1kLWFkZC1jaXJjbGUtb3V0bGluZVwiLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGFkZFBvaUNhbGxiYWNrLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IF9yZWdpb24ubmFtZSAhPT0gXCJ0ZXN0XCIgLy8hX3Blcm1pc3Npb25zLmRhdGFBY2Nlc3NcbiAgICAgICAgfSwgMCk7XG4gICAgICAgICovXG4gICAgfVxuICAgIC8vIEgyIG1hcmtldHBsYWNlOiBhZGQgb3B0aW9uIGF0IHRvcCB0byBhZGQgb3JkZXJzXG4gICAgaWYgKF9oMmFjdGl2YXRlZCkge1xuICAgICAgICBfbWFwLmNvbnRleHRtZW51Lmluc2VydEl0ZW0oe1xuICAgICAgICAgICAgdGV4dDogJ05ldWVyIEgyLUF1ZnRyYWcnLFxuICAgICAgICAgICAgaWNvbkNsczogXCJpb24gaW9uLW1kLWJhc2tldFwiLFxuICAgICAgICAgICAgY2FsbGJhY2s6IG5ld0gyT3JkZXJDYWxsYmFja1xuICAgICAgICB9LCAwKTtcbiAgICB9XG4gICAgLy8gcmVnaW9uIG5hbWVkIHRlc3Q6IGFkZCBcInRlc3RcIiBtZW51IGVudHJ5XG4gICAgaWYgKF9yZWdpb24gJiYgX3JlZ2lvbi5uYW1lID09PSBcInRlc3RcIilcbiAgICAgICAgX21hcC5jb250ZXh0bWVudS5hZGRJdGVtKHtcbiAgICAgICAgICAgIHRleHQ6ICdUZXN0JyxcbiAgICAgICAgICAgIGljb25DbHM6IFwiaW9uIGlvbi1tZC1oZWxwXCIsXG4gICAgICAgICAgICBjYWxsYmFjazogdGVzdFxuICAgICAgICB9KTtcbiAgICBsZXQgdmlld2JveCA9IEwucG9seWdvbihfcmVnaW9uLmdlb20uY29vcmRpbmF0ZXMpLmdldEJvdW5kcygpO1xuICAgIEwuQ29udHJvbC5nZW9jb2Rlcih7XG4gICAgICAgIFwiZ2VvY29kZXJcIjogTC5Db250cm9sLkdlb2NvZGVyLm5vbWluYXRpbSh7XG4gICAgICAgICAgICBcImdlb2NvZGluZ1F1ZXJ5UGFyYW1zXCI6IHtcbiAgICAgICAgICAgICAgICAvLyByZXN0cmljdCBnZW9jb2RlciByZXN1bHRzIHRvIHByb2plY3QgcmVnaW9uXG4gICAgICAgICAgICAgICAgXCJ2aWV3Ym94XCI6IHZpZXdib3gucGFkKDAuMSkudG9CQm94U3RyaW5nKCksXG4gICAgICAgICAgICAgICAgXCJib3VuZGVkXCI6IDEsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgICAgXCJwbGFjZWhvbGRlclwiOiBcIlN1Y2hlLi4uXCIsXG4gICAgICAgIFwiZXJyb3JNZXNzYWdlXCI6IFwiS2VpbmUgRXJnZWJuaXNzZSBpbiBkZXIgUHJvamVrdHJlZ2lvbi5cIixcbiAgICAgICAgXCJzaG93UmVzdWx0SWNvbnNcIjogZmFsc2UsXG4gICAgfSkuYWRkVG8oX21hcCk7XG4gICAgLy8gc2V0IHpvb20gY29udHJvbCBwb3NpdGlvbiBpbiBtYXBcbiAgICBfbWFwLnpvb21Db250cm9sLnNldFBvc2l0aW9uKCd0b3ByaWdodCcpO1xuICAgIC8vIGFkZCBtYXAgc2NhbGVcbiAgICBMLmNvbnRyb2wuc2NhbGUoeyBpbXBlcmlhbDogZmFsc2UsIHBvc2l0aW9uOiAnYm90dG9tcmlnaHQnIH0pLmFkZFRvKF9tYXApO1xuICAgIC8vIFBvcHVsYXRlIG1lc3NhZ2VzIGFyZWFcbiAgICByZW5kZXJTaWRlYmFyQ2hhdCgpO1xuICAgIHtcbiAgICAgICAgLy8gdmFyaW91cyBsaW5rc1xuICAgICAgICBjb25zdCBvc21MaW5rID0gJzxhIGhyZWY9XCJodHRwczovL29wZW5zdHJlZXRtYXAub3JnXCI+T3BlblN0cmVldE1hcDwvYT4nO1xuICAgICAgICBjb25zdCBnaXNMaW5rID0gJ0VzcmkgJm1kYXNoOyBTb3VyY2U6IEVzcmksIGktY3ViZWQsIFVTREEsIFVTR1MsIEFFWCwgR2VvRXllLCBHZXRtYXBwaW5nLCBBZXJvZ3JpZCwgSUdOLCBJR1AsIFVQUi1FR1AsIGFuZCB0aGUgR0lTIFVzZXIgQ29tbXVuaXR5JztcbiAgICAgICAgLy8gYmFzZSBsYXllcnNcbiAgICAgICAgY29uc3Qgb3NtX2Jhc2VfbGF5ZXIgPSBMLnRpbGVMYXllcignaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLCB7XG4gICAgICAgICAgICBhdHRyaWJ1dGlvbjogJ1RpbGVzICZjb3B5OyAnICsgb3NtTGluayArICcgQ29udHJpYnV0b3JzJyxcbiAgICAgICAgICAgIG1heFpvb206IE1hdGgubWluKDE5LCBNQVhfWk9PTSksXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBnaXNfYmFzZV9sYXllciA9IEwudGlsZUxheWVyKCdodHRwczovL3NlcnZlci5hcmNnaXNvbmxpbmUuY29tL0FyY0dJUy9yZXN0L3NlcnZpY2VzL1dvcmxkX0ltYWdlcnkvTWFwU2VydmVyL3RpbGUve3p9L3t5fS97eH0nLCB7XG4gICAgICAgICAgICBhdHRyaWJ1dGlvbjogJ1RpbGVzICZjb3B5OyAnICsgZ2lzTGluayxcbiAgICAgICAgICAgIG1heFpvb206IE1hdGgubWluKDE5LCBNQVhfWk9PTSlcbiAgICAgICAgfSk7XG4gICAgICAgIC8qXG4gICAgICAgIGNvbnN0IEVzcmlfV29ybGRHcmF5Q2FudmFzID0gTC50aWxlTGF5ZXIoJ2h0dHBzOi8vc2VydmVyLmFyY2dpc29ubGluZS5jb20vQXJjR0lTL3Jlc3Qvc2VydmljZXMvQ2FudmFzL1dvcmxkX0xpZ2h0X0dyYXlfQmFzZS9NYXBTZXJ2ZXIvdGlsZS97en0ve3l9L3t4fScsIHtcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uOiAnVGlsZXMgJmNvcHk7IEVzcmkgJm1kYXNoOyBFc3JpLCBEZUxvcm1lLCBOQVZURVEnLFxuICAgICAgICAgICAgbWF4Wm9vbTogTWF0aC5taW4oMTYsIE1BWF9aT09NKVxuICAgICAgICB9KTtcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGxpZ2h0X2xheWVyID0gTC50aWxlTGF5ZXIoJ2h0dHBzOi8vY2FydG9kYi1iYXNlbWFwcy17c30uZ2xvYmFsLnNzbC5mYXN0bHkubmV0L2xpZ2h0X2FsbC97en0ve3h9L3t5fS5wbmcnLCB7XG4gICAgICAgICAgICBhdHRyaWJ1dGlvbjogJ1RpbGVzICZjb3B5OyBDYXJ0bywgdW5kZXIgQ0MgQlkgMy4wLiBEYXRhIGJ5ICcgKyBvc21MaW5rICsgJywgdW5kZXIgT0RiTC4nLFxuICAgICAgICAgICAgbWF4Wm9vbTogTUFYX1pPT01cbiAgICAgICAgfSkuYWRkVG8oX21hcCk7XG4gICAgICAgIGNvbnN0IGRhcmtfbGF5ZXIgPSBMLnRpbGVMYXllcignaHR0cHM6Ly9jYXJ0b2RiLWJhc2VtYXBzLXtzfS5nbG9iYWwuc3NsLmZhc3RseS5uZXQvZGFya19hbGwve3p9L3t4fS97eX0ucG5nJywge1xuICAgICAgICAgICAgYXR0cmlidXRpb246ICdUaWxlcyAmY29weTsgQ2FydG8sIHVuZGVyIENDIEJZIDMuMC4gRGF0YSBieSAnICsgb3NtTGluayArICcsIHVuZGVyIE9EYkwuJyxcbiAgICAgICAgICAgIG1heFpvb206IE1BWF9aT09NXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBsaWdodF9ub2xhYmVsc19sYXllciA9IEwudGlsZUxheWVyKCdodHRwczovL3tzfS5iYXNlbWFwcy5jYXJ0b2Nkbi5jb20vbGlnaHRfbm9sYWJlbHMve3p9L3t4fS97eX0ucG5nJywge1xuICAgICAgICAgICAgYXR0cmlidXRpb246ICdUaWxlcyAmY29weTsgQ2FydG8sIHVuZGVyIENDIEJZIDMuMC4gRGF0YSBieSAnICsgb3NtTGluayArICcsIHVuZGVyIE9EYkwuJyxcbiAgICAgICAgICAgIG1heFpvb206IE1BWF9aT09NXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBiYXNlTGF5ZXJzID0ge1xuICAgICAgICAgICAgJ09wZW5TdHJlZXRNYXAnOiBvc21fYmFzZV9sYXllcixcbiAgICAgICAgICAgICdHSVMgU2F0ZWxsaXRlJzogZ2lzX2Jhc2VfbGF5ZXIsXG4gICAgICAgICAgICAnRGFyayc6IGRhcmtfbGF5ZXIsXG4gICAgICAgICAgICAnTGlnaHQgKHN0dW1tZSBLYXJ0ZSknOiBsaWdodF9ub2xhYmVsc19sYXllcixcbiAgICAgICAgICAgICdMaWdodCc6IGxpZ2h0X2xheWVyLFxuICAgICAgICB9O1xuICAgICAgICBfY3RybExheWVyID0gTC5jb250cm9sLmxheWVycyhiYXNlTGF5ZXJzLCBudWxsKTtcbiAgICAgICAgX2N0cmxMYXllci5hZGRUbyhfbWFwKTtcbiAgICB9XG4gICAgX2NvbW1lbnRMYXllciA9IEwubGF5ZXJHcm91cCgpLmFkZFRvKF9tYXApO1xuICAgIF9yZXN0cmljdFBvbHkgPSBbXTtcbiAgICByZXF1ZXN0KHsgJ3BhdGgnOiAnbGlzJyB9KS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgLy8gdXBkYXRlIG1hcmtlcnNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfbWFya2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IG1hcmtlciA9IF9tYXJrZXJzW2ldO1xuICAgICAgICAgICAgbGV0IG1hcmtlcl9pZCA9IG1hcmtlci5wcm9wZXJ0aWVzLmlkO1xuICAgICAgICAgICAgbWFya2VyLnByb3BlcnRpZXMgPSByZXNwb25zZS5jdXN0b21MSVMuZmluZChsaXMgPT4gbGlzLmlkID09IG1hcmtlcl9pZCk7XG4gICAgICAgICAgICBtYXJrZXIub24oJ2NsaWNrJywgXyA9PiB7IG9wZW5MaXNNb2RhbChtYXJrZXJfaWQpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlbmFibGUgc2l0ZSBtYW5hZ2VyXG4gICAgICAgIGxldCBzbV90YWIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhYi1zaXRlLW1hbmFnZXJcIik7XG4gICAgICAgIGlmIChzbV90YWIpIHtcbiAgICAgICAgICAgIHNtX3RhYi5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZWQtc2lkZWJhci10YWJcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVuZGVyIGNoYXQgYWdhaW5cbiAgICAgICAgcmVuZGVyU2lkZWJhckNoYXQoKTtcbiAgICB9KS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgYWxlcnQoXCJOYWNobGFkZW4gZGVyIExhZGVwdW5rdGUgZmVobGdlc2NobGFnZW4uIEVpbmlnZSBGdW5rdGlvbmVuIHN0ZWhlbiBuaWNodCB6dXIgVmVyZsO8Z3VuZy5cIik7XG4gICAgfSk7XG4gICAgaWYgKF9oMmFjdGl2YXRlZCkge1xuICAgICAgICBoYW5kbGVHZXRIMk9yZGVycyh7fSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBsZXQgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24gKyAnJyk7XG4gICAgICAgICAgICBpZiAodXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJoMm9yZGVyXCIpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGgyb3JkZXJfaWQgPSB1cmwuc2VhcmNoUGFyYW1zLmdldChcImgyb3JkZXJcIik7XG4gICAgICAgICAgICAgICAgaWYgKF9oMm9yZGVycykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9yZGVyIG9mIF9oMm9yZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChvcmRlci5pZCArICcnKSA9PT0gaDJvcmRlcl9pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUgyT3JkZXJNb2RhbChvcmRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBvbmxvYWQ6IHN0YXJ0IHdoZXJlIHRoZSB1c2VyIGlzLCBpbiBzZWxlY3RlZCByZWdpb24gb3IgYXQgdGhlIFJMSSBpbiBBZGxlcnNob2YuIEhhdmUgdG8gc3RhcnQgc29tZXdoZXJlLi4uXG4gICAgd2luZG93Lm9ubG9hZCA9IF8gPT4ge1xuICAgICAgICBzZXRDb3JyZWN0VkgoKTtcbiAgICAgICAgLy8gUmVuZGVyIGRlYnVnZ2luZyBpbmZvcm1hdGlvblxuICAgICAgICByZW5kZXJEZWJ1Z0luZm8oKTtcbiAgICAgICAgLy8gc2V0IG1hcCB2aWV3cG9ydFxuICAgICAgICAvLyBnZXQgVVJMIHBhcmFtcyAoaWYgc3VwcG9ydGVkIGJ5IGJyb3dzZXIpXG4gICAgICAgIGxldCB4LCB5LCB6O1xuICAgICAgICBpZiAoVVJMU2VhcmNoUGFyYW1zKSB7XG4gICAgICAgICAgICBsZXQgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTsgLy8gbG9jYXRpb24uaHJlZi5zZWFyY2g/XG4gICAgICAgICAgICB4ID0gTnVtYmVyKHBhcmFtcy5nZXQoJ3gnKSk7XG4gICAgICAgICAgICB5ID0gTnVtYmVyKHBhcmFtcy5nZXQoJ3knKSk7XG4gICAgICAgICAgICB6ID0gTnVtYmVyKHBhcmFtcy5nZXQoJ3onKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHggJiYgeSAmJiB6KSB7XG4gICAgICAgICAgICAvLyBoaWdoZXN0IHByaW9yaXR5OiBVUkwgcGFyYW1zXG4gICAgICAgICAgICBfbWFwLnNldFZpZXcoW3ksIHhdLCB6KTtcbiAgICAgICAgICAgIHNob3dSZXN1bHQoX3JlZ2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoTE9DQVRFX09OX0lOSVQpIHtcbiAgICAgICAgICAgICAgICAvLyBzZWNvbmQgaGlnaGVzdCBwcmlvcml0eVxuICAgICAgICAgICAgICAgIC8vIGFzayB1c2VyIGZvciBsb2NhdGlvbiB3aGVuIG9wdGlvbiBpcyBzZXRcbiAgICAgICAgICAgICAgICAvLyBhc3luYyBjYWxsLCBzbyBuZXh0IHBhcnQgd2lsbCBiZSBleGVjdXRlZCBhcyB3ZWxsIChzaG93IFBPSSBldGMpXG4gICAgICAgICAgICAgICAgZ2V0TG9jYXRpb24obnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkZWZhdWx0OiB6b29tIHRvIHJlZ2lvbiBib3VuZHNcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy9fbWFwLmZpdEJvdW5kcyhMLnBvbHlsaW5lKF9yZWdpb24uZ2VvbS5jb29yZGluYXRlcykuZ2V0Qm91bmRzKCkpO1xuICAgICAgICAgICAgICAgIHNob3dSZWdpb24oKTtcbiAgICAgICAgICAgICAgICBzaG93UmVzdWx0KF9yZWdpb24pOyAvLyBtYWlubHkgaW50ZXJlc3RlZCBpbiBfcmVnaW9uLmN1c3RvbUxJU1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBzb21ldGhpbmcgcmVhbGx5IHN0dXBpZCBoYXBwZW5lZFxuICAgICAgICAgICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICAgICAgX21hcC5zZXRWaWV3KFs1Mi40MywgMTMuNTNdLCAxMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHVwIGNvbG9ybWFwXG4gICAgICAgIHNldEhlYXRDb2xvcm1hcChcIkJsdWVzXCIpO1xuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY3MgPSB3aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbG9ybWFwLXNlbGVjdCcpO1xuICAgICAgICAgICAgaWYgKGNzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGk7XG4gICAgICAgICAgICAgICAgZm9yIChpIGluIENPTE9STUFQU19ERSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnRleHQgPSBDT0xPUk1BUFNfREVbaV1bMF07XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IENPTE9STUFQU19ERVtpXVsxXTtcbiAgICAgICAgICAgICAgICAgICAgY3MuYWRkKG9wdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGluaXRpYWxpemUgc2NlbmFyaW8gbW9kYWwgKGNoYXJ0IGFuZCB0YWJsZSlcbiAgICAgICAgaW5pdFNjZW5hcmlvcygpO1xuICAgICAgICAvLyBJbml0aWFsaXplIG1hcmtkb3duIGVkaXRvclxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdGV4dGFyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpcy1kZXNjcmlwdGlvbi10ZXh0YXJlYVwiKTtcbiAgICAgICAgICAgIGxldCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaXMtZGVzY3JpcHRpb24tZm9ybVwiKTtcbiAgICAgICAgICAgIGlmICh0ZXh0YXJlYSAmJiBmb3JtKSB7XG4gICAgICAgICAgICAgICAgX3NpbXBsZW1kZSA9IG5ldyBTaW1wbGVNREUoe1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiB0ZXh0YXJlYSxcbiAgICAgICAgICAgICAgICAgICAgc3BlbGxDaGVja2VyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgYXV0b0Rvd25sb2FkRm9udEF3ZXNvbWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxhc3Rfd2lkdGggPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBfc2ltcGxlbWRlLmNvZGVtaXJyb3Iub24oXCJyZWZyZXNoXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JtLnNjcm9sbFdpZHRoID4gMCAmJiBmb3JtLnNjcm9sbFdpZHRoICE9IGxhc3Rfd2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0X3dpZHRoID0gZm9ybS5zY3JvbGxXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2ltcGxlbWRlLmNvZGVtaXJyb3IucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJChcIiNsaXNfbW9kYWxfYWNjb3JkaW9uXCIpLm9uKCdkb3duLnpmLmFjY29yZGlvbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3NpbXBsZW1kZS5jb2RlbWlycm9yLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gT24gcmVzaXplXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgICAgc2V0Q29ycmVjdFZIKCk7XG4gICAgfSk7XG4gICAgLy8gb3ZlcnJpZGUgbWFwJ3Mgb25DbGljayBiZWhhdmlvclxuICAgIC8vIENUUkwta2V5IHByZXNzZWQ6IHJ1bGVyXG4gICAgX21hcC5vbignY2xpY2snLCBmdW5jdGlvbiBvbk1hcENsaWNrKGUpIHtcbiAgICAgICAgaWYgKGUub3JpZ2luYWxFdmVudC5jdHJsS2V5KSB7XG4gICAgICAgICAgICBpZiAoIV9ydWxlcikge1xuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBuZXcgcnVsZXJcbiAgICAgICAgICAgICAgICBfcnVsZXIgPSBMLnBvbHlsaW5lKFtlLmxhdGxuZywgZS5sYXRsbmddLCB7IGNvbG9yOiBDT0xPUlMucnVsZXIgfSkuYWRkVG8oX21hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBhZGQgc2VjdGlvbiB0byBydWxlclxuICAgICAgICAgICAgICAgIF9ydWxlci5hZGRMYXRMbmcoZS5sYXRsbmcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhdGxuZ3MgPSBfcnVsZXIuZ2V0TGF0TG5ncygpO1xuICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGUgb3ZlciBydWxlciBzZWN0aW9ucyB0byBnZXQgdG90YWwgbGVuZ3RoIChtKVxuICAgICAgICAgICAgICAgIGxldCBkaXN0ID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxhdGxuZ3MubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgICAgIGRpc3QgKz0gbGF0bG5nc1tpXS5kaXN0YW5jZVRvKGxhdGxuZ3NbaSAtIDFdKTtcbiAgICAgICAgICAgICAgICBkaXN0ID0gTWF0aC5mbG9vcihkaXN0KTtcbiAgICAgICAgICAgICAgICAvLyB3cml0ZSBkaXN0YW5jZSB0byBydWxlciB0b29sdGlwXG4gICAgICAgICAgICAgICAgY29uc3QgdG9vbHRpcCA9IF9ydWxlci5nZXRUb29sdGlwKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRvb2x0aXApXG4gICAgICAgICAgICAgICAgICAgIF9ydWxlci5zZXRUb29sdGlwQ29udGVudChkaXN0ICsgJ20nKS5vcGVuVG9vbHRpcChlLmxhdGxuZyk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBfcnVsZXIuYmluZFRvb2x0aXAoZGlzdCArICdtJywgeyBwZXJtYW5lbnQ6IHRydWUgfSkub3BlblRvb2x0aXAoZS5sYXRsbmcpO1xuICAgICAgICAgICAgICAgIF9ydWxlci5yZWRyYXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRlZmF1bHRcbiAgICAgICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlLmxhdGxuZyk7XG4gICAgICAgICAgICAvLyBjbGVhciBydWxlclxuICAgICAgICAgICAgaWYgKF9ydWxlcilcbiAgICAgICAgICAgICAgICBfcnVsZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICBfcnVsZXIgPSBudWxsO1xuICAgICAgICAgICAgY2xlYXJSYWRpaSgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAge1xuICAgICAgICB2YXIgX2tleXM7XG4gICAgICAgIC8vIGxpc3RlbiBmb3Iga2V5cHJlc3NlcyBvbiBtYXAuIEVzYyBjYW5jZWxzIHBvbHlnb24gZHJhd2luZy5cbiAgICAgICAgZG9jdW1lbnQub25rZXlkb3duID0gZSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgICAgICAgICBfbWFwLnBtLmRpc2FibGVEcmF3KCdQb2x5Jyk7XG4gICAgICAgICAgICAgICAgX2RyYXdpbmdNb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjbGVhclJhZGlpKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfa2V5cyA9IGUua2V5Q29kZSA9PSAzOCAmJiBfa2V5cyAhPSAzOCA/IDM4IDogX2tleXMgKiAzOCArIGUua2V5Q29kZTtcbiAgICAgICAgICAgIGlmIChfa2V5cyA9PT0gNjQ0ODEyODAyNTEyMDc4NSkge1xuICAgICAgICAgICAgICAgIEwuVGlsZUxheWVyLktvbmFtaSA9IEwuVGlsZUxheWVyLmV4dGVuZCh7XG4gICAgICAgICAgICAgICAgICAgIGdldFRpbGVVcmw6IGZ1bmN0aW9uIChfYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiaHR0cHM6Ly9wbGFjZWtpdHRlbi5jb20vMjU2LzI1Nj9pbWFnZT1cIiArIChNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIDE2KSAlIDE2KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0QXR0cmlidXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIjxhIGhyZWY9J2h0dHBzOi8vcGxhY2VraXR0ZW4uY29tL2F0dHJpYnV0aW9uLmh0bWwnPlBsYWNlS2l0dGVuPC9hPlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGF5ZXIgPSBuZXcgTC5UaWxlTGF5ZXIuS29uYW1pKCk7XG4gICAgICAgICAgICAgICAgX2N0cmxMYXllci5hZGRCYXNlTGF5ZXIobGF5ZXIsIFwiPz8/XCIpO1xuICAgICAgICAgICAgICAgIGxheWVyLmFkZFRvKF9tYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyB6b29tIGNhbGxiYWNrXG4gICAgLy8gY2hhbmdlIGhlaWdodCBsZXZlbCBsYWJlbFxuICAgIC8vIGhlYXRtYXA6IHJlc2NhbGUgcmFkaXVzIChwaXhlbCBiYXNlZClcbiAgICBfbWFwLm9uKCd6b29tZW5kJywgXyA9PiB7XG4gICAgICAgIC8vIHJlY29tcHV0ZSBoZWF0IHBvaW50IHJhZGl1cyAobXVzdCBiZSBnaXZlbiBpbiBwaXhlbHMgLT4gY29udmVydCBhYnNvbHV0ZSByYWRpdXMgaW4gbWV0ZXJzIHRvIHBpeGVscylcbiAgICAgICAgLy8gY3V0b2ZmIGF0IDEwMCBwaXhlbHMgcmFkaXVzLCBzdHJhbmdlIGFydGVmYWN0cyBvdGhlcndpc2VcbiAgICAgICAgaWYgKF9oZWF0TGF5ZXIgJiYgX2hlYXRMYXllci5fbWFwICYmIG1ldGVyc0luUGl4ZWxzKF9oZWF0TGF5ZXIub3B0aW9ucy5hYnNfcmFkaXVzKSA8IDEwMCkge1xuICAgICAgICAgICAgX2hlYXRMYXllci5zZXRPcHRpb25zKHtcbiAgICAgICAgICAgICAgICByYWRpdXM6IG1ldGVyc0luUGl4ZWxzKF9oZWF0TGF5ZXIub3B0aW9ucy5hYnNfcmFkaXVzKSxcbiAgICAgICAgICAgICAgICBibHVyOiBtZXRlcnNJblBpeGVscyhfaGVhdExheWVyLm9wdGlvbnMuYWJzX3JhZGl1cykgLyAyLFxuICAgICAgICAgICAgICAgIGJsZW5kTXVsdGlwbHk6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgbGV0IHNpZGViYXIgPSBfcmVnaW9uID8gTC5jb250cm9sLnNpZGViYXIoJ3NpZGViYXInKS5hZGRUbyhfbWFwKSA6IG51bGw7XG4gICAge1xuICAgICAgICBzaWRlYmFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRlbnQnLCAodGFiKSA9PiB7XG4gICAgICAgICAgICBpZiAodGFiLmlkID09ICdzaXRlLW1hbmFnZXInKSB7XG4gICAgICAgICAgICAgICAgLy8gT3BlbiBzaWRlYmFyIGluIGZ1bGwgd2lkdGggZm9yIHNpdGUgbWFuYWdlclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaWRlYmFyJykuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgICAgICAgICAgcmVuZGVyU2l0ZU1hbmFnZXJUYWJsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGFiLmlkID09ICdkZWJ1Zy1pbmZvJykge1xuICAgICAgICAgICAgICAgIC8vIE9wZW4gc2lkZWJhciBpbiBmdWxsIHdpZHRoIGZvciBkZWJ1ZyBpbmZvXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpZGViYXInKS5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRhYi5pZCA9PSAnaDJtYXJrZXQnKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVySDJGaWx0ZXJTdGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gb3RoZXIgdGFicyBnZXQgbm9ybWFsIHdpZHRoXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpZGViYXInKS5zdHlsZS53aWR0aCA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTY3JvbGwgdG8gYm90dG9tIG9mIGNoYXRcbiAgICAgICAgICAgIGlmICh0YWIuaWQgPT0gJ2NoYXQnKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhdGZvcm0nKTtcbiAgICAgICAgICAgICAgICBmb3JtLnNjcm9sbEludG9WaWV3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzaWRlYmFyLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NpbmcnLCAoKSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lkZWJhcicpLnN0eWxlLndpZHRoID0gXCJcIjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChfcmVnaW9uLmxpc19ldmFsdWF0aW9uLnRhc2spIHtcbiAgICAgICAgc2V0VGltZW91dCh1cGRhdGVQcm9ncmVzcywgMCwgX3JlZ2lvbi5saXNfZXZhbHVhdGlvbi50YXNrLCBcInByb2dyZXNzLWNhbnZhcy1ldmFsdWF0aW9uXCIsIDMwMDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIHN1Y2Nlc3NcbiAgICAgICAgICAgIGlmIChjb25maXJtKFwiQmV3ZXJ0dW5nIGFiZ2VzY2hsb3NzZW4uIFNlaXRlIG5ldSBsYWRlbiwgdW0gRXJnZWJuaXNzZSBhYnp1cnVmZW4/XCIpKVxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICB9LCBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAgICAgLy8gZmFpbFxuICAgICAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKF9yZWdpb24uZmlsZXNUYXNrKSB7XG4gICAgICAgIHNldFRpbWVvdXQodXBkYXRlUHJvZ3Jlc3MsIDAsIF9yZWdpb24uZmlsZXNUYXNrLCBcInByb2dyZXNzLWNhbnZhcy1maWxlc1wiLCAzMDAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBzdWNjZXNzXG4gICAgICAgICAgICBfcmVnaW9uLmZpbGVzVGFzayA9IG51bGw7XG4gICAgICAgICAgICBsb2FkQUhQRGF0YSgpO1xuICAgICAgICB9LCBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAgICAgLy8gZmFpbFxuICAgICAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gbGlzdGVuIHRvIHdoZW4gYSBuZXcgbGF5ZXIgaXMgY3JlYXRlZCAoZHJhd2luZyBmaW5pc2hlZClcbiAgICBfbWFwLm9uKCdwbTpjcmVhdGUnLCBlID0+IHtcbiAgICAgICAgLy8gZ2V0IG5ldyBsYXllciBvZiBkcmF3aW5nXG4gICAgICAgIGxldCBsID0gZS5sYXllcjtcbiAgICAgICAgaWYgKF9kcmF3aW5nTW9kZS5yZXN0cmljdGVkKSB7XG4gICAgICAgICAgICAvLyBiaW5kIG5ldyBjb250ZXh0bWVudSB0byBhbGxvdyBmb3IgZGVsZXRpbmcgcG9seWdvblxuICAgICAgICAgICAgbC5iaW5kQ29udGV4dE1lbnUoe1xuICAgICAgICAgICAgICAgIGNvbnRleHRtZW51OiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbnRleHRtZW51SW5oZXJpdEl0ZW1zOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb250ZXh0bWVudUl0ZW1zOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0VudGZlcm5lIFpvbmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkNsczogXCJpb24gaW9uLW1kLWNsb3NlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKF8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVSZXN0cmljdFBvbHkobCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF9kcmF3aW5nTW9kZSA9IG51bGw7XG4gICAgICAgICAgICBfcmVzdHJpY3RQb2x5LnB1c2goZS5sYXllcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9kcmF3aW5nTW9kZS5zZWFyY2gpIHtcbiAgICAgICAgICAgIC8vIHNlbmQgdG8gYmFja2VuZCBmb3IgY2hlY2tpbmcgYW5kIHNhdmluZ1xuICAgICAgICAgICAgaWYgKCFyZXNldExJU0Zvcm0oKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBsZXQgbGlzZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXNmb3JtJyk7XG4gICAgICAgICAgICBsaXNmb3JtLmlkX3NlYXJjaC52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KGUubGF5ZXIudG9HZW9KU09OKCkuZ2VvbWV0cnkpO1xuICAgICAgICAgICAgZmV0Y2hQb3N0KCdsaXMvJyArIF9kcmF3aW5nTW9kZS5zZWFyY2gucHJvcGVydGllcy5pZCArICcvdXBkYXRlLycsICdsaXNmb3JtJywgMTAwMDApLnRoZW4oXyA9PiB7XG4gICAgICAgICAgICAgICAgLy8gc3VjY2VzczogbGluayBwb2x5Z29uIHRvIG1hcmtlclxuICAgICAgICAgICAgICAgIF9kcmF3aW5nTW9kZS5zZWFyY2guc2VhcmNoUG9seSA9IGUubGF5ZXI7XG4gICAgICAgICAgICAgICAgLy8gYWRqdXN0IGNvbnRleHQgbWVudSBlbnRyeVxuICAgICAgICAgICAgICAgIF9kcmF3aW5nTW9kZS5zZWFyY2gub3B0aW9ucy5jb250ZXh0bWVudUl0ZW1zWzBdID0ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcIkVudGZlcm5lIFN1Y2hyYXVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGljb25DbHM6IFwiaW9uIGlvbi1tZC1jbG9zZVwiLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogcmVtb3ZlU2VhcmNoUG9seVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX2RyYXdpbmdNb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgcG9seWdvbiBmcm8gIG1hcCBhZnRlciB0aW1lb3V0IChzdGlsbCBoYXMgbW91c2VvdmVyIGNhbGxiYWNrKVxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoXyA9PiB7IF9tYXAucmVtb3ZlTGF5ZXIoZS5sYXllcik7IH0sIDMwMDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgYWxlcnQoXCJTdWNocmF1bSBrb25udGUgbmljaHQgZXJzdGVsbHQgd2VyZGVuLlwiKTtcbiAgICAgICAgICAgICAgICBfbWFwLnJlbW92ZUxheWVyKGUubGF5ZXIpO1xuICAgICAgICAgICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5sZXQgX2gyT3JkZXJMYXllciA9IG51bGw7XG5mdW5jdGlvbiBhZGRIMk9yZGVyc1RvTWFwKG9yZGVycykge1xuICAgIC8vIHJlc2V0IG9yZGVyIGxheWVyXG4gICAgaWYgKF9oMk9yZGVyTGF5ZXIpXG4gICAgICAgIF9oMk9yZGVyTGF5ZXIuY2xlYXJMYXllcnMoKTtcbiAgICBvcmRlcnMgPSBvcmRlcnMubWFwKG8gPT4ge1xuICAgICAgICBpZiAoby5nZW9tX3BvaW50KSB7XG4gICAgICAgICAgICBvLmdlb20gPSB7IHR5cGU6IFwiUG9pbnRcIiwgY29vcmRpbmF0ZXM6IFtvLmdlb21fcG9pbnQubG5nLCBvLmdlb21fcG9pbnQubGF0XSB9O1xuICAgICAgICAgICAgby5pY29uID0ge1xuICAgICAgICAgICAgICAgIGZpbGU6IF9oMmluZm8uaWNvbl9iYXNlX3BhdGggKyBfaDJpbmZvLnByb2R1Y3RzW28ucHJvZHVjdF9zdXBlcl90eXBlXVtvLnByb2R1Y3RfdHlwZV1bby5wcm9kdWN0XS5pY29uX3MsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDIzLFxuICAgICAgICAgICAgICAgIGhlaWdodDogMjMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gcG9seWdvbiBnZW9tZXRyeTogcHJlcGFyZSBtb3VzZW92ZXJcbiAgICAgICAgICAgIGlmIChvLmdlb21fcG9seSkge1xuICAgICAgICAgICAgICAgIG8ucG9seWdvbiA9IEwucG9seWdvbihvLmdlb21fcG9seSwge1xuICAgICAgICAgICAgICAgICAgICBzdHJva2U6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDT0xPUlMuaDJQb2x5Z29uLFxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsXG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiBDT0xPUlMuaDJQb2x5Z29uLFxuICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC40LFxuICAgICAgICAgICAgICAgICAgICBub0NsaXA6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgb3JkZXJzID0gb2JqMkZlYXR1cmVBcnJheShvcmRlcnMpO1xuICAgIF9oMk9yZGVyTGF5ZXIgPSBzaG93RGF0YShvcmRlcnMsIHtcbiAgICAgICAgbmFtZTogXCJI4oKCIEFuZ2Vib3RlL1N1Y2hlblwiLFxuICAgICAgICBjbHVzdGVyZWQ6IHRydWUsXG4gICAgICAgIGNsdXN0ZXJDbGFzczogJ2gyb3JkZXItbWFya2VyY2x1c3RlcicsXG4gICAgICAgIGRpdkljb25GdW5jOiAnaDJvcmRlcicsXG4gICAgfSk7XG4gICAgaWYgKF9oMk9yZGVyTGF5ZXIpIHtcbiAgICAgICAgX2gyT3JkZXJMYXllci5vbignY2xpY2snLCBtID0+IHtcbiAgICAgICAgICAgIC8vIG9wZW4gbW9kYWwgb24gY2xpY2tcbiAgICAgICAgICAgIHVwZGF0ZUgyT3JkZXJNb2RhbChtLmxheWVyLnByb3BlcnRpZXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgX2gyT3JkZXJMYXllci5vbignbW91c2VvdmVyJywgZSA9PiB7XG4gICAgICAgICAgICAvLyBzaG93IHBvbHlnb24gb24gaG92ZXJcbiAgICAgICAgICAgIGlmIChlLnNvdXJjZVRhcmdldC5wcm9wZXJ0aWVzLnBvbHlnb24pXG4gICAgICAgICAgICAgICAgX21hcC5hZGRMYXllcihlLnNvdXJjZVRhcmdldC5wcm9wZXJ0aWVzLnBvbHlnb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgX2gyT3JkZXJMYXllci5vbignbW91c2VvdXQnLCBlID0+IHtcbiAgICAgICAgICAgIC8vIGhpZGUgcG9seWdvbiB3aGVuIG1vdXNlIGxlYXZlcyBtYXJrZXJcbiAgICAgICAgICAgIGlmIChlLnNvdXJjZVRhcmdldC5wcm9wZXJ0aWVzLnBvbHlnb24pXG4gICAgICAgICAgICAgICAgX21hcC5yZW1vdmVMYXllcihlLnNvdXJjZVRhcmdldC5wcm9wZXJ0aWVzLnBvbHlnb24pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBuZXdIMk9yZGVyQ2FsbGJhY2soZSkge1xuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIFwiaDJvcmRlci8/eD1cIiArIGUubGF0bG5nLmxuZyArIFwiJnk9XCIgKyBlLmxhdGxuZy5sYXQ7XG59XG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlSDJPcmRlcnMob3JkZXJzLCBvcmRlcmluZykge1xuICAgIF9oMm9yZGVycyA9IG9yZGVycztcbiAgICB7XG4gICAgICAgIGZvciAoY29uc3QgZmllbGQgaW4gb3JkZXJpbmcpIHtcbiAgICAgICAgICAgIGxldCBkaXJlY3Rpb24gPSBvcmRlcmluZ1tmaWVsZF07XG4gICAgICAgICAgICBfaDJvcmRlcnMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB2YSA9IGFbZmllbGRdO1xuICAgICAgICAgICAgICAgIGxldCB2YiA9IGJbZmllbGRdO1xuICAgICAgICAgICAgICAgIC8vIGEgJ3NldCcgb2YgZmllbGRzIHRoYXQgc2hvdWxkIGJlIHRyYW5zbGF0ZWQgYmVmb3JlIHNvcnRpbmdcbiAgICAgICAgICAgICAgICBsZXQgdHJhbnNsYXRlX2ZpZWxkcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgJ29yZGVyX3R5cGUnOiAxLFxuICAgICAgICAgICAgICAgICAgICAncHJvZHVjdCc6IDEsXG4gICAgICAgICAgICAgICAgICAgICdwcm9kdWN0X3R5cGUnOiAxLFxuICAgICAgICAgICAgICAgICAgICAncHJvZHVjdF9zdXBlcl90eXBlJzogMVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkIGluIHRyYW5zbGF0ZV9maWVsZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmEgPSBfaDJpbmZvLnRyYW5zW2ZpZWxkXVthW2ZpZWxkXV07XG4gICAgICAgICAgICAgICAgICAgIHZiID0gX2gyaW5mby50cmFuc1tmaWVsZF1bYltmaWVsZF1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmEgPCB2Yikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTEgKiBkaXJlY3Rpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhID4gdmIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEgKiBkaXJlY3Rpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgb3JkZXJzX3Rib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0Ym9keV9oMm9yZGVyc1wiKTtcbiAgICBvcmRlcnNfdGJvZHkuaW5uZXJIVE1MID0gXCJcIjtcbiAgICBsZXQgb3JkZXJfdHlwZXMgPSB7XG4gICAgICAgIDE6ICdTdWNoZScsXG4gICAgICAgIDI6ICdCaWV0ZScsXG4gICAgfTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9yZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgcm93ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgIGZ1bmN0aW9uIGFkZFRleHQodGV4dCkge1xuICAgICAgICAgICAgbGV0IHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICAgIHRkLmlubmVyVGV4dCA9IHRleHQ7XG4gICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQodGQpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGFkZEltYWdlKHNyYywgY2FwdGlvbikge1xuICAgICAgICAgICAgbGV0IHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICAgICAgICAgIGxldCBpID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBpLnNyYyA9IF9oMmluZm8uaWNvbl9iYXNlX3BhdGggKyBzcmM7XG4gICAgICAgICAgICBpLndpZHRoID0gMzI7XG4gICAgICAgICAgICB0ZC5hcHBlbmRDaGlsZChpKTtcbiAgICAgICAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgc3Bhbi5jbGFzc05hbWUgPSAnaDJvcmRlcl9wcm9kdWN0X25hbWUnO1xuICAgICAgICAgICAgc3Bhbi5pbm5lclRleHQgPSBjYXB0aW9uO1xuICAgICAgICAgICAgdGQuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQodGQpO1xuICAgICAgICB9XG4gICAgICAgIGFkZFRleHQob3JkZXJzW2ldLmluZGV4IHx8ICctJyk7XG4gICAgICAgIGFkZFRleHQob3JkZXJfdHlwZXNbb3JkZXJzW2ldLm9yZGVyX3R5cGVdKTtcbiAgICAgICAgYWRkVGV4dChfaDJpbmZvLnRyYW5zLnByb2R1Y3Rfc3VwZXJfdHlwZVtvcmRlcnNbaV0ucHJvZHVjdF9zdXBlcl90eXBlXSB8fCAnLScpO1xuICAgICAgICBhZGRUZXh0KF9oMmluZm8udHJhbnMucHJvZHVjdF90eXBlW29yZGVyc1tpXS5wcm9kdWN0X3R5cGVdIHx8ICctJyk7XG4gICAgICAgIGFkZEltYWdlKF9oMmluZm8ucHJvZHVjdHNbb3JkZXJzW2ldLnByb2R1Y3Rfc3VwZXJfdHlwZV1bb3JkZXJzW2ldLnByb2R1Y3RfdHlwZV0uaWNvbl9zIHx8XG4gICAgICAgICAgICBfaDJpbmZvLnByb2R1Y3RzW29yZGVyc1tpXS5wcm9kdWN0X3N1cGVyX3R5cGVdW29yZGVyc1tpXS5wcm9kdWN0X3R5cGVdW29yZGVyc1tpXS5wcm9kdWN0XS5pY29uX3MsIF9oMmluZm8udHJhbnMucHJvZHVjdFtvcmRlcnNbaV0ucHJvZHVjdF0gfHwgJy0nKTtcbiAgICAgICAgYWRkVGV4dChfaDJpbmZvLnRyYW5zLnN0YXR1c1tvcmRlcnNbaV0uc3RhdHVzXSB8fCAnLScpO1xuICAgICAgICBhZGRUZXh0KF9oMmluZm8udHJhbnMucHVyaXR5W29yZGVyc1tpXS5wdXJpdHldIHx8ICctJyk7XG4gICAgICAgIGFkZFRleHQoX2gyaW5mby50cmFucy5wcmVzc3VyZVtvcmRlcnNbaV0ucHJlc3N1cmVdIHx8ICctJyk7XG4gICAgICAgIGFkZFRleHQob3JkZXJzW2ldLm1heF9oMl9tYXNzIHx8ICctJyk7XG4gICAgICAgIHJvdy5vbmNsaWNrID0gKCkgPT4geyB1cGRhdGVIMk9yZGVyTW9kYWwob3JkZXJzW2ldKTsgfTtcbiAgICAgICAgb3JkZXJzX3Rib2R5LmFwcGVuZENoaWxkKHJvdyk7XG4gICAgfVxuICAgIGFkZEgyT3JkZXJzVG9NYXAob3JkZXJzKTtcbn1cbjtcbmZ1bmN0aW9uIHVwZGF0ZUgyT3JkZXJNb2RhbChvcmRlcikge1xuICAgIGxldCBvcmRlcl90eXBlcyA9IHtcbiAgICAgICAgMTogJ1NVQ0hFJyxcbiAgICAgICAgMjogJ0FOR0VCT1QnLFxuICAgIH07XG4gICAgbGV0IG9yZGVyX2NsYXNzZXMgPSB7XG4gICAgICAgIDE6ICdoMm9yZGVyLXR5cC1idXknLFxuICAgICAgICAyOiAnaDJvcmRlci10eXAtc2VsbCcsXG4gICAgfTtcbiAgICB7XG4gICAgICAgIGxldCB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2gyb3JkZXItbW9kYWwtb3JkZXItdHlwZScpO1xuICAgICAgICB0LmlubmVyVGV4dCA9IG9yZGVyX3R5cGVzW29yZGVyLm9yZGVyX3R5cGVdO1xuICAgICAgICBsZXQgYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoMm9yZGVyLW1vZGFsLW9yZGVyLWNpcmNsZScpO1xuICAgICAgICBjLmNsYXNzTmFtZSA9IG9yZGVyX2NsYXNzZXNbb3JkZXIub3JkZXJfdHlwZV07XG4gICAgfVxuICAgIGxldCBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaDJvcmRlci1tb2RhbC1kZXNjJyk7XG4gICAgZGl2LmlubmVyVGV4dCA9IG9yZGVyLmRlc2NyaXB0aW9uIHx8ICctJztcbiAgICB7XG4gICAgICAgIGxldCBpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaDJvcmRlci1tb2RhbC1wcm9kdWN0LWltZycpO1xuICAgICAgICBpbWcuc3JjID0gb3JkZXIuaWNvbi5maWxlO1xuICAgIH1cbiAgICB7XG4gICAgICAgIGxldCBwcm9kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2gyb3JkZXItbW9kYWwtcHJvZHVjdCcpO1xuICAgICAgICBwcm9kLmlubmVyVGV4dCA9IF9oMmluZm8udHJhbnMucHJvZHVjdFtvcmRlci5wcm9kdWN0XSB8fCAnLSc7XG4gICAgICAgIGxldCBjYXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaDJvcmRlci1tb2RhbC1jYXRlZ29yeScpO1xuICAgICAgICBpZiAob3JkZXIucHJvZHVjdCAhPSBvcmRlci5wcm9kdWN0X3R5cGUpIHtcbiAgICAgICAgICAgIGNhdC5pbm5lclRleHQgPSAnICgnICsgKF9oMmluZm8udHJhbnMucHJvZHVjdF90eXBlW29yZGVyLnByb2R1Y3RfdHlwZV0gfHwgJy0nKSArICcpJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhdC5pbm5lclRleHQgPSAnJztcbiAgICAgICAgfVxuICAgIH1cbiAgICB7XG4gICAgICAgIGxldCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2gyb3JkZXItbW9kYWwtY29vcmRzJyk7XG4gICAgICAgIGVsZW0uaW5uZXJUZXh0ID0gKG9yZGVyLmdlb21fcG9pbnQubGF0LnRvTG9jYWxlU3RyaW5nKCkpICsgJyAgICAnICsgKG9yZGVyLmdlb21fcG9pbnQubG5nLnRvTG9jYWxlU3RyaW5nKCkpO1xuICAgIH1cbiAgICB7XG4gICAgICAgIGxldCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2gyb3JkZXItbW9kYWwtbG9jYXRpb24tZGl2Jyk7XG4gICAgICAgIGVsZW0ub25jbGljayA9IF8gPT4ge1xuICAgICAgICAgICAgLy8gY2xvc2Ugb3JkZXIgbW9kYWxcbiAgICAgICAgICAgICQoJyNoMm9yZGVyLW1vZGFsJykuZm91bmRhdGlvbignY2xvc2UnKTtcbiAgICAgICAgICAgIC8vIGNsb3NlIHNpZGViYXJcbiAgICAgICAgICAgICQoXCIuc2lkZWJhci1jbG9zZVwiKS5jbGljaygpO1xuICAgICAgICAgICAgLy8gem9vbSB0byBvcmRlciBsb2NhdGlvblxuICAgICAgICAgICAgbGV0IHpvb20gPSBNYXRoLm1heChfbWFwLmdldFpvb20oKSwgMTEpO1xuICAgICAgICAgICAgX21hcC5mbHlUbyhbb3JkZXIuZ2VvbV9wb2ludC5sYXQsIG9yZGVyLmdlb21fcG9pbnQubG5nXSwgem9vbSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHtcbiAgICAgICAgbGV0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaDJvcmRlci1tb2RhbC1zdGF0dXMnKTtcbiAgICAgICAgbGV0IHN0YXR1cyA9IF9oMmluZm8udHJhbnMuc3RhdHVzW29yZGVyLnN0YXR1c10gfHwgJy0nO1xuICAgICAgICBpZiAob3JkZXIuc3RhdHVzX2RhdGUpXG4gICAgICAgICAgICBzdGF0dXMgKz0gXCIgYmlzIFwiICsgb3JkZXIuc3RhdHVzX2RhdGU7XG4gICAgICAgIGVsZW0uaW5uZXJUZXh0ID0gc3RhdHVzO1xuICAgIH1cbiAgICB7XG4gICAgICAgIGxldCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2gyb3JkZXItbW9kYWwtcHVyaXR5Jyk7XG4gICAgICAgIGVsZW0uaW5uZXJUZXh0ID0gX2gyaW5mby50cmFucy5wdXJpdHlbb3JkZXIucHVyaXR5XSB8fCAnLSc7XG4gICAgfVxuICAgIHtcbiAgICAgICAgbGV0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaDJvcmRlci1tb2RhbC1wcmVzc3VyZScpO1xuICAgICAgICBlbGVtLmlubmVyVGV4dCA9IF9oMmluZm8udHJhbnMucHJlc3N1cmVbb3JkZXIucHJlc3N1cmVdIHx8ICctJztcbiAgICB9XG4gICAge1xuICAgICAgICBsZXQgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoMm9yZGVyLW1vZGFsLWlubGV0LXRlbXBlcmF0dXJlJyk7XG4gICAgICAgIGVsZW0uaW5uZXJUZXh0ID0gX2gyaW5mby50cmFucy5pbmxldF90ZW1wZXJhdHVyZVtvcmRlci5pbmxldF90ZW1wZXJhdHVyZV0gfHwgJy0nO1xuICAgIH1cbiAgICB7XG4gICAgICAgIGxldCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2gyb3JkZXItbW9kYWwtb3V0bGV0LXRlbXBlcmF0dXJlJyk7XG4gICAgICAgIGVsZW0uaW5uZXJUZXh0ID0gX2gyaW5mby50cmFucy5vdXRsZXRfdGVtcGVyYXR1cmVbb3JkZXIub3V0bGV0X3RlbXBlcmF0dXJlXSB8fCAnLSc7XG4gICAgfVxuICAgIHtcbiAgICAgICAgbGV0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaDJvcmRlci1tb2RhbC1jb21wYW55Jyk7XG4gICAgICAgIGVsZW0uaW5uZXJUZXh0ID0gb3JkZXIuY29tcGFueS5uYW1lIHx8ICcnO1xuICAgICAgICBsZXQgbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoMm9yZGVyLW1vZGFsLWNvbnRhY3RfZW1haWwnKTtcbiAgICAgICAgbGV0IHZhbCA9IG9yZGVyLmNvbnRhY3RfZW1haWw7XG4gICAgICAgIG1haWwuaW5uZXJUZXh0ID0gdmFsIHx8ICctJztcbiAgICAgICAgbWFpbC5ocmVmID0gdmFsID8gKCdtYWlsdG86JyArIHZhbCkgOiAnIyc7XG4gICAgICAgIGxldCB0ZWxfZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoMm9yZGVyLW1vZGFsLWNvbnRhY3RfdGVsZXBob25lJyk7XG4gICAgICAgIGxldCB0ZWwgPSBvcmRlci5jb250YWN0X3RlbGVwaG9uZTtcbiAgICAgICAgdGVsX2VsZW0uaW5uZXJUZXh0ID0gdGVsIHx8ICctJztcbiAgICAgICAgdGVsX2VsZW0uaHJlZiA9IHRlbCA/ICgndGVsOicgKyB0ZWwpIDogJyMnO1xuICAgICAgICBsZXQga29vcF9lbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2gyb3JkZXItbW9kYWwtY29udGFjdF9rb29wX2JiX3VybCcpO1xuICAgICAgICBjb25zdCBrb29wID0gb3JkZXIuY29udGFjdF9rb29wX2JiX3VybDtcbiAgICAgICAgbGV0IGFic19rb29wX3VybCA9IFwiXCI7XG4gICAgICAgIC8vIFRyeSB0byBtYWtlIFVSTCBhYnNvbHV0ZVxuICAgICAgICBpZiAoa29vcC5pbmRleE9mKCdodHRwczovLycpID09PSAwIHx8IGtvb3AuaW5kZXhPZignaHR0cDovLycpID09PSAwIHx8IGtvb3AuaW5kZXhPZignLy8nKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gVVJMIGlzIGFic29sdXRlXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBVUkwgaXMgc3RyYW5nZSBvciByZWxhdGl2ZSAtPiBBZGQgaHR0cHMgcHJvdG9jb2wgdG8gYXZvaWQgYSByZWxhdGl2ZSBsaW5rIHRvIGxvY2FsaXNlclxuICAgICAgICAgICAgYWJzX2tvb3BfdXJsID0gJ2h0dHBzOi8vJyArIGtvb3A7XG4gICAgICAgIH1cbiAgICAgICAga29vcF9lbGVtLmlubmVyVGV4dCA9IGtvb3AgfHwgJy0nO1xuICAgICAgICBrb29wX2VsZW0uaHJlZiA9IGtvb3AgPyBhYnNfa29vcF91cmwgOiAnIyc7XG4gICAgfVxuICAgIHtcbiAgICAgICAgbGV0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaDJvcmRlci1tb2RhbC1zaGFyZS11cmwnKTtcbiAgICAgICAgZWxlbS52YWx1ZSA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL2gybGluay8nICsgX2gyaW5mby5oMm1hcmtldC51cmxfbmFtZSArICcvJyArIG9yZGVyLmlkICsgJy8nO1xuICAgIH1cbiAgICB7XG4gICAgICAgIGxldCBhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2gyb3JkZXItbW9kYWwtZWRpdC1saW5rJyk7XG4gICAgICAgIGlmIChvcmRlci5pc19vd24pIHtcbiAgICAgICAgICAgIGEuaHJlZiA9ICdoMm9yZGVyLycgKyBvcmRlci5pZCArICcvJztcbiAgICAgICAgICAgIGEuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYS5ocmVmID0gJyMnO1xuICAgICAgICAgICAgYS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgfVxuICAgIHtcbiAgICAgICAgbGV0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoMm9yZGVyLWRlbGV0ZS1idXR0b24nKTtcbiAgICAgICAgYnRuLmRhdGFzZXQub3JkZXJfaWQgPSBvcmRlci5pZDtcbiAgICAgICAgaWYgKG9yZGVyLmlzX293bikge1xuICAgICAgICAgICAgYnRuLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJ0bi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHllYXJseSBmaWVsZHNcbiAgICB7XG4gICAgICAgIGxldCBhZGRfeWVhcmx5X2NoYXJ0ID0gKGZpZWxkLCB1bml0X3kpID0+IHtcbiAgICAgICAgICAgIGxldCBjaGFydF9kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGNoYXJ0X2Rpdi5jbGFzc05hbWUgPSAnaDJvcmRlci1jaGFydCc7XG4gICAgICAgICAgICBsZXQgeWVhcnMgPSBPYmplY3Qua2V5cyhvcmRlci55ZWFybHlfZmllbGRzKTtcbiAgICAgICAgICAgIGxldCBzZXJpZXMgPSBbXTtcbiAgICAgICAgICAgIGxldCBjaGFydF9pc19yZWxldmFudCA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yIChsZXQgeWVhciBvZiB5ZWFycykge1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IG9yZGVyLnllYXJseV9maWVsZHNbeWVhciArICcnXVtmaWVsZF07XG4gICAgICAgICAgICAgICAgc2VyaWVzLnB1c2goeyB4OiB5ZWFyLCB5OiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnRfaXNfcmVsZXZhbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgICAgIHNlcmllczogW3Nlcmllc10sXG4gICAgICAgICAgICAgICAgbGFiZWxzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsZXQgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBzaG93UG9pbnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbGluZVNtb290aDogQ2hhcnRpc3QuSW50ZXJwb2xhdGlvbi5ub25lKCksXG4gICAgICAgICAgICAgICAgYXhpc1g6IHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0dyaWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGF4aXNUaXRsZTogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQ2hhcnRpc3QuRml4ZWRTY2FsZUF4aXMsXG4gICAgICAgICAgICAgICAgICAgIHRpY2tzOiB5ZWFycyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGF4aXNZOiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dHcmlkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBsb3c6IDAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvL2NsYXNzTmFtZXM6IGNsYXNzTmFtZXMsXG4gICAgICAgICAgICAgICAgcGx1Z2luczogW1xuICAgICAgICAgICAgICAgICAgICBDaGFydGlzdC5wbHVnaW5zLmN0QXhpc1RpdGxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF4aXNYOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXhpc1RpdGxlOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiAzMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF4aXNZOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXhpc1RpdGxlOiB1bml0X3ksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IDEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxpcFRpdGxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxldCBjaGFydCA9IG5ldyBDaGFydGlzdC5MaW5lKGNoYXJ0X2RpdiwgZGF0YSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAvLyB1cGRhdGUgY2hhcnQgb24gcmVzaXplIC8gYWNjb3JkaW9uIG9wZW5cbiAgICAgICAgICAgIG5ldyBSZXNpemVPYnNlcnZlcihfID0+IHtcbiAgICAgICAgICAgICAgICBjaGFydC51cGRhdGUoKTtcbiAgICAgICAgICAgIH0pLm9ic2VydmUoY2hhcnRfZGl2KTtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgY2hhcnRfZGl2LFxuICAgICAgICAgICAgICAgIGNoYXJ0X2lzX3JlbGV2YW50LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChsZXQgZmllbGQgb2YgX2gyaW5mby55ZWFybHlfZmllbGRzKSB7XG4gICAgICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2gyb3JkZXItbW9kYWwtY2hhcnQtJyArIGZpZWxkKTtcbiAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIGxldCBbY2hhcnRfZWxlbSwgaXNfcmVsZXZhbnRdID0gYWRkX3llYXJseV9jaGFydChmaWVsZCwgX2gyaW5mby55ZWFybHlfZmllbGRfdW5pdHNbZmllbGRdKTtcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChjaGFydF9lbGVtKTtcbiAgICAgICAgICAgIGlmIChpc19yZWxldmFudCkge1xuICAgICAgICAgICAgICAgIGRpdi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gaGlkZSBhY2NvcmRpb24gaXRlbSBpZiBjaGFydCBpcyBlbXB0eVxuICAgICAgICAgICAgICAgIGRpdi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAkKCcjaDJvcmRlci1tb2RhbCcpLmZvdW5kYXRpb24oJ29wZW4nKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVHZXRIMk9yZGVycyhmaWx0ZXIpIHtcbiAgICBsZXQgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgJ2gyb3JkZXJzLycpO1xuICAgIGlmIChmaWx0ZXIub3JkZXJfdHlwZSkge1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZCgnb3JkZXJfdHlwZScsIGZpbHRlci5vcmRlcl90eXBlKTtcbiAgICB9XG4gICAgaWYgKGZpbHRlci5wcm9kdWN0X3N1cGVyX3R5cGUpIHtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ3Byb2R1Y3Rfc3VwZXJfdHlwZScsIGZpbHRlci5wcm9kdWN0X3N1cGVyX3R5cGUpO1xuICAgIH1cbiAgICBpZiAoZmlsdGVyWydzdGF0dXMnXSkge1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZCgnc3RhdHVzJywgZmlsdGVyWydzdGF0dXMnXSk7XG4gICAgfVxuICAgIGlmIChmaWx0ZXIuc2FtZV9wcm9qZWN0KSB7XG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKCdzYW1lX3Byb2plY3QnLCAnMScpO1xuICAgIH1cbiAgICByZXR1cm4gZmV0Y2godXJsLmhyZWYpLnRoZW4ocmVzcCA9PiB7IHJldHVybiByZXNwLmpzb24oKTsgfSkudGhlbihkYXRhID0+IHtcbiAgICAgICAgbGV0IG9yZGVycyA9IGRhdGFbJ29yZGVycyddO1xuICAgICAgICB1cGRhdGVIMk9yZGVycyhvcmRlcnMsIGZpbHRlci5vcmRlcmluZyB8fCB7fSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlSDJPcmRlckRlbGV0ZShvcmRlcl9pZCkge1xuICAgIGxldCBmb3JtX2RhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAvLyBBZGQgQ1NSRiB0b2tlblxuICAgIGxldCB0b2tlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXNmb3JtJykuY3NyZm1pZGRsZXdhcmV0b2tlbi52YWx1ZTtcbiAgICBmb3JtX2RhdGEuYXBwZW5kKFwiY3NyZm1pZGRsZXdhcmV0b2tlblwiLCB0b2tlbik7XG4gICAgaWYgKCFjb25maXJtKCdNw7ZjaHRlbiBTaWUgZGllc2VzIEFuZ2Vib3QgLyBkaWVzZSBTdWNoZSBsw7ZzY2hlbj8nKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGZldGNoIVxuICAgIGZldGNoUG9zdCgnaDJvcmRlci8nICsgb3JkZXJfaWQgKyAnL2RlbGV0ZS8nLCBmb3JtX2RhdGEsIDMwMDAwKVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSlcbiAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAkKCcjaDJvcmRlci1tb2RhbCcpLmZvdW5kYXRpb24oJ2Nsb3NlJyk7XG4gICAgICAgICAgICBoYW5kbGVHZXRIMk9yZGVycyhfaDJmaWx0ZXIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlRXZhbHVhdGlvblN1Ym1pdCgpIHtcbiAgICBsZXQgZXZhbF9mb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXN0b21saXNfZXZhbHVhdGlvbl9mb3JtXCIpO1xuICAgIGxldCBzZWxlY3RlZF9saXNfZmllbGQgPSBldmFsX2Zvcm0uZWxlbWVudHNbXCJzZWxlY3RlZF9saXNcIl07XG4gICAgc2VsZWN0ZWRfbGlzX2ZpZWxkLnZhbHVlID0gJ1tdJztcbiAgICAvLyBBZGQgc2VsZWN0ZWQgbGlzIGZyb20gc2l0ZSBtYW5hZ2VyIHRhYmxlXG4gICAgaWYgKCQuZm4uZGF0YVRhYmxlLmlzRGF0YVRhYmxlKCcjc2l0ZS1tYW5hZ2VyLXRhYmxlJykpIHtcbiAgICAgICAgbGV0IGR0ID0gJCgnI3NpdGUtbWFuYWdlci10YWJsZScpLkRhdGFUYWJsZSgpO1xuICAgICAgICBsZXQgc2VsZWN0ZWRfcm93cyA9IGR0LnJvd3MoeyBzZWxlY3RlZDogdHJ1ZSB9KS5kYXRhKCk7XG4gICAgICAgIGlmIChzZWxlY3RlZF9yb3dzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBsaXNfaWRzID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGVkX3Jvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsaXNfaWRzLnB1c2goc2VsZWN0ZWRfcm93c1tpXS5saXNfaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZWN0ZWRfbGlzX2ZpZWxkLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkobGlzX2lkcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZXZhbF9mb3JtLnN1Ym1pdCgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZU11bHRpTGlzRGVsZXRlKCkge1xuICAgIGxldCBsaXNfaWRzID0gW107XG4gICAgLy8gQWRkIHNlbGVjdGVkIGxpcyBmcm9tIHNpdGUgbWFuYWdlciB0YWJsZVxuICAgIGlmICgkLmZuLmRhdGFUYWJsZS5pc0RhdGFUYWJsZSgnI3NpdGUtbWFuYWdlci10YWJsZScpKSB7XG4gICAgICAgIGxldCBkdCA9ICQoJyNzaXRlLW1hbmFnZXItdGFibGUnKS5EYXRhVGFibGUoKTtcbiAgICAgICAgbGV0IHNlbGVjdGVkX3Jvd3MgPSBkdC5yb3dzKHsgc2VsZWN0ZWQ6IHRydWUgfSkuZGF0YSgpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRfcm93cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGVkX3Jvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsaXNfaWRzLnB1c2goc2VsZWN0ZWRfcm93c1tpXS5saXNfaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChsaXNfaWRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIGFsZXJ0KFwiS2VpbmUgU3RhbmRvcnRlIGF1c2dld8OkaGx0LlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IG1zZyA9IGxpc19pZHMubGVuZ3RoID09PSAxID9cbiAgICAgICAgICAgIFwiTcO2Y2h0ZW4gU2llIGRpZXNlbiBTdGFuZG9ydCB3aXJrbGljaCBsw7ZzY2hlbj9cIiA6XG4gICAgICAgICAgICBcIk3DtmNodGVuIFNpZSBkaWVzZSBcIiArIGxpc19pZHMubGVuZ3RoICsgXCIgU3RhbmRvcnRlIHdpcmtsaWNoIGzDtnNjaGVuP1wiO1xuICAgICAgICBsZXQgb2theSA9IGNvbmZpcm0obXNnKTtcbiAgICAgICAgaWYgKCFva2F5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IGZvcm1fZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIC8vIEFkZCBDU1JGIHRva2VuXG4gICAgbGV0IHRva2VuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xpc2Zvcm0nKS5jc3JmbWlkZGxld2FyZXRva2VuLnZhbHVlO1xuICAgIGZvcm1fZGF0YS5hcHBlbmQoXCJjc3JmbWlkZGxld2FyZXRva2VuXCIsIHRva2VuKTtcbiAgICBmb3JtX2RhdGEuYXBwZW5kKFwic2VsZWN0ZWRfbGlzXCIsIEpTT04uc3RyaW5naWZ5KGxpc19pZHMpKTtcbiAgICBmZXRjaFBvc3QoJ2xpcy9tdWx0aWRlbGV0ZS8nLCBmb3JtX2RhdGEsIDMwMDAwKVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSlcbiAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIGlmICghZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgZm9yIChsZXQgbGlzX2lkIG9mIGxpc19pZHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgbWFya2VyID0gX21hcmtlcnMuZmluZChtID0+IHsgcmV0dXJuIG0ucHJvcGVydGllcy5pZCA9PSBsaXNfaWQ7IH0pO1xuICAgICAgICAgICAgICAgIHJlbW92ZUN1c3RvbUNQRnJvbU1hcChtYXJrZXIpO1xuICAgICAgICAgICAgICAgIGxldCBjdXN0b21MaXNEaXNhYmxlZCA9IF9yZWdpb24ubGlzTGltaXQgIT09IG51bGwgJiYgX21hcmtlcnMubGVuZ3RoID49IF9yZWdpb24ubGlzTGltaXQ7XG4gICAgICAgICAgICAgICAgLy8gZmluZCBjb250ZXh0IG1lbnUgZW50cnkgYnkgc3RyaW5nLCBtYXkgZW5hYmxlIGl0XG4gICAgICAgICAgICAgICAgX21hcC5jb250ZXh0bWVudS5zZXREaXNhYmxlZChnZXRDTUl0ZW1CeUxhYmVsKFwiUGxhdHppZXJlIExhZGVzdGFuZG9ydFwiKSwgY3VzdG9tTGlzRGlzYWJsZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVuZGVyU2l0ZU1hbmFnZXJUYWJsZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlRWxlbVZpc2liaWxpdHkoZWxlbV9pZCkge1xuICAgIGxldCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbV9pZCk7XG4gICAgaWYgKGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gJycpIHtcbiAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZXhwb3J0TElTYXNDU1YsIGV4cG9ydExJU2FzSlNPTiwgZXhwb3J0UG90ZW50aWFsLCBzZXRIZWF0Q29sb3JtYXAsIH0gZnJvbSBcIi4vZmVhdHVyZXNcIjtcbmltcG9ydCB7IGhhbmRsZUZvcm1TdWJtaXQsIGhhbmRsZUdldEgyT3JkZXJzLCB1cGRhdGVIMk9yZGVycywgaGFuZGxlSDJPcmRlckRlbGV0ZSwgaGFuZGxlUXVlcnlTYXZlLCBoYW5kbGVRdWVyeUZldGNoLCBoYW5kbGVFeHBvcnRMSVNFeGNlbCwgaGFuZGxlRXZhbHVhdGlvblN1Ym1pdCwgaGFuZGxlTXVsdGlMaXNEZWxldGUsIHRvZ2dsZUVsZW1WaXNpYmlsaXR5LCBpbml0aWFsaXplTWFwLCB9IGZyb20gXCIuL21hcFwiO1xuaW1wb3J0IHsgYWRkTmV3TGlzQ2hlY2tsaXN0SXRlbSwgYWRkTGlzUG93ZXJUYWJsZVJvdywgaGFuZGxlRGVsZXRlTElTRmlsZSwgaGFuZGxlTmV3TGlzRGVzY3JpcHRpb24sIGhhbmRsZU5ld0xpc01lc3NhZ2UsIGhhbmRsZU5ld0xpc0ltZywgaGFuZGxlTGlzU3VydmV5LCBoaWdobGlnaHRDQ1AsIG1hcmtEaXJ0eSwgb3Blbkxpc01vZGFsLCBzYXZlTGlzQ2hhbmdlcywgfSBmcm9tIFwiLi9saXNfbW9kYWxcIjtcbmltcG9ydCB7IHBvc3RQT0ksIH0gZnJvbSBcIi4vcG9pX21vZGFsXCI7XG5pbXBvcnQgeyBoYW5kbGVDb21tZW50UmVmcmVzaCwgaGFuZGxlQ29tbWVudFN1Ym1pdCwgfSBmcm9tIFwiLi9jb21tZW50X21vZGFsXCI7XG5pbXBvcnQgeyBsb2FkQUhQRGF0YSwgfSBmcm9tIFwiLi9BSFBcIjtcbmltcG9ydCB7IGhhbmRsZUNoYXRSZWZyZXNoLCBoYW5kbGVDaGF0U3VibWl0LCB9IGZyb20gXCIuL2NoYXRcIjtcbmltcG9ydCB7IHVwZGF0ZVNjZW5hcmlvRHJvcGRvd24sIH0gZnJvbSBcIi4vc2NlbmFyaW9cIjtcbmltcG9ydCB7IHNsaWRlckNoYW5nZSwgfSBmcm9tIFwiLi91dGlsc1wiO1xuLy8gZXhwb3J0IGZ1bmN0aW9ucyB0byB0aGUgYnJvd3NlcidzIHNjb3BlXG57XG4gICAgLy8gVW5mb3J0dW5hdGVseSwgd2UgY2FuJ3QgdXNlIDxmdW5jdGlvbj4ubmFtZSBiZWNhdXNlIGl0IGRvZXNuJ3Qgd29yayB3ZWxsXG4gICAgLy8gd2l0aCBtaW5pZmljYXRpb24uXG4gICAgbGV0IGZ1bmN0aW9ucyA9IFtcbiAgICAgICAgW1wiYWRkTmV3TGlzQ2hlY2tsaXN0SXRlbVwiLCBhZGROZXdMaXNDaGVja2xpc3RJdGVtXSxcbiAgICAgICAgW1wiYWRkTGlzUG93ZXJUYWJsZVJvd1wiLCBhZGRMaXNQb3dlclRhYmxlUm93XSxcbiAgICAgICAgW1wiZXhwb3J0TElTYXNDU1ZcIiwgZXhwb3J0TElTYXNDU1ZdLFxuICAgICAgICBbXCJleHBvcnRMSVNhc0pTT05cIiwgZXhwb3J0TElTYXNKU09OXSxcbiAgICAgICAgW1wiZXhwb3J0UG90ZW50aWFsXCIsIGV4cG9ydFBvdGVudGlhbF0sXG4gICAgICAgIFtcImhhbmRsZUNoYXRSZWZyZXNoXCIsIGhhbmRsZUNoYXRSZWZyZXNoXSxcbiAgICAgICAgW1wiaGFuZGxlQ2hhdFN1Ym1pdFwiLCBoYW5kbGVDaGF0U3VibWl0XSxcbiAgICAgICAgW1wiaGFuZGxlR2V0SDJPcmRlcnNcIiwgaGFuZGxlR2V0SDJPcmRlcnNdLFxuICAgICAgICBbXCJ1cGRhdGVIMk9yZGVyc1wiLCB1cGRhdGVIMk9yZGVyc10sXG4gICAgICAgIFtcImhhbmRsZUgyT3JkZXJEZWxldGVcIiwgaGFuZGxlSDJPcmRlckRlbGV0ZV0sXG4gICAgICAgIFtcImhhbmRsZU5ld0xpc0Rlc2NyaXB0aW9uXCIsIGhhbmRsZU5ld0xpc0Rlc2NyaXB0aW9uXSxcbiAgICAgICAgW1wiaGFuZGxlTmV3TGlzTWVzc2FnZVwiLCBoYW5kbGVOZXdMaXNNZXNzYWdlXSxcbiAgICAgICAgW1wiaGFuZGxlRGVsZXRlTElTRmlsZVwiLCBoYW5kbGVEZWxldGVMSVNGaWxlXSxcbiAgICAgICAgW1wiaGFuZGxlRm9ybVN1Ym1pdFwiLCBoYW5kbGVGb3JtU3VibWl0XSxcbiAgICAgICAgW1wiaGFuZGxlTmV3TGlzSW1nXCIsIGhhbmRsZU5ld0xpc0ltZ10sXG4gICAgICAgIFtcImhhbmRsZUxpc1N1cnZleVwiLCBoYW5kbGVMaXNTdXJ2ZXldLFxuICAgICAgICBbXCJoYW5kbGVDb21tZW50UmVmcmVzaFwiLCBoYW5kbGVDb21tZW50UmVmcmVzaF0sXG4gICAgICAgIFtcImhhbmRsZUNvbW1lbnRTdWJtaXRcIiwgaGFuZGxlQ29tbWVudFN1Ym1pdF0sXG4gICAgICAgIFtcImhhbmRsZVF1ZXJ5U2F2ZVwiLCBoYW5kbGVRdWVyeVNhdmVdLFxuICAgICAgICBbXCJoYW5kbGVRdWVyeUZldGNoXCIsIGhhbmRsZVF1ZXJ5RmV0Y2hdLFxuICAgICAgICBbXCJoYW5kbGVFeHBvcnRMSVNFeGNlbFwiLCBoYW5kbGVFeHBvcnRMSVNFeGNlbF0sXG4gICAgICAgIFtcImhhbmRsZUV2YWx1YXRpb25TdWJtaXRcIiwgaGFuZGxlRXZhbHVhdGlvblN1Ym1pdF0sXG4gICAgICAgIFtcImhhbmRsZU11bHRpTGlzRGVsZXRlXCIsIGhhbmRsZU11bHRpTGlzRGVsZXRlXSxcbiAgICAgICAgW1widG9nZ2xlRWxlbVZpc2liaWxpdHlcIiwgdG9nZ2xlRWxlbVZpc2liaWxpdHldLFxuICAgICAgICBbXCJoaWdobGlnaHRDQ1BcIiwgaGlnaGxpZ2h0Q0NQXSxcbiAgICAgICAgW1wibWFya0RpcnR5XCIsIG1hcmtEaXJ0eV0sXG4gICAgICAgIFtcIm9wZW5MaXNNb2RhbFwiLCBvcGVuTGlzTW9kYWxdLFxuICAgICAgICBbXCJwb3N0UE9JXCIsIHBvc3RQT0ldLFxuICAgICAgICBbXCJzYXZlTGlzQ2hhbmdlc1wiLCBzYXZlTGlzQ2hhbmdlc10sXG4gICAgICAgIFtcInNldEhlYXRDb2xvcm1hcFwiLCBzZXRIZWF0Q29sb3JtYXBdLFxuICAgICAgICBbXCJzbGlkZXJDaGFuZ2VcIiwgc2xpZGVyQ2hhbmdlXSxcbiAgICAgICAgW1widXBkYXRlU2NlbmFyaW9Ecm9wZG93blwiLCB1cGRhdGVTY2VuYXJpb0Ryb3Bkb3duXSxcbiAgICBdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnVuY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIEFkZCBmdW5jdGlvbnMgYXMgcHJvcGVydHkgb2Ygd2luZG93IG9iamVjdCB0byBtYWtlIGl0IGdsb2JhbFxuICAgICAgICB3aW5kb3dbZnVuY3Rpb25zW2ldWzBdXSA9IGZ1bmN0aW9uc1tpXVsxXTtcbiAgICB9XG59XG5pbml0aWFsaXplTWFwKCk7XG4vLyBJbml0aWFsaXplIGZvdW5kYXRpb25cbiQoZG9jdW1lbnQpLmZvdW5kYXRpb24oKTtcbmxvYWRBSFBEYXRhKCk7XG4iLCIndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBERUJVRywgQ09MT1JTLCB9IGZyb20gXCIuL21hcFwiO1xuaW1wb3J0IHsgcmV2ZXJzZUNvb3JkaW5hdGVzLCBzaG93RGF0YSwgfSBmcm9tIFwiLi9mZWF0dXJlc1wiO1xuaW1wb3J0IHsgZmV0Y2hQb3N0LCBnZW9KU09OZHVtcHMgfSBmcm9tIFwiLi91dGlsc1wiO1xuLy8gQ2FsbGJhY2sgdGhhdCBvcGVucyB3aW5kb3cgZm9yIFBPSSBhZGRpbmcvZWRpdGluZ1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFBvaUNhbGxiYWNrKGUpIHtcbiAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9pZm9ybVwiKTtcbiAgICBsZXQgYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb3N0LXBvaS1idXR0b25cIik7XG4gICAgaWYgKCEoZm9ybSAmJiBidXR0b24pKSB7XG4gICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiT29wcy4gUE9JIGZvcm0gbm90IGZvdW5kXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChlLnJlbGF0ZWRUYXJnZXQpIHtcbiAgICAgICAgZm9ybS5lbGVtZW50cy5pZC52YWx1ZSA9IGUucmVsYXRlZFRhcmdldC5wcm9wZXJ0aWVzLnBrO1xuICAgICAgICBmb3JtLmVsZW1lbnRzLm5hbWUudmFsdWUgPSBlLnJlbGF0ZWRUYXJnZXQucHJvcGVydGllcy5CZXNjaHJlaWJ1bmc7XG4gICAgICAgIGZvcm0uZWxlbWVudHMuYW1lbml0eS52YWx1ZSA9IGUucmVsYXRlZFRhcmdldC5wcm9wZXJ0aWVzLlR5cDtcbiAgICAgICAgYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3JtLmVsZW1lbnRzLmlkLnZhbHVlID0gXCJcIjtcbiAgICAgICAgZm9ybS5lbGVtZW50cy5nZW9tLnZhbHVlID0gZ2VvSlNPTmR1bXBzKGUubGF0bG5nKTtcbiAgICAgICAgZm9ybS5lbGVtZW50cy5uYW1lLnZhbHVlID0gXCJcIjtcbiAgICAgICAgZm9ybS5lbGVtZW50cy5hbWVuaXR5LnZhbHVlID0gXCJcIjtcbiAgICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgZm9ybS5lbGVtZW50cy5uYW1lLm9uY2hhbmdlID0gXyA9PiB7IGJ1dHRvbi5kaXNhYmxlZCA9ICFjaGVja0lucHV0KCk7IH07XG4gICAgZm9ybS5lbGVtZW50cy5hbWVuaXR5Lm9uY2hhbmdlID0gXyA9PiB7IGJ1dHRvbi5kaXNhYmxlZCA9ICFjaGVja0lucHV0KCk7IH07XG4gICAgJCgnI3BvaS1tb2RhbCcpLmZvdW5kYXRpb24oJ29wZW4nKTtcbiAgICBmb3JtLmVsZW1lbnRzLm5hbWUuZm9jdXMoKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZVBPSUNhbGxiYWNrKGUpIHtcbiAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9pZm9ybVwiKTtcbiAgICBpZiAoIWZvcm0pIHtcbiAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJPb3BzLiBQT0kgZm9ybSBub3QgZm91bmRcIik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9ybS5lbGVtZW50cy5pZC52YWx1ZSA9IFwiLVwiICsgZS5yZWxhdGVkVGFyZ2V0LnByb3BlcnRpZXMucGs7XG4gICAgZmV0Y2hQb3N0KFwicG9pL3VzZXIvXCIsIFwicG9pZm9ybVwiKTtcbiAgICBlLnJlbGF0ZWRUYXJnZXQucmVtb3ZlRnJvbShfbWFwKTtcbn1cbi8vIGFyZSBhbGwgbmVjZXNzYXJ5IGZpZWxkcyBzZXQgaW4gZm9ybT9cbmZ1bmN0aW9uIGNoZWNrSW5wdXQoKSB7XG4gICAgbGV0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvaWZvcm1cIik7XG4gICAgcmV0dXJuIChmb3JtICYmIGZvcm0uZWxlbWVudHMubmFtZS52YWx1ZS5sZW5ndGggJiYgZm9ybS5lbGVtZW50cy5hbWVuaXR5LnZhbHVlLmxlbmd0aCk7XG59XG4vLyBwb3N0IFBPSSBkYXRhIHRvIGJhY2tlbmRcbi8vIGlkIHNldDogZWRpdC9kZWxldGUgUE9JLCBvdGhlcndpc2UgYWRkIFBPSVxuLy8gc2hvd3MgYWxsIHVzZXIgUE9JIGluIHJlZ2lvbiBvbiBzdWNjZXNzXG5leHBvcnQgZnVuY3Rpb24gcG9zdFBPSSgpIHtcbiAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9pZm9ybVwiKTtcbiAgICBpZiAoIWZvcm0pIHtcbiAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJPb3BzLiBQT0kgZm9ybSBub3QgZm91bmRcIik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFmb3JtLmVsZW1lbnRzLmlkLnZhbHVlICYmICghZm9ybS5lbGVtZW50cy5nZW9tLnZhbHVlIHx8ICFmb3JtLmVsZW1lbnRzLm5hbWUudmFsdWUgfHwgIWZvcm0uZWxlbWVudHMuYW1lbml0eS52YWx1ZSkpIHtcbiAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbnN1ZmZpY2llbnQgaW5mb1wiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmZXRjaFBvc3QoXCJwb2kvdXNlci9cIiwgXCJwb2lmb3JtXCIpLnRoZW4ociA9PiByLmpzb24oKSkudGhlbihyZXMgPT4ge1xuICAgICAgICBpZiAocmVzICYmIHJlcy5mZWF0dXJlcykge1xuICAgICAgICAgICAgcmVzLmZlYXR1cmVzLm1hcChkID0+IHtcbiAgICAgICAgICAgICAgICByZXZlcnNlQ29vcmRpbmF0ZXMoZC5nZW9tZXRyeSk7XG4gICAgICAgICAgICAgICAgZC5wcm9wZXJ0aWVzLmRlc2MgPSBcIjx0YWJsZT48dHI+PHRkPkJlc2NocmVpYnVuZzwvdGQ+PHRkPlwiICsgZC5wcm9wZXJ0aWVzLkJlc2NocmVpYnVuZyArIFwiPC90ZD48L3RyPjx0cj48dGQ+VHlwPC90ZD48dGQ+XCIgKyBkLnByb3BlcnRpZXMuVHlwICsgXCI8L3RkPjwvdHI+PC90YWJsZT5cIjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGV0IGxheWVyID0gc2hvd0RhdGEocmVzLmZlYXR1cmVzLCB7XG4gICAgICAgICAgICAgICAgY29sb3I6IENPTE9SUy5QT0lfY3VzdG9tLFxuICAgICAgICAgICAgICAgIHJlamVjdERvdWJsZXM6IFwicGtcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsYXllci5lYWNoTGF5ZXIobCA9PiB7XG4gICAgICAgICAgICAgICAgbC5iaW5kQ29udGV4dE1lbnUoe1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0bWVudTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dG1lbnVJbmhlcml0SXRlbXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjb250ZXh0bWVudUl0ZW1zOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdFZGl0aWVyZSBQT0knLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25DbHM6IFwiaW9uIGlvbi1tZC1jcmVhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogYWRkUG9pQ2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0VudGZlcm5lIFBPSScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkNsczogXCJpb24gaW9uLW1kLXRyYXNoXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IHJlbW92ZVBPSUNhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKERFQlVHKVxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICB9KS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9KTtcbiAgICAkKCcjcG9pLW1vZGFsJykuZm91bmRhdGlvbignY2xvc2UnKTtcbn1cbiIsImltcG9ydCB7IERFQlVHLCB9IGZyb20gXCIuL21hcFwiO1xuaW1wb3J0IHsgYWRkRWxlbSwgZmV0Y2hQb3N0LCB9IGZyb20gXCIuL3V0aWxzXCI7XG5leHBvcnQgZnVuY3Rpb24gaW5pdFNjZW5hcmlvcygpIHtcbiAgICAvLyBidWlsZCBzY2VuYXJpbyB0YWJsZVxuICAgIGxldCB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NlbmFyaW9zXCIpO1xuICAgIGlmICghdGFibGUpXG4gICAgICAgIHJldHVybjtcbiAgICAvLyBjcmVhdGUgaGVhZGVyICh1c2VkIGFzIGxhYmVscylcbiAgICBpZiAoIV9yZWdpb24uc2NlbmFyaW9zKVxuICAgICAgICByZXR1cm47XG4gICAgLy8gcmVzZXQgdGFibGVcbiAgICB0YWJsZS5pbm5lckhUTUwgPSBcIlwiO1xuICAgIC8vIGNyZWF0ZSBoZWFkZXIgcm93XG4gICAgbGV0IHJvdyA9IHRhYmxlLmluc2VydFJvdygtMSk7XG4gICAgbGV0IHRoID0gcm93Lmluc2VydENlbGwoMCk7XG4gICAgdGgudGV4dENvbnRlbnQgPSBcIlNjZW5hcmlvXCI7IC8vIGhlYWRlciBvZiBmaXJzdCBjb2x1bW5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IF9yZWdpb24uc2NlbmFyaW9zLnllYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoID0gcm93Lmluc2VydENlbGwoLTEpO1xuICAgICAgICB0aC50ZXh0Q29udGVudCA9IF9yZWdpb24uc2NlbmFyaW9zLnllYXJzW2ldOyAvLyB5ZWFyIGhlYWRlcnNcbiAgICB9XG4gICAgLy8gY3JlYXRlIGluZGl2aWR1YWwgc2NlbmFyaW8gcm93c1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgX3JlZ2lvbi5zY2VuYXJpb3MubmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcm93ID0gdGFibGUuaW5zZXJ0Um93KC0xKTtcbiAgICAgICAgbGV0IHRkID0gcm93Lmluc2VydENlbGwoMCk7IC8vIGNlbGwgZm9yIG5hbWUgaW5wdXRcbiAgICAgICAgbGV0IGlucHV0ID0gYWRkRWxlbShcIlwiLCBcIlwiLCB0ZCwgXCJJTlBVVFwiKTtcbiAgICAgICAgaW5wdXQudHlwZSA9IFwidGV4dFwiO1xuICAgICAgICBpbnB1dC5wbGFjZWhvbGRlciA9IFwiTmFtZVwiO1xuICAgICAgICBpbnB1dC52YWx1ZSA9IF9yZWdpb24uc2NlbmFyaW9zLm5hbWVzW2ldO1xuICAgICAgICBpbnB1dC5vbmNoYW5nZSA9IF8gPT4geyB1cGRhdGVTY2VuYXJpb0NoYXJ0KHRydWUpOyB9O1xuICAgICAgICAvLyBhZGQgaW5wdXQgY2VsbHMgZm9yIGVhY2ggdGltZSBjb2x1bW5cbiAgICAgICAgZm9yIChsZXQgaiA9IDE7IGogPCB0YWJsZS5yb3dzWzBdLmNlbGxzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICB0ZCA9IHJvdy5pbnNlcnRDZWxsKC0xKTtcbiAgICAgICAgICAgIGlucHV0ID0gYWRkRWxlbShcIlwiLCBcIlwiLCB0ZCwgXCJJTlBVVFwiKTtcbiAgICAgICAgICAgIGlucHV0LnR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gX3JlZ2lvbi5zY2VuYXJpb3MuZGF0YVtpXVtqIC0gMV07XG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBpbnB1dC5vbmNoYW5nZSA9IF8gPT4geyB1cGRhdGVTY2VuYXJpb0NoYXJ0KHRydWUpOyB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZVNjZW5hcmlvRHJvcGRvd24oKTtcbiAgICB1cGRhdGVTY2VuYXJpb0NoYXJ0KGZhbHNlKTtcbn1cbi8vIHJlcGFpbnQgY2hhcnQgd2hlbiBvcGVuaW5nIG1vZGFsIHZpZXdcbiQoJyNzY2VuYXJpby1tb2RhbCcpLm9uKCdvcGVuLnpmLnJldmVhbCcsIF8gPT4geyB1cGRhdGVTY2VuYXJpb0NoYXJ0KGZhbHNlKTsgfSk7XG4vLyBzYXZlIGNoYW5nZXMgd2hlbiBjbG9zaW5nIG1vZGFsIHZpZXdcbiQoJyNzY2VuYXJpby1tb2RhbCcpLm9uKCdjbG9zZWQuemYucmV2ZWFsJywgc2F2ZVNjZW5hcmlvQ2hhbmdlcyk7XG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlU2NlbmFyaW9Ecm9wZG93bigpIHtcbiAgICAvLyB1cGRhdGUgc2NlbmFyaW8gc2VsZWN0aW9uIGJveFxuICAgIC8vIGdldCBjaG9pY2VzIGZyb20gX3JlZ2lvbi5zY2VuYXJpb3MgZGljdFxuICAgIGxldCBjaG9pY2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpZF9zY2VuYXJpb1wiKTtcbiAgICBpZiAoY2hvaWNlcylcbiAgICAgICAgY2hvaWNlcy5pbm5lckhUTUwgPSBcIlwiO1xuICAgIGZvciAobGV0IGkgPSAwOyBjaG9pY2VzICYmIGkgPCBfcmVnaW9uLnNjZW5hcmlvcy5uYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgb3B0aW9uID0gYWRkRWxlbShudWxsLCBfcmVnaW9uLnNjZW5hcmlvcy5uYW1lc1tpXSwgY2hvaWNlcywgXCJPUFRJT05cIik7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IF9yZWdpb24uc2NlbmFyaW9zLm5hbWVzW2ldO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZVNjZW5hcmlvQ2hhcnQobWFya0RpcnR5KSB7XG4gICAgLy8gZHJhdyBsaW5lIGNoYXJ0XG4gICAgLy8gbWFya0RpcnR5OiBzZXQgaGlkZGVuIGlucHV0IGFmdGVyIGNoYW5nZVxuICAgIGxldCBjaGFydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NlbmFyaW8tY2hhcnRcIik7XG4gICAgaWYgKCFjaGFydClcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCBzY2VuYXJpb0RhdGEgPSBnZXRTY2VuYXJpb0RhdGFGcm9tVGFibGUoKTtcbiAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgJ2xlZ2VuZCc6IHNjZW5hcmlvRGF0YS5uYW1lcyxcbiAgICAgICAgJ2xhYmVscyc6IHNjZW5hcmlvRGF0YS55ZWFycyxcbiAgICAgICAgJ3Nlcmllcyc6IHNjZW5hcmlvRGF0YS5kYXRhXG4gICAgfTtcbiAgICBsZXQgbWF4ID0gZGF0YS5zZXJpZXMucmVkdWNlKChhLCBjKSA9PiBNYXRoLm1heChhLCBjLnJlZHVjZSgoYSwgYykgPT4gTWF0aC5tYXgoYSwgYyksIDApKSwgMCk7XG4gICAgbGV0IGxlZ2VuZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGVnZW5kXCIpO1xuICAgIGxlZ2VuZC5pbm5lckhUTUwgPSBcIlwiO1xuICAgIC8vIGRyYXcgbGluZVxuICAgIG5ldyBDaGFydGlzdC5MaW5lKGNoYXJ0LCBkYXRhLCB7XG4gICAgICAgIGNoYXJ0UGFkZGluZzoge1xuICAgICAgICAgICAgbGVmdDogNDAsXG4gICAgICAgICAgICByaWdodDogNDBcbiAgICAgICAgfSxcbiAgICAgICAgLy9saW5lU21vb3RoOiBDaGFydGlzdC5JbnRlcnBvbGF0aW9uLmNhcmRpbmFsKHtmaWxsSG9sZXM6IHRydWV9KSwgLy8gc21vb3RoaW5nP1xuICAgICAgICBsb3c6IDAsXG4gICAgICAgIGhpZ2g6IG1heCxcbiAgICAgICAgZnVsbFdpZHRoOiB0cnVlLFxuICAgICAgICBheGlzWDoge1xuICAgICAgICAgICAgbGFiZWxPZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICB4OiAtMTUsXG4gICAgICAgICAgICAgICAgeTogMFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBheGlzWToge1xuICAgICAgICAgICAgbGFiZWxPZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcGx1Z2luczogW1xuICAgICAgICAgICAgQ2hhcnRpc3QucGx1Z2lucy5sZWdlbmQoe1xuICAgICAgICAgICAgICAgIGxlZ2VuZE5hbWVzOiBkYXRhLmxlZ2VuZCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbGVnZW5kIC8vXCJib3R0b21cIlxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBDaGFydGlzdC5wbHVnaW5zLmN0QXhpc1RpdGxlKHtcbiAgICAgICAgICAgICAgICBheGlzWToge1xuICAgICAgICAgICAgICAgICAgICBheGlzVGl0bGU6IFwiRS1GYWhyemV1Z2VcIixcbiAgICAgICAgICAgICAgICAgICAgYXhpc0NsYXNzOiBcImN0LWF4aXMtdGl0bGVcIixcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDI1IH0sXG4gICAgICAgICAgICAgICAgICAgIGZsaXBUaXRsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICBdXG4gICAgfSk7XG4gICAgYWRkRW1wdHlSb3coKTtcbiAgICBsZXQgZGlydHlFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY2VuYXJpby1kaXJ0eVwiKTtcbiAgICBpZiAoZGlydHlFbGVtKVxuICAgICAgICBkaXJ0eUVsZW0uY2hlY2tlZCA9IGRpcnR5RWxlbS5jaGVja2VkIHx8IG1hcmtEaXJ0eTtcbn1cbmZ1bmN0aW9uIGFkZEVtcHR5Um93KCkge1xuICAgIC8vIGFkZCBlbXB0eSByb3cgdG8gYm90dG9tIG9mIHRhYmxlIGlmIGxhc3Qgcm93IGlzIG5vdCBlbXB0eVxuICAgIGxldCB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NlbmFyaW9zXCIpO1xuICAgIGlmICghdGFibGUpXG4gICAgICAgIHJldHVybjtcbiAgICAvLyBsYXN0IHJvdyBlbXB0eTogYWJvcnRcbiAgICBpZiAoISh0YWJsZS5yb3dzW3RhYmxlLnJvd3MubGVuZ3RoIC0gMV0uZmlyc3RDaGlsZC5maXJzdENoaWxkLnZhbHVlKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCByb3cgPSB0YWJsZS50Qm9kaWVzWzBdLmluc2VydFJvdygtMSk7XG4gICAgbGV0IHRkID0gcm93Lmluc2VydENlbGwoMCk7IC8vIGNlbGwgZm9yIG5hbWUgaW5wdXRcbiAgICBsZXQgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiSU5QVVRcIik7XG4gICAgaW5wdXQudHlwZSA9IFwidGV4dFwiO1xuICAgIGlucHV0LnBsYWNlaG9sZGVyID0gXCJOYW1lXCI7XG4gICAgaW5wdXQub25jaGFuZ2UgPSBfID0+IHsgdXBkYXRlU2NlbmFyaW9DaGFydCh0cnVlKTsgfTtcbiAgICB0ZC5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgLy8gYWRkIGlucHV0IGNlbGxzIGZvciBlYWNoIHRpbWUgY29sdW1uXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0YWJsZS5yb3dzWzBdLmNlbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRkID0gcm93Lmluc2VydENlbGwoLTEpO1xuICAgICAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJJTlBVVFwiKTtcbiAgICAgICAgaW5wdXQudHlwZSA9IFwidGV4dFwiO1xuICAgICAgICBpbnB1dC5vbmNoYW5nZSA9IF8gPT4geyB1cGRhdGVTY2VuYXJpb0NoYXJ0KHRydWUpOyB9O1xuICAgICAgICB0ZC5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0U2NlbmFyaW9EYXRhRnJvbVRhYmxlKCkge1xuICAgIGxldCB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NlbmFyaW9zXCIpO1xuICAgIGxldCBkYXRhID0ge1xuICAgICAgICBcInllYXJzXCI6IFtdLFxuICAgICAgICBcIm5hbWVzXCI6IFtdLFxuICAgICAgICBcImRhdGFcIjogW11cbiAgICB9O1xuICAgIGlmICghdGFibGUpXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIC8vIGdldCB5ZWFyIGxhYmVscyBmcm9tIGZpcnN0IHRhYmxlIHJvd1xuICAgIGxldCByb3cgPSB0YWJsZS5yb3dzWzBdLmNlbGxzO1xuICAgIGZvciAobGV0IGogPSAxOyBqIDwgcm93Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGRhdGEueWVhcnMucHVzaChyb3dbal0udGV4dENvbnRlbnQpO1xuICAgIH1cbiAgICAvLyByZWFkIHRhYmxlIHZhbHVlcyByb3ctd2lzZVxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGFibGUucm93cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBjdXJyZW50IHRhYmxlIHJvd1xuICAgICAgICByb3cgPSB0YWJsZS5yb3dzW2ldLmNlbGxzO1xuICAgICAgICAvLyBubyBzY2VuYXJpbyBuYW1lOiBpZ25vcmVcbiAgICAgICAgaWYgKCFyb3dbMF0uZmlyc3RDaGlsZC52YWx1ZSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAvLyBkYXRhIHJvd1xuICAgICAgICAvLyBwcmVwYXJlIGFycmF5IGZvciByb3cgZGF0YVxuICAgICAgICBkYXRhLmRhdGEucHVzaChbXSk7XG4gICAgICAgIC8vIGdldCByb3cgbmFtZSBmb3IgbGVnZW5kXG4gICAgICAgIGRhdGEubmFtZXMucHVzaChyb3dbMF0uZmlyc3RDaGlsZC52YWx1ZSk7XG4gICAgICAgIC8vIGdldCByb3cgdmFsdWVzXG4gICAgICAgIGZvciAobGV0IGogPSAxOyBqIDwgcm93Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBsZXQgaW5wdXQgPSByb3dbal0uZmlyc3RDaGlsZC52YWx1ZTsgLy8gdXNlci1lbnRlcmVkIHN0cmluZ1xuICAgICAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKFwiLFwiLCBcIi5cIik7IC8vIEpTIG5lZWRzIGRvdHMgYXMgZGVjaW1hbCBwbGFjZVxuICAgICAgICAgICAgbGV0IHZhbHVlID0gcGFyc2VGbG9hdChpbnB1dCk7IC8vIHN0cmluZyAtPiBmbG9hdFxuICAgICAgICAgICAgdmFsdWUgPSBNYXRoLm1heCh2YWx1ZSwgMC4wKTsgLy8gMCBpcyBsb3dlciBsaW1pdFxuICAgICAgICAgICAgZGF0YS5kYXRhW2RhdGEuZGF0YS5sZW5ndGggLSAxXS5wdXNoKHZhbHVlKTsgLy8gYWRkIGNvbnZlcnRlZCB2YWx1ZSBpbnRvIGN1cnJlbnQgYXJyYXlcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbn1cbi8vIHNlbmQgc2NlbmFyaW8gZGF0YSB0byBiYWNrZW5kIHdoZW4gaXQgaGFzIGNoYW5nZWQgKGNoZWNrIGRpcnR5IGJpdClcbmZ1bmN0aW9uIHNhdmVTY2VuYXJpb0NoYW5nZXMoKSB7XG4gICAgbGV0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjZW5hcmlvLWZvcm1cIik7XG4gICAgbGV0IHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY2VuYXJpb3NcIik7XG4gICAgbGV0IGRpcnR5RWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NlbmFyaW8tZGlydHlcIik7XG4gICAgaWYgKCEoZm9ybSAmJiB0YWJsZSAmJiBkaXJ0eUVsZW0gJiYgZGlydHlFbGVtLmNoZWNrZWQpKVxuICAgICAgICByZXR1cm47XG4gICAgbGV0IHNjZW5hcmlvcyA9IGdldFNjZW5hcmlvRGF0YUZyb21UYWJsZSgpO1xuICAgIC8vIG1ha2Ugc3VyZSBhbGwgbmFtZXMgd2l0aGluIHByb2plY3QgYXJlIHVuaXF1ZVxuICAgIGxldCB1bmlxdWVOYW1lcyA9IHNjZW5hcmlvcy5uYW1lcy5sZW5ndGggPT09IChuZXcgU2V0KHNjZW5hcmlvcy5uYW1lcykpLnNpemU7XG4gICAgaWYgKCF1bmlxdWVOYW1lcykge1xuICAgICAgICBhbGVydChcIlN6ZW5hcmlvcyBicmF1Y2hlbiBlaW5lbiBlaW5kZXV0aWdlbiBOYW1lbi5cIik7XG4gICAgICAgIC8vIHRoZXJlIGlzIG5vIGZvdW5kYXRpb24gZXZlbnQgdGhhdCBmaXJlcyBCRUZPUkUgY2xvc2luZyB0aGUgbW9kYWwsIHNvIGl0IGhhcyB0byBiZSByZW9wZW5lZFxuICAgICAgICAvLyB3aGVuIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGJ5IGNsb3NlZC56Zi5yZXZlYWwsIHRoZSBtb2RhbCBpcyBzdGlsbCBpbiBzdGF0ZSBcIm9wZW5cIiwgc28gcmVvcGVuaW5nIGl0IHJpZ2h0IGF3YXkgcHV0cyBpdCBpbiBhbiBpbnZhbGlkIHN0YXRlXG4gICAgICAgIHNldFRpbWVvdXQoXyA9PiB7ICQoJyNzY2VuYXJpby1tb2RhbCcpLmZvdW5kYXRpb24oJ29wZW4nKTsgfSwgMTAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyB3YXJuIG9uIG1pc3NpbmcgZGF0YVxuICAgIGxldCBoYXNOYU4gPSBzY2VuYXJpb3MuZGF0YS5yZWR1Y2UoKGEsIGMpID0+IGEgfHwgYy5yZWR1Y2UoKGEsIGMpID0+IGEgfHwgKE51bWJlci5pc05hTihjKSksIGZhbHNlKSwgZmFsc2UpO1xuICAgIGlmIChoYXNOYU4gJiYgIWNvbmZpcm0oXCJNaW5kZXN0ZW5zIGVpbiBTemVuYXJpbyBlbnRow6RsdCBsw7xja2VuaGFmdGUgRGF0ZW4uIFRyb3R6ZGVtIGZvcnRmYWhyZW4/XCIpKSB7XG4gICAgICAgIHNldFRpbWVvdXQoXyA9PiB7ICQoJyNzY2VuYXJpby1tb2RhbCcpLmZvdW5kYXRpb24oJ29wZW4nKTsgfSwgMTAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBtYXJrIGNsZWFuXG4gICAgZGlydHlFbGVtLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAvLyBidWlsZCBmb3JtXG4gICAgbGV0IGZvcm1fZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGZvcm1fZGF0YS5hcHBlbmQoXCJzY2VuYXJpb3NcIiwgSlNPTi5zdHJpbmdpZnkoc2NlbmFyaW9zKSk7XG4gICAgZm9ybV9kYXRhLmFwcGVuZChcImNzcmZtaWRkbGV3YXJldG9rZW5cIiwgZm9ybS5jc3JmbWlkZGxld2FyZXRva2VuLnZhbHVlKTtcbiAgICAvLyBzZW5kIGZvcm0uIFRpbWVvdXQ6IDMwc1xuICAgIGZldGNoUG9zdCgnc2NlbmFyaW8vJywgZm9ybV9kYXRhLCAzMDAwMClcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4geyByZXR1cm4gcmVzcG9uc2UuanNvbigpOyB9KVxuICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgIF9yZWdpb24uc2NlbmFyaW9zID0gZGF0YTtcbiAgICAgICAgdXBkYXRlU2NlbmFyaW9Ecm9wZG93bigpO1xuICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICBpZiAoREVCVUcpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICBhbGVydChcIkVzIGdhYiBlaW5lbiBGZWhsZXIgYmVpbSBBa3R1YWxpc2llcmVuIGRlciBTemVuYXJpZW4uIGJpdHRlIMO8YmVycHLDvGZlbiBTaWUgSWhyZSBFaW5nYWJlbi5cIik7XG4gICAgICAgICQoJyNzY2VuYXJpby1tb2RhbCcpLmZvdW5kYXRpb24oJ29wZW4nKTtcbiAgICB9KTtcbn1cbiIsImltcG9ydCB7IGFkZEVsZW0sIGVzY2FwZUhUTUwsIHJvdW5kVG9TdHIsIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmZ1bmN0aW9uIGxpc1R5cGVUb1N0cmluZyhsdHlwZSkge1xuICAgIHN3aXRjaCAoJycgKyBsdHlwZSkge1xuICAgICAgICBjYXNlIFwiMVwiOlxuICAgICAgICAgICAgcmV0dXJuIFwicHJpdmF0XCI7XG4gICAgICAgIGNhc2UgXCIyXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJoYWxiIMO2ZmZlbnRsaWNoXCI7XG4gICAgICAgIGNhc2UgXCIzXCI6XG4gICAgICAgICAgICByZXR1cm4gXCLDtmZmZW50bGljaFwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFwiPFVuYmVrYW5udCBcIiArIGx0eXBlICsgXCI+XCI7XG4gICAgfVxuICAgIDtcbn1cbmZ1bmN0aW9uIGdldFRhYmxlUm93cygpIHtcbiAgICBsZXQgZXZhbFllYXJTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV2YWxZZWFyXCIpO1xuICAgIGxldCBzb3J0ZWRfbWFya2VycyA9IF9tYXJrZXJzLnNvcnQoKGEsIGIpID0+IHsgcmV0dXJuIGEucHJvcGVydGllcy5pZCAtIGIucHJvcGVydGllcy5pZDsgfSk7XG4gICAgbGV0IHJvd3MgPSBbXTtcbiAgICBsZXQgeWVhciA9IGV2YWxZZWFyU2VsZWN0ICYmIGV2YWxZZWFyU2VsZWN0LnZhbHVlID8gZXZhbFllYXJTZWxlY3QudmFsdWUgOiAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc29ydGVkX21hcmtlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHAgPSBzb3J0ZWRfbWFya2Vyc1tpXS5wcm9wZXJ0aWVzO1xuICAgICAgICBsZXQgcG93ZXIgPSAwLjA7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgcC5wb3dlcl90YWJsZS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgbGV0IHQgPSBwLnBvd2VyX3RhYmxlW2tdO1xuICAgICAgICAgICAgcG93ZXIgKz0gdC5wb3dlciAqIHQuY291bnQgKiB0LmRlbWFuZF9mYWN0b3I7XG4gICAgICAgICAgICBjb3VudCArPSB0LmNvdW50O1xuICAgICAgICB9XG4gICAgICAgIC8vIGJ1aWxkIGRpc3BsYXllZCBuYW1lIHN0cmluZ1xuICAgICAgICAvLyBiYXNlIG5hbWUgdGhhdCBvcGVucyBtb2RhbCBvbiBjbGlja1xuICAgICAgICBsZXQgbmFtZSA9ICc8YSBocmVmPVwiI1wiIG9uY2xpY2s9XCJvcGVuTGlzTW9kYWwoJyArIHAuaWQgKyAnKVwiPicgKyBlc2NhcGVIVE1MKHAubmFtZSkgKyAnPC9hPic7XG4gICAgICAgIC8vIHByZXBlbmQgd2l0aCBtYXAgaWNvbiAoanVtcCB0byBtYXJrZXIgb24gbWFwKVxuICAgICAgICBuYW1lID0gJzxhIGhyZWY9XCIjXCIgb25jbGljaz1cXCckKFwiLnNpZGViYXItY2xvc2VcIikuY2xpY2soKTsgaGlnaGxpZ2h0Q0NQKCcgKyBwLmlkICsgJyk7XFwnPjxpIGNsYXNzPVwiaWNvbiBpY29uLS1zbWFsbCBpb24tbWQtbWFwXCI+PC9pPjwvYT4gJyArIG5hbWU7XG4gICAgICAgIC8vIGFwcGVuZCBsb2NrIHdoZW4gbG9ja2VkXG4gICAgICAgIGlmIChwLmxvY2tlZClcbiAgICAgICAgICAgIG5hbWUgKz0gJyA8aSBjbGFzcz1cImljb24gaWNvbi0tc21hbGwgaW9uLW1kLWxvY2tcIiB0aXRsZT1cIkRpZXNlciBTdGFuZG9ydCBrYW5uIG5pY2h0IG1laHIgdmVyc2Nob2JlbiB3ZXJkZW4uXCI+PC9pPic7XG4gICAgICAgIGxldCByb3cgPSB7XG4gICAgICAgICAgICAnaW5kZXgnOiBpICsgMSxcbiAgICAgICAgICAgICdsaXNfaWQnOiBwLmlkLFxuICAgICAgICAgICAgJ25hbWUnOiB7ICdkaXNwbGF5JzogbmFtZSwgJ3ZhbHVlJzogcC5uYW1lIH0sXG4gICAgICAgICAgICAncHVibGljX3R5cGUnOiBsaXNUeXBlVG9TdHJpbmcocC5wdWJsaWNfdHlwZSksXG4gICAgICAgICAgICAnY291bnRfc3RyJzogJzxhIGhyZWY9XCIjXCIgb25jbGljaz1cIm9wZW5MaXNNb2RhbCgnICsgcC5pZCArICcsIFxcJyNhY2MtaXRlbS1wb3dlclxcJylcIj4nICsgY291bnQgKyAnPC9hPicsXG4gICAgICAgICAgICAnY291bnQnOiBjb3VudCxcbiAgICAgICAgICAgICdwb3dlcic6IHtcbiAgICAgICAgICAgICAgICAnZGlzcGxheSc6ICc8YSBocmVmPVwiI1wiIG9uY2xpY2s9XCJvcGVuTGlzTW9kYWwoJyArIHAuaWQgKyAnLCBcXCcjYWNjLWl0ZW0tcG93ZXJcXCcpXCI+JyArIHJvdW5kVG9TdHIocG93ZXIsIDIpICsgJyBrVzwvYT4nLFxuICAgICAgICAgICAgICAgICdudW0nOiBwb3dlcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnZmlsZXNfc3RyJzogJzxhIGhyZWY9XCIjXCIgb25jbGljaz1cIm9wZW5MaXNNb2RhbCgnICsgcC5pZCArICcsIFxcJyNhY2MtaXRlbS1maWxlc1xcJylcIj4nICsgcC5pbWFnZXMubGVuZ3RoICsgJzwvYT4nLFxuICAgICAgICAgICAgJ2ZpbGVzJzogcC5pbWFnZXMubGVuZ3RoLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoX3Blcm1pc3Npb25zLmV2YWx1YXRlQ3VzdG9tTGlzID4gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHAuZXZhbHVhdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIGV2YWx1YXRpb24gbWF5IGJlIGVtcHR5LCBrZXkgbWF5IGJlIFwiaW5mb1wiXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG51bV92YWwgPSBwLmV2YWx1YXRpb25ba2V5XVt5ZWFyXS5wb3dlciAvIDEwMDAuMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0cl92YWwgPSByb3VuZFRvU3RyKG51bV92YWwsIDEpICsgJyBNV2gvYSc7XG4gICAgICAgICAgICAgICAgICAgIHJvd1snZXZhbF8nICsga2V5XSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXNwbGF5JzogJzxhIGhyZWY9XCIjXCIgb25jbGljaz1cIm9wZW5MaXNNb2RhbCgnICsgcC5pZCArICcsIFxcJyNhY2MtaXRlbS1ldmFsdWF0aW9uXFwnKVwiPicgKyBzdHJfdmFsICsgJzwvYT4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ251bSc6IG51bV92YWwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChfYSkgeyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcm93cy5wdXNoKHJvdyk7XG4gICAgfVxuICAgIHJldHVybiByb3dzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclNpdGVNYW5hZ2VyVGFibGUoKSB7XG4gICAgaWYgKCEkLmZuLmRhdGFUYWJsZS5pc0RhdGFUYWJsZSgnI3NpdGUtbWFuYWdlci10YWJsZScpKSB7XG4gICAgICAgIC8vIEFkZCBsaXN0ZW5lcjogUmVuZGVyIHRhYmxlIGFnYWluIHdoZW4geWVhciBzZWxlY3QgY2hhbmdlc1xuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgZXZhbFllYXJTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV2YWxZZWFyXCIpO1xuICAgICAgICAgICAgaWYgKGV2YWxZZWFyU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgZXZhbFllYXJTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBfID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFnZSA9IHRhYmxlLnBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlclNpdGVNYW5hZ2VyVGFibGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLnBhZ2UocGFnZSkuZHJhdyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjb2x1bW5zIGFyZSBkZXBlbmRlbnQgb24gbWFya2VyIGRhdGFcbiAgICAgICAgbGV0IGNvbHVtbnMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICcgJyxcbiAgICAgICAgICAgICAgICBkYXRhOiAoXykgPT4gJycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGE6ICdpbmRleCcsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdJbmRleCcsXG4gICAgICAgICAgICAgICAgcmVuZGVyOiAkLmZuLmRhdGFUYWJsZS5yZW5kZXIubnVtYmVyKCcnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICdOYW1lJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICdfJzogJ25hbWUuZGlzcGxheScsXG4gICAgICAgICAgICAgICAgICAgICd0eXBlJzogJ25hbWUudmFsdWUnLFxuICAgICAgICAgICAgICAgICAgICAnc29ydCc6ICduYW1lLnZhbHVlJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGF0YTogJ3B1YmxpY190eXBlJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ1p1Z8OkbmdsaWNoa2VpdCcsXG4gICAgICAgICAgICAgICAgcmVuZGVyOiAkLmZuLmRhdGFUYWJsZS5yZW5kZXIudGV4dCgpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkYXRhOiAnY291bnRfc3RyJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0xhZGVwdW5rdGUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0xlaXN0dW5nJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICdfJzogJ3Bvd2VyLmRpc3BsYXknLFxuICAgICAgICAgICAgICAgICAgICAnc29ydCc6ICdwb3dlci5udW0nLFxuICAgICAgICAgICAgICAgICAgICAndHlwZSc6ICdwb3dlci5udW0nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGE6ICdmaWxlc19zdHInLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnRGF0ZWllbicsXG4gICAgICAgICAgICAgICAgc29ydDogJ2ZpbGVzJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG4gICAgICAgIGlmIChfcGVybWlzc2lvbnMuZXZhbHVhdGVDdXN0b21MaXMgPiAwICYmIF9tYXJrZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBldmFsRGF0YSA9IF9tYXJrZXJzWzBdLnByb3BlcnRpZXMuZXZhbHVhdGlvbjtcbiAgICAgICAgICAgIGlmIChldmFsRGF0YSAmJiBldmFsRGF0YS5pbmZvKSB7XG4gICAgICAgICAgICAgICAgbGV0IGtleTtcbiAgICAgICAgICAgICAgICBmb3IgKGtleSBpbiBldmFsRGF0YS5pbmZvLnNjZW5hcmlvcykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSBrZXkgKyAnIGtXJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PSAnMTUwJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSAnPj0gJyArIHRpdGxlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ18nOiAnZXZhbF8nICsga2V5ICsgJy5kaXNwbGF5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc29ydCc6ICdldmFsXycgKyBrZXkgKyAnLm51bScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiAnZXZhbF8nICsga2V5ICsgJy5udW0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDb250ZW50OiAnLSdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHBvcHVsYXRlIHllYXIgZHJvcGRvd24gbWVudVxuICAgICAgICAgICAgICAgIGxldCBldmFsWWVhclNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXZhbFllYXJcIik7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGV2YWxZZWFyU2VsZWN0ICYmIGV2YWxEYXRhW2tleV0gJiYgaSA8IGV2YWxEYXRhW2tleV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9wdGlvbiA9IGFkZEVsZW0oXCJcIiwgZXZhbERhdGFba2V5XVtpXS55ZWFyLCBldmFsWWVhclNlbGVjdCwgXCJPUFRJT05cIik7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEluaXRpYWxpc2UgZGF0YXRhYmxlXG4gICAgICAgIGxldCB0YWJsZSA9ICQoJyNzaXRlLW1hbmFnZXItdGFibGUnKS5EYXRhVGFibGUoe1xuICAgICAgICAgICAgZGF0YTogZ2V0VGFibGVSb3dzKCksXG4gICAgICAgICAgICBwYWdpbmF0ZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbHVtbkRlZnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3NlbGVjdC1jaGVja2JveCcsXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IDAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7IHRhcmdldHM6IDEsIHdpZHRoOiAnNSUnIH0sXG4gICAgICAgICAgICAgICAgeyB0YXJnZXRzOiAyLCB3aWR0aDogJzMwJScsIHR5cGU6ICduYXR1cmFsJyB9LFxuICAgICAgICAgICAgICAgIHsgdGFyZ2V0czogWzQsIDUsIDZdLCB3aWR0aDogJzEwJScgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBvcmRlcjogW1sxLCAnYXNjJ11dLFxuICAgICAgICAgICAgY29sdW1uczogY29sdW1ucyxcbiAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICAgIHN0eWxlOiAnbXVsdGkrc2hpZnQnLFxuICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAndGQ6Zmlyc3QtY2hpbGQnLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2N1c3RvbS1zZWxlY3RlZCcsXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IHt9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxhbmd1YWdlOiB7XG4gICAgICAgICAgICAgICAgXCJzZWFyY2hcIjogXCJTdWNoZTpcIixcbiAgICAgICAgICAgICAgICBcInplcm9SZWNvcmRzXCI6IFwiS2VpbmUgcGFzc2VuZGVuIFN1Y2hlcmdlYm5pc3NlIGdlZnVuZGVuXCIsXG4gICAgICAgICAgICAgICAgXCJlbXB0eVRhYmxlXCI6IFwiPGI+S2VpbmUgTGFkZXN0YW5kb3J0ZSB2b3JoYW5kZW4uPC9iPjxicj48YnI+RXJzdGVsbGVuIFNpZSBlaW5lbiBMYWRlc3RhbmRvcnQgbWl0IGVpbmVtIFJlY2h0c2tsaWNrIGF1ZiBkZXIgPGEgaHJlZj1cXFwiI1xcXCIgb25jbGljaz1cXFwiZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NpdGUtbWFuYWdlciAuc2lkZWJhci1jbG9zZScpLmNsaWNrKClcXFwiPkthcnRlPC9hPiB1bmQgd8OkaGxlbiBTaWUgaW0gTWVuw7wgPGI+XFxcIlBsYXR6aWVyZSBMYWRlc3RhbmRvcnRcXFwiPC9iPjo8YnI+PGJyPjxpbWcgc3JjPVxcXCIvc3RhdGljL0xJU01hcC9pbWcvc2NyZWVuc2hvdF9jcmVhdGVfbGlzLnBuZ1xcXCI+XCIsXG4gICAgICAgICAgICAgICAgXCJpbmZvXCI6IFwiWmVpbGVuIF9TVEFSVF8gLSBfRU5EXyB2b24gX1RPVEFMX1wiLFxuICAgICAgICAgICAgICAgIFwiaW5mb0VtcHR5XCI6IFwiXCIsXG4gICAgICAgICAgICAgICAgXCJpbmZvRmlsdGVyZWRcIjogXCIoYXVzIF9NQVhfIFplaWxlbiBpbnNnZXNhbXQpXCIsXG4gICAgICAgICAgICAgICAgXCJsZW5ndGhNZW51XCI6IFwiWmVpZ2UgX01FTlVfIFplaWxlblwiLFxuICAgICAgICAgICAgICAgIFwic2VsZWN0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgY2VsbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF86IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAwOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgMTogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcm93czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXzogXCIlZCBaZWlsZW4gYXVzZ2V3w6RobHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIDA6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAxOiBcIjEgWmVpbGUgYXVzZ2V3w6RobHRcIixcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJwYWdpbmF0ZVwiOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiZmlyc3RcIjogXCJFcnN0ZVwiLFxuICAgICAgICAgICAgICAgICAgICBcImxhc3RcIjogXCJMZXR6dGVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJuZXh0XCI6IFwiVm9yXCIsXG4gICAgICAgICAgICAgICAgICAgIFwicHJldmlvdXNcIjogXCJadXLDvGNrXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGFibGUub24oJ3NlbGVjdCcsIHVwZGF0ZV9kZWxldGVfYnRuKTtcbiAgICAgICAgdGFibGUub24oJ2Rlc2VsZWN0JywgdXBkYXRlX2RlbGV0ZV9idG4pO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2l0ZS1tYW5hZ2VyLXRhYmxlJykuc3R5bGUud2lkdGggPSBcIlwiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gQWxyZWFkeSBpbml0aWFsaXNlZCAtPiBVcGRhdGUgcm93c1xuICAgICAgICBsZXQgZHQgPSAkKCcjc2l0ZS1tYW5hZ2VyLXRhYmxlJykuRGF0YVRhYmxlKCk7XG4gICAgICAgIGR0LmNsZWFyKCk7XG4gICAgICAgIGR0LnJvd3MuYWRkKGdldFRhYmxlUm93cygpKTtcbiAgICAgICAgZHQuZHJhdygpO1xuICAgIH1cbiAgICAvLyB1cGRhdGUgZXZhbHVhdGlvbiBidXR0b24gdmlzaWJpbGl0eVxuICAgIGxldCBldmFsX2J1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV2YWwtYnV0dG9ucy1kaXZcIik7XG4gICAgaWYgKGV2YWxfYnV0dG9ucylcbiAgICAgICAgZXZhbF9idXR0b25zLnN0eWxlLnZpc2liaWxpdHkgPSBfbWFya2Vycy5sZW5ndGggPyBcInZpc2libGVcIiA6IFwiaGlkZGVuXCI7XG4gICAgLy8gdXBkYXRlIGRlbGV0ZSBidXR0b24gdmlzaWJpbGl0eVxuICAgIHVwZGF0ZV9kZWxldGVfYnRuKCk7XG59XG5mdW5jdGlvbiB1cGRhdGVfZGVsZXRlX2J0bigpIHtcbiAgICBsZXQgZHQgPSAkKCcjc2l0ZS1tYW5hZ2VyLXRhYmxlJykuRGF0YVRhYmxlKCk7XG4gICAgbGV0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGlzLW11bHRpLWRlbGV0ZS1idXR0b25cIik7XG4gICAgbGV0IHNlbGVjdGlvbl9sZW4gPSBkdC5yb3dzKHsgc2VsZWN0ZWQ6IHRydWUgfSkuZGF0YSgpLmxlbmd0aDtcbiAgICBpZiAoYnRuKVxuICAgICAgICBidG4uc3R5bGUudmlzaWJpbGl0eSA9IHNlbGVjdGlvbl9sZW4gPyBcInZpc2libGVcIiA6IFwiaGlkZGVuXCI7XG59XG4iLCIndXNlIHN0cmljdCc7XG4vKiB1dGlsaXR5IGZ1bmN0aW9ucyAqL1xuaW1wb3J0IHsgREVCVUcgfSBmcm9tIFwiLi9tYXBcIjtcbi8vIFN0YXJ0IHNlcnZlciByZXF1ZXN0IChHRVQpLiBObyByZXR1cm4gdmFsdWUuIFVzZSAudGhlbihmdW5jdGlvbihyZXN1bHQpe30gLi4uIChwcm9taXNlcykgaW5zdGVhZFxuLy8gb3B0aW9uczogcGF0aCwgcXVlcnksIHRpbWVvdXQgKG1zKSBbbm9uZV0sIG1ldGhvZCAoW0dFVF0gb3IgUE9TVClcbmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0KG9wdGlvbnMpIHtcbiAgICAvLyBnZXQgb3duIFVSTCwgYXBwZW5kIHF1ZXJ5LiB3aW5kb3cubG9jYXRpb24uaHJlZiBnaXZlcyBmdWxsIFVSTCwgd2l0aCBldmVyeSBjaGFyYWN0ZXIgKGxpa2UgdHJhaWxpbmcgaGFzaGVzIC0+IG5vdCBnb29kIGZvciBhcHBlbmRpbmcpXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgW107XG4gICAgaWYgKCFvcHRpb25zLnBhdGgpXG4gICAgICAgIHRocm93IFwiUmVxdWVzdCBwYXRoIHJlcXVpcmVkLlwiO1xuICAgIG9wdGlvbnMucXVlcnkgPSBvcHRpb25zLnF1ZXJ5IHx8IFwiXCI7XG4gICAgb3B0aW9ucy5tZXRob2QgPSBvcHRpb25zLm1ldGhvZCB8fCBcIkdFVFwiO1xuICAgIGxldCBwYXRobmFtZSA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG4gICAgaWYgKHBhdGhuYW1lW3BhdGhuYW1lLmxlbmd0aCAtIDFdICE9ICcvJykge1xuICAgICAgICBwYXRobmFtZSArPSAnLyc7XG4gICAgfVxuICAgIDsgLy9hcHBlbmQgdHJhaWxpbmcgc2xhc2hcbiAgICBsZXQgcmVxdWVzdCA9IHBhdGhuYW1lICsgb3B0aW9ucy5wYXRoICsgJy8nICsgb3B0aW9ucy5xdWVyeTtcbiAgICBpZiAocmVxdWVzdFtyZXF1ZXN0Lmxlbmd0aCAtIDFdICE9ICcvJykge1xuICAgICAgICByZXF1ZXN0ICs9ICcvJztcbiAgICB9XG4gICAgOyAvL2FwcGVuZCB0cmFpbGluZyBzbGFzaFxuICAgIC8vIGNyZWF0ZSBwcm9taXNlXG4gICAgY29uc3QgcCA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgaWYgKHNlbGYuZmV0Y2gpIHtcbiAgICAgICAgICAgIC8vIGZldGNoIEFQSSBzdXBwb3J0ZWRcbiAgICAgICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImZldGNoaW5nIFwiICsgcmVxdWVzdCArIFwiLi4uXCIpO1xuICAgICAgICAgICAgZmV0Y2gocmVxdWVzdCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogb3B0aW9ucy5tZXRob2QsXG4gICAgICAgICAgICAgICAgbW9kZTogJ2NvcnMnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJBY2NlcHRcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAndGV4dC9wbGFpbidcbiAgICAgICAgICAgICAgICAgICAgLy9cIlgtQ1NSRlRva2VuXCI6IGdldENvb2tpZShcImNzcmZ0b2tlblwiKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbidcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5qc29uKCkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIChERUJVRykgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlcXVlc3QgZmFpbGVkJywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vIGZldGNoIHN1cHBvcnRcIik7XG4gICAgICAgICAgICAvLyBYTUxIdHRwUmVxdWVzdFxuICAgICAgICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgeGhyLm9wZW4ob3B0aW9ucy5tZXRob2QsIHJlcXVlc3QsIHRydWUpO1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICd0ZXh0L3BsYWluJyk7XG4gICAgICAgICAgICAvL3hoci5zZXRSZXF1ZXN0SGVhZGVyKFwiWC1DU1JGVG9rZW5cIiwgZ2V0Q29va2llKFwiY3NyZnRva2VuXCIpKTtcbiAgICAgICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBfID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSA0ICYmIHRoaXMuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0RvbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYoREVCVUcpIGNvbnNvbGUubG9nKEpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShKU09OLnBhcnNlKHRoaXMucmVzcG9uc2VUZXh0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoREVCVUcpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVxdWVzdCBmYWlsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgeGhyLnNlbmQoKTtcbiAgICAgICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh4aHIpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy93YWl0IGZvciByZXN1bHQgKHRpbWVvdXQgb3B0aW9uYWwpXG4gICAgaWYgKG9wdGlvbnMudGltZW91dCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgICAgIHAsIG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHNldFRpbWVvdXQoKCkgPT4gcmVqZWN0KG5ldyBFcnJvcigndGltZW91dCcpKSwgb3B0aW9ucy50aW1lb3V0KSlcbiAgICAgICAgXSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIHA7XG59XG4vKlxuICAgIFBPU1QgZm9ybSBkYXRhIGFuZCByZXR1cm4gc2VydmVyIHJlc3VsdCBhcyBQcm9taXNlLlxuICAgIElucHV0czpcbiAgICAgICAgcGF0aDogcmVsYXRpdmUgcGF0aCB0byBzZW5kIGRhdGEgdG8uIE1heSBuZWVkIGNsb3Npbmcgc2xhc2guXG4gICAgICAgIGlkX29yX2Zvcm1kYXRhOiBhbHJlYWR5IEZvcm1EYXRhIG9iamVjdCBvciBmb3JtIGlkXG4gICAgICAgIHRpbWVvdXQ6IHRpbWVvdXQgb2YgUE9TVCByZXF1ZXN0XG4gICAgT3V0cHV0OiBQcm9taXNlXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGZldGNoUG9zdChwYXRoLCBpZF9vcl9mb3JtZGF0YSwgdGltZW91dCA9IDApIHtcbiAgICBsZXQgcG9zdF9kYXRhO1xuICAgIGlmICh0eXBlb2YgaWRfb3JfZm9ybWRhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgLy8gY29sbGVjdCBmb3JtIGRhdGEsIENTUkYgdG9rZW5cbiAgICAgICAgcG9zdF9kYXRhID0gbmV3IEZvcm1EYXRhKHdpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZF9vcl9mb3JtZGF0YSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcG9zdF9kYXRhID0gaWRfb3JfZm9ybWRhdGE7XG4gICAgfVxuICAgIC8vIHJlcXVlc3QgVVJMXG4gICAgbGV0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyBwYXRoO1xuICAgIGlmIChERUJVRylcbiAgICAgICAgY29uc29sZS5sb2codXJsKTtcbiAgICAvLyBmZXRjaCBQT1NUIHJlcXVlc3RcbiAgICBsZXQgcCA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgZmV0Y2godXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgICAgICAgIGJvZHk6IHBvc3RfZGF0YSxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZSdcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKERFQlVHKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgIGlmIChERUJVRylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVxdWVzdCBmYWlsZWQnLCBlcnJvcik7XG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICAvLyBBZGQgdGltZW91dFxuICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJhY2UoW1xuICAgICAgICAgICAgcCwgbmV3IFByb21pc2UoKF8sIHJlamVjdCkgPT4gc2V0VGltZW91dCgoKSA9PiByZWplY3QobmV3IEVycm9yKCd0aW1lb3V0ICcgKyB0aW1lb3V0ICsgJyBtcycpKSwgdGltZW91dCkpXG4gICAgICAgIF0pO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cbi8qIGhlbHBlciBmdW5jdGlvbiBmb3IgZmFzdCBlbGVtZW50IGFkZGluZ1xuICAgaW5wdXRzOlxuICAgIGNsYXNzZXM6IHN0cmluZyBvZiBjbGFzcyBuYW1lcyBvciBudWxsXG4gICAgY29udGVudDogdGV4dCBjb250ZW50IG9mIGVsZW1lbnQgb3IgbnVsbFxuICAgIHBhcmVudF9lbGVtOiBwYXJlbnQgb2YgZWxlbWVudCB0byBjcmVhdGUgb3IgbnVsbFxuICAgIGVsZW06IEhUTUwgZWxlbWVudCBuYW1lIChlLmcuIFwiRElWXCIpLCByZXF1aXJlZFxuICAgb3V0cHV0OiBlbGVtZW50XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEVsZW0oY2xhc3NlcywgY29udGVudCwgcGFyZW50X2VsZW0sIGVsZW0pIHtcbiAgICBsZXQgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWxlbSk7XG4gICAgaWYgKGNsYXNzZXMgIT0gbnVsbClcbiAgICAgICAgZS5jbGFzc05hbWUgPSBjbGFzc2VzO1xuICAgIGlmIChjb250ZW50ICE9IG51bGwpXG4gICAgICAgIGUuaW5uZXJUZXh0ID0gY29udGVudDtcbiAgICBpZiAocGFyZW50X2VsZW0gIT0gbnVsbClcbiAgICAgICAgcGFyZW50X2VsZW0uYXBwZW5kQ2hpbGQoZSk7XG4gICAgcmV0dXJuIGU7XG59XG4vLyBFc2NhcGVzIGEgc3RyaW5nIHRvIGJlIHVzZWQgYXMgYSB2YWx1ZSBpbiBhIENTViByb3dcbi8vXG4vLyBRdW90ZXMgKFwiKSB3aWxsIGJlIHJlcGxhY2VkIGJ5IHR3byBxdW90ZXMuXG4vLyBMaW5lIGJyZWFrcyBhbmQgY29tbWFzIGRvbid0IGhhdmUgdG8gYmUgZXNjYXBlZCBpZiB0aGUgc3RyaW5nIGlzIHN1cnJvdW5kZWQgYnkgcXVvdGVzLlxuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUNzdlN0cmluZyhpbnB1dCkge1xuICAgIC8vIFJlcGxhY2UgcXVvdGVzIGJ5IHR3byBxdW90ZXNcbiAgICBsZXQgZXNjYXBlZCA9IGlucHV0LnJlcGxhY2UoL1wiL2csICdcIlwiJyk7XG4gICAgcmV0dXJuICdcIicgKyBlc2NhcGVkICsgJ1wiJztcbn1cbi8vIEVzY2FwZXMgYSBzdHJpbmcgc28gRXhjZWwgY2FuIGNvcGUgd2l0aCBpdC4uLlxuLy9cbi8vIExpbmUgZW5kaW5ncyB3aWxsIGJlIHJlcGxhY2VkLiBFeGNlbCBjYW4gZXhwb3J0IGZpZWxkcyB3aXRoIGxpbmUgYnJlYWtzIGJ1dCBjYW4ndCBpbXBvcnQgdGhlbSBtKFxuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUNzdlN0cmluZ1VnbHkoaW5wdXQpIHtcbiAgICBsZXQgdWdseSA9IGlucHV0LnJlcGxhY2UoL1xcclxcbnxcXG5cXHJ8XFxuL2dtLCBcIjxicj5cIik7XG4gICAgcmV0dXJuIGVzY2FwZUNzdlN0cmluZyh1Z2x5KTtcbn1cbi8vIHJlcGxhY2UgSFRNTCBzeW1ib2xzIHdpdGggSlMgc2FmZSBvbmVzIGZvciBkaXNwbGF5IGluIEhUTUxcbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVIVE1MKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAgIC5yZXBsYWNlKC8mL2csICcmYW1wOycpXG4gICAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgICAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXG4gICAgICAgIC5yZXBsYWNlKC8nL2csICcmIzM5OycpO1xufVxuLy8gVGFrZXMgYW4gaW5wdXQgc3RyaW5nIGFuZCBjb252ZXJ0cyBpdCB0byBhIFN0cmluZyB0aGF0IGlzIHNhdmUgdG8gdXNlIGFzIGEgZmlsZSBuYW1lLlxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvRmlsZU5hbWUoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLy8gcmVwbGFjZSBzcGVjaWFsIGNoYXJhY3RlcnMgd2l0aCBfXG4gICAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOVxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDBGRl8tXS9nLCAnXycpXG4gICAgICAgIC8vIGNvbGxhcHNlIG11bHRpcGxlIF8gaW50byBvbmUgX1xuICAgICAgICAucmVwbGFjZSgvW19dKy9nLCAnXycpXG4gICAgICAgIC8vIHJlbW92ZSBsZWFkaW5nIGFuZCB0cmFpbGluZyBfXG4gICAgICAgIC5yZXBsYWNlKC9fJHxeXy9nLCAnJyk7XG59XG4vLyBzbGlkZXIgY2FsbGJhY2s6IHNldCBsYWJlbC92YWx1ZSBvbiBzbGlkZXIgY2hhbmdlXG5leHBvcnQgZnVuY3Rpb24gc2xpZGVyQ2hhbmdlKGUsIGEpIHtcbiAgICBsZXQgc2xpZGVyID0gZS50YXJnZXQ7IC8vIERJViBjb250YWluZXJcbiAgICBsZXQgdmFsdWVzID0gSlNPTi5wYXJzZShzbGlkZXIuZ2V0QXR0cmlidXRlKFwiX3ZhbHVlc1wiKSk7IC8vIGN1c3RvbSBhdHRyaWJ1dGVcbiAgICBsZXQgdmFsdWUgPSBhLmF0dHIoXCJhcmlhLXZhbHVlbm93XCIpOyAvLyBnZXQgc2VsZWN0ZWQgdmFsdWVcbiAgICAkKCdsYWJlbFtmb3I9XCInICsgc2xpZGVyLmlkICsgJ1wiXScpWzBdLnRleHRDb250ZW50ID0gdmFsdWVzW3ZhbHVlXVsxXTsgLy8gc2V0IGxhYmVsXG4gICAgc2xpZGVyLmxhc3RFbGVtZW50Q2hpbGQudmFsdWUgPSB2YWx1ZXNbdmFsdWVdWzBdOyAvLyBzZXQgaGlkZGVuIGlucHV0IHZhbHVlXG59XG4vLyBnZW5lcmljIGZ1bmN0aW9uIHRvIGRpc3BsYXkgcHJvZ3Jlc3Mgd2l0aCBhbnkgcHJvZ3Jlc3MgYmFyXG5leHBvcnQgZnVuY3Rpb24gc2V0UHJvZ3Jlc3NiYXJWYWx1ZShwcm9ncmVzc0VsZW1lbnQsIHBlcmNlbnQpIHtcbiAgICBwcm9ncmVzc0VsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQuc3R5bGUud2lkdGggPSBwZXJjZW50ICsgJyUnOyAvLyBtZXRlclxuICAgIHByb2dyZXNzRWxlbWVudC5sYXN0RWxlbWVudENoaWxkLnRleHRDb250ZW50ID0gcGVyY2VudCA/IHBlcmNlbnQgKyAnJScgOiBcIlwiOyAvLyB0ZXh0XG59XG4vLyBkaXNwbGF5cy9oaWRlcyBwYXNzd29yZCBpbiBmb3JtXG4vLyBpbnB1dDogaWQgb2YgaW5wdXQgZmllbGQgdG8gdG9nZ2xlIGFuZCBpY29uIGVsZW1lbnQgdGhhdCBoYXMgYmVlbiBwcmVzc2VkXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlUFdWaXNpYmlsaXR5KHB3X2lkLCBpY29uKSB7XG4gICAgdmFyIHB3RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwd19pZCk7XG4gICAgaWYgKCEocHdGaWVsZCAmJiBpY29uKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmIChwd0ZpZWxkLnR5cGUgPT0gXCJwYXNzd29yZFwiKSB7XG4gICAgICAgIHB3RmllbGQudHlwZSA9IFwidGV4dFwiO1xuICAgICAgICBpY29uLmNsYXNzTGlzdC5yZW1vdmUoXCJpb24tbWQtZXllLW9mZlwiKTtcbiAgICAgICAgaWNvbi5jbGFzc0xpc3QuYWRkKFwiaW9uLW1kLWV5ZVwiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHB3RmllbGQudHlwZSA9IFwicGFzc3dvcmRcIjtcbiAgICAgICAgaWNvbi5jbGFzc0xpc3QucmVtb3ZlKFwiaW9uLW1kLWV5ZVwiKTtcbiAgICAgICAgaWNvbi5jbGFzc0xpc3QuYWRkKFwiaW9uLW1kLWV5ZS1vZmZcIik7XG4gICAgfVxufVxuLy8gbWV0ZXJzIHRvIHBpeGVscywgYmFzZWQgb24gem9vbSBsZXZlbFxuZXhwb3J0IGZ1bmN0aW9uIG1ldGVyc0luUGl4ZWxzKG1ldGVycykge1xuICAgIGNvbnN0IEVBUlRIX0RJQU1FVEVSID0gNDAwNzUwMTYuNjg2OyAvLyBNYWdpYy4gRG9uJ3QgdG91Y2ggaXQuXG4gICAgLy9Tb3VyY2U6IGh0dHBzOi8vd2lraS5vcGVuc3RyZWV0bWFwLm9yZy93aWtpL1pvb21fbGV2ZWxzXG4gICAgY29uc3QgbWV0ZXJzUGVyUGl4ZWwgPSBFQVJUSF9ESUFNRVRFUiAqIE1hdGguYWJzKE1hdGguY29zKF9tYXAuZ2V0Q2VudGVyKCkubGF0ICogTWF0aC5QSSAvIDE4MCkpIC8gTWF0aC5wb3coMiwgX21hcC5nZXRab29tKCkgKyA4KTtcbiAgICByZXR1cm4gbWV0ZXJzIC8gbWV0ZXJzUGVyUGl4ZWw7XG59XG4vLyBsYXRsbmcgdG8gc3RyaW5nXG5leHBvcnQgZnVuY3Rpb24gZ2VvSlNPTmR1bXBzKGxhdGxuZykge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7IFwidHlwZVwiOiBcIlBvaW50XCIsIFwiY29vcmRpbmF0ZXNcIjogW2xhdGxuZy5sbmcsIGxhdGxuZy5sYXRdIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldExhdExuZ0Zyb21TdHJpbmcocykge1xuICAgIGxldCBjb29yZFJlZ2V4ID0gL14oXFxkezEsMn1bLixdXFxkKynCsChbTlNdKTsgKFxcZHsxLDN9WywuXVxcZCspwrAoW0VPV10pJC87XG4gICAgbGV0IG1hdGNoZXMgPSBzLm1hdGNoKGNvb3JkUmVnZXgpO1xuICAgIGlmICghbWF0Y2hlcylcbiAgICAgICAgdGhyb3cgXCJpbnZhbGlkIGNvb3JkaW5hdGVzXCI7XG4gICAgbGV0IGxhdCA9IE51bWJlci5wYXJzZUZsb2F0KG1hdGNoZXNbMV0ucmVwbGFjZShcIixcIiwgXCIuXCIpKTtcbiAgICBsYXQgPSBtYXRjaGVzWzJdID09IFwiU1wiID8gLWxhdCA6IGxhdDtcbiAgICBsZXQgbG5nID0gTnVtYmVyLnBhcnNlRmxvYXQobWF0Y2hlc1szXS5yZXBsYWNlKFwiLFwiLCBcIi5cIikpO1xuICAgIGxuZyA9IG1hdGNoZXNbNF0gPT0gXCJXXCIgPyAtbG5nIDogbG5nO1xuICAgIHJldHVybiB7IGxhdDogbGF0LCBsbmc6IGxuZyB9O1xufVxuLy8gcm91bmQgbnVtYmVyIHRvIGdpdmVuIGRlY2ltYWwgcGxhY2VzIGFuZCByZXR1cm4gYXMgc3RyXG5leHBvcnQgZnVuY3Rpb24gcm91bmRUb1N0cihudW0sIGRlY2ltYWxzKSB7XG4gICAgcmV0dXJuIG51bS50b0ZpeGVkKGRlY2ltYWxzKS5yZXBsYWNlKC9bLC5dMCskLywgJycpO1xufVxuLy8gbGlrZSBQeXRob24ncyBvcy5wYXRoLnNwbGl0ZXh0XG5mdW5jdGlvbiBzcGxpdEV4dChwYXRoKSB7XG4gICAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCcuJyk7XG4gICAgaWYgKHBhcnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIHJldHVybiBbcGF0aCwgJyddO1xuICAgIH1cbiAgICBlbHNlIGlmIChwYXJ0cy5sZW5ndGggPT0gMiAmJiBwYXJ0c1swXS5sZW5ndGggPT0gMCkge1xuICAgICAgICByZXR1cm4gW3BhdGgsICcnXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCByb290ID0gcGFydHMuc2xpY2UoMCwgLTEpLmpvaW4oJy4nKTtcbiAgICAgICAgbGV0IGV4dCA9ICcuJyArIHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICByZXR1cm4gW3Jvb3QsIGV4dF07XG4gICAgfVxufVxuLy8gUmV0dXJuIHRoZSBnaXZlbiBmaWxlbmFtZSB3aXRob3V0IHRoZSByYW5kb20gc3Vic3RyaW5nIGZyb20gRGphbmdvXG5leHBvcnQgZnVuY3Rpb24gZmlsZW5hbWVXaXRob3V0UmFuZChmaWxlbmFtZSkge1xuICAgIGNvbnN0IHBhcnRzID0gc3BsaXRFeHQoZmlsZW5hbWUpO1xuICAgIGNvbnN0IHJ4ID0gbmV3IFJlZ0V4cCgvX1teX10rJC8pO1xuICAgIHJldHVybiBwYXJ0c1swXS5zcGxpdChyeClbMF0gKyBwYXJ0c1sxXTtcbn1cbi8vIFJldHVybnMgbWluaW11bSBvZiB0aGUgdHdvIGFyZ3VtZW50cyBidXQgaWdub3JlcyBudWxsLCB1bmRlZmluZWQsIE5hbiB2YWx1ZXMuXG4vLyBSZXR1cm5zIG51bGwgaWYgdGhlcmUgaXMgbm8gdmFsaWQgbnVtYmVyXG5leHBvcnQgZnVuY3Rpb24gc2FmZU1pbihhLCBiKSB7XG4gICAgLy8gaGFuZGxlIHVuZGVmaW5lZCBhbmQgTmFuXG4gICAgaWYgKCh0eXBlb2YgYSA9PT0gJ3VuZGVmaW5lZCcpIHx8IGlzTmFOKGEpKSB7XG4gICAgICAgIGEgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoKHR5cGVvZiBiID09PSAndW5kZWZpbmVkJykgfHwgaXNOYU4oYikpIHtcbiAgICAgICAgYiA9IG51bGw7XG4gICAgfVxuICAgIGlmIChhID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBiO1xuICAgIH1cbiAgICBlbHNlIGlmIChiID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKGEsIGIpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBzYWZlTWF4KGEsIGIpIHtcbiAgICAvLyBoYW5kbGUgdW5kZWZpbmVkIGFuZCBOYW5cbiAgICBpZiAodHlwZW9mIGEgPT09ICd1bmRlZmluZWQnIHx8IGlzTmFOKGEpKSB7XG4gICAgICAgIGEgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGIgPT09ICd1bmRlZmluZWQnIHx8IGlzTmFOKGIpKSB7XG4gICAgICAgIGIgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoYSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gYjtcbiAgICB9XG4gICAgZWxzZSBpZiAoYiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heChhLCBiKTtcbiAgICB9XG59XG4vLyBjcmVhdGUgY29sb3IgZ3JhZGllbnQgZGVwZW5kaW5nIG9uIGNvbG9ybWFwIG5hbWUgaW4gY2hyb21hLmJyZXdlclxuZXhwb3J0IGZ1bmN0aW9uIGNvbG9ybWFwVG9HcmFkaWVudChuYW1lKSB7XG4gICAgbGV0IGdyYWQgPSB7fTtcbiAgICBsZXQgY29sb3JtYXAgPSBjaHJvbWEuYnJld2VyW25hbWVdIHx8IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sb3JtYXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZ3JhZFtpIC8gKGNvbG9ybWFwLmxlbmd0aCAtIDEuMCldID0gY29sb3JtYXBbaV07XG4gICAgfVxuICAgIHJldHVybiBncmFkO1xufVxuLy8gYnVpbGQgQ1NTIGdyYWRpZW50IHN0cmluZyBmcm9tIGNvbG9ybWFwIGFycmF5LiBBZGp1c3RhYmxlIGRpcmVjdGlvbi5cbmV4cG9ydCBmdW5jdGlvbiBjb2xvcm1hcFRvQ1NTR3JhZGllbnQoY29sb3JtYXBBcnIsIGRpcmVjdGlvbiA9ICd0byB0b3AnKSB7XG4gICAgbGV0IGNvbHMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbG9ybWFwQXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCB0ID0gMTAwLjAgKiBpIC8gKGNvbG9ybWFwQXJyLmxlbmd0aCAtIDEpO1xuICAgICAgICBjb2xzLnB1c2goXCJyZ2JhKFwiICsgY2hyb21hKGNvbG9ybWFwQXJyW2ldKS5yZ2JhKCkudG9TdHJpbmcoKSArIFwiKSBcIiArIHQgKyAnJScpO1xuICAgIH1cbiAgICByZXR1cm4gXCJsaW5lYXItZ3JhZGllbnQoXCIgKyBkaXJlY3Rpb24gKyAnLCcgKyBjb2xzLmpvaW4oJywnKSArICcpJztcbn1cbi8vIGdldCBjb250ZXh0IG1lbnUgSFRNTCBpdGVtIGJ5IHNob3duIGxhYmVsXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q01JdGVtQnlMYWJlbChsYWJlbCkge1xuICAgIGZvciAobGV0IGl0ZW0gb2YgX21hcC5jb250ZXh0bWVudS5faXRlbXMpIHtcbiAgICAgICAgaWYgKGl0ZW0uZWwuaW5uZXJUZXh0ID09PSBsYWJlbCkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZWw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgO1xuICAgIHJldHVybiBudWxsO1xufVxuIl19
