{% extends 'shared/three_split.html' %} 
{% load static %} 
{% load leaflet_tags %} 
{% load geojson_tags %} 
{% block css %} 
{{ block.super }}


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.fullscreen/1.4.2/Control.FullScreen.min.css">
    <link rel="stylesheet" href="{% static 'swn/css/user_dashboard.css' %}"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.control.min.css" />
    <link rel="stylesheet" href="{% static 'swn/css/leaflet.contextmenu.css' %}"/>


{% endblock css %} 


{% block right_panel %}
        <div id="map" style="height: 100%; width: 100%"></div>
{% endblock right_panel %}

{% block left_panel %}
    <div id="timelapseControl" class="">

        <select id='datasetSelector' class="form-select" aria-label="datasetSelector-label">
            
            {% for dataset in catalog_json %}
                <option value="{{ dataset.name }}">{{ dataset.name }}</option>
                
            {% endfor %}
        </select>

        <select id='netcdfVariableSelector' class="form-select" aria-label="netcdfVariableSelector-label"></select>

            
        <div class="input-daterange input-group" id="datepicker" style="display: none">
            <input type="text" id="startDatePicker" class="input-sm form-control" name="start" />
            <span class="input-group-addon  px-3"> bis </span>
            <input type="text" id="endDatePicker" class="input-sm form-control" name="end" />
        </div>
        <button class="btn btn-primary" id="loadNetCDFButton">Load Timeseries</button>
        
    </div>
    <script>
        var netcdfVariableSelector = document.getElementById('netcdfVariableSelector');
        var datasetSelector = document.getElementById('datasetSelector');
        var loadNetCDFButton = document.getElementById('loadNetCDFButton')
        

    </script>
{% endblock left_panel %}





{% block javascript %}
    {{ block.super }}
    
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="crossorigin=""></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/iso8601-js-period@0.2.1/iso8601.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.min.js"></script>
    <script type="text/javascript" src="{% static 'swn/js/bootstrap-datepicker.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'swn/js/bootstrap-datepicker.de.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'swn/js/leaflet.contextmenu.js' %}"></script>
    <script type="text/javascript" src="{% static 'klim4cast/js/map_thredds_klim4cast.js' %}"></script>
{% endblock %}

