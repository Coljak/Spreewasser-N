{% extends "swn/base.html" %}
{% load static %}
{% load static %} 
{% load leaflet_tags %} 
{% load geojson_tags %} 
{% block css %} 
{{ block.super }}


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.fullscreen/1.4.2/Control.FullScreen.min.css">
    <link rel="stylesheet" href="{% static 'swn/css/user_dashboard.css' %}"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.control.min.css" />
    <link rel="stylesheet" href="{% static 'vendor/leaflet/leaflet.contextmenu.css' %}"/>


{% endblock css %} 

{% block body_block %}


        
<div class="container py-5" style="height: 100%;">
    <div class="row" style="height: 100%;">
        <div class="col-4">
        
    <div class="card">
        <div class="card-header text-white bg-primary">Title</div>
        <div class="card-body card-body-fixed-height">

            <div id="timelapseControl" >

                    <select id='datasetSelector' class="form-select" aria-label="datasetSelector-label">
            
                {% for dataset in catalog_json %}
                    <option value="{{ dataset.name }}">{{ dataset.name }}</option>
                    
                {% endfor %}
                </select>

                <select id='netcdfVariableSelector' class="form-select" aria-label="netcdfVariableSelector-label"></select>

            
                <div class="input-daterange input-group" id="datepicker" style="display: none;">
                    <input type="text" id="startDatePicker" class="input-sm form-control" name="start" />
                    <span class="input-group-addon  px-3"> bis </span>
                    <input type="text" id="endDatePicker" class="input-sm form-control" name="end" />
                </div> 
                <button class="btn btn-primary" id="loadNetCDFButton">Load Timeseries</button>
        
            </div>
        </div>
    </div>
</div>
<div class="col-md-8">

    <div id="map" style="height: 100%; width: 100%"></div>
</div>
</div>
<script>
    var netcdfVariableSelector = document.getElementById('netcdfVariableSelector');
    var datasetSelector = document.getElementById('datasetSelector');
    var loadNetCDFButton = document.getElementById('loadNetCDFButton')
    

</script>


    {% endblock body_block %}



{% block javascript %}
    {{ block.super }}
    
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="crossorigin=""></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/iso8601-js-period@0.2.1/iso8601.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.min.js"></script>
    <script type="text/javascript" src="{% static 'vendor/bootstrap/bootstrap-datepicker.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'vendor/bootstrap/bootstrap-datepicker.de.min.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.1/dist/chart.umd.min.js" defer></script>
    <script type="text/javascript" src="{% static 'vendor/leaflet/leaflet.contextmenu.js' %}"></script>
    <script type="text/javascript" src="{% static 'klim4cast/js/map_thredds_klim4cast.js' %}"></script>
{% endblock %}
