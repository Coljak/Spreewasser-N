<!-- user dashboard -->
{% extends "swn/base.html" %}
{% load static %}

{% load leaflet_tags %}
{% load geojson_tags %}
{% load crispy_forms_tags %}


{% block css %}
  {% leaflet_css %}
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-draw@1.0.4/dist/leaflet.draw.css">
  
  <link rel="stylesheet" href="{% static 'leaflet/fullscreen/Control.FullScreen.css' %}" />
  <link rel="stylesheet" href="{% static 'leaflet/markercluster/MarkerCluster.css' %}">
  <link rel="stylesheet" href="{% static 'leaflet/markercluster/MarkerCluster.Default.css' %}">
  <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"/>
  
  <link rel="stylesheet" href="{% static 'swn/src/virtual-select.min.css' %}" />
  <link rel="stylesheet" href="{% static 'swn/css/leaflet-sidebar.min.css' %}" />
  <link rel="stylesheet" href="{% static 'swn/css/user_dashboard.css' %}" />
{% endblock css %}

{% block body_block %}
<!-- modal -->


  {% comment %} {% include 'swn/modal_project.html' %} {% endcomment %}
  {% include 'swn/modal_field_name.html' %}
  {% include 'swn/modal_field_menu.html' %} 
  {% comment %} <script>const fieldMenuModal = document.getElementById('fieldMenuModal')</script>  {% endcomment %}


<!-- map -->

<div id="map-container" class="container" >
  {% include 'swn/sidebar.html' %}
  <div id="map" > 
  
</div>


{% endblock %}
{% block javascript %}
{{ bock.super }}
 
    <script>
      const demUrl= "{% static 'data/dem_3857.png' %}"
      console.log("demUrl", demUrl)
      const droughtUrl= "{% static 'data/4326_reprojected_3857.png' %}" 
      const toolboxUrl= "{% static 'data/soil_4326_rendered_image_2.png' %}"
      const toolboxSinksUrl = "{% static 'data/sinks_3857_pink.png' %}"
    
    </script>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="{% static './leaflet/print/leaflet.browser.print.min.js' %}"></script>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
  
    <script src="{% static 'leaflet/fullscreen/Control.FullScreen.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-draw@1.0.4/dist/leaflet.draw.js"></script>
    <script src="{% static 'leaflet/highlightable/highlightableLayers.js' %}"></script>

    <!-- Tiff overlay -->
    
    
    <script src="https://unpkg.com/chroma-js"></script>
    <script src="https://unpkg.com/georaster"></script>
    <script src="https://unpkg.com/proj4"></script>
    <script src="{% static 'leaflet/georaster/georaster-layer-for-leaflet.min.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>
    <script src="{% static 'swn/js/leaflet-sidebar.min.js' %}"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.1/dist/chart.umd.min.js" defer></script>
    
    <script type="text/javascript" src="{% static 'swn/src/virtual-select.js' %}"></script>
    <script src="{% static 'swn/js/user_dashboard.js' %}" type="module"></script>
    <script src="{% static 'swn/js/chart_page.js' %}" defer></script>
{% endblock%}
